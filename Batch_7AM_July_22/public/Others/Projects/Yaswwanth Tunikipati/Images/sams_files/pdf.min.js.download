!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],t):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=t():e["pdfjs-dist/build/pdf"]=e.pdfjsLib=t()}(this,function(){return function(){function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e](r,r.exports,__w_pdfjs_require__),r.loaded=!0,r.exports}var __webpack_modules__=[,function(e,t,r){"use strict";function n(e){return o(e)||i(e)||h(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function o(e){if(Array.isArray(e))return d(e)}function s(e,t){return c(e)||u(e,t)||h(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}function c(e){if(Array.isArray(e))return e}function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=h(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e){"@babel/helpers - typeof";return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=k();return function(){var r,n=x(e);if(t){var a=x(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return A(this,r)}}function A(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){Number.isInteger(e)&&(xe=e)}function C(){return xe}function P(e){xe>=be.INFOS&&console.log("Info: ".concat(e))}function T(e){if(xe>=be.WARNINGS){var t="Warning: ".concat(e);"undefined"==typeof we[t]&&(we[t]=1,e.stack&&(t="Warning: ".concat(e," ").concat(e.stack)),console.log(t))}}function O(e){throw new Error(e)}function E(e,t){e||O(t)}function F(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(r&&"string"==typeof e){if(r.addDefaultProtocol&&e.startsWith("www.")){var n=e.match(/\./g);n&&n.length>=2&&(e="http://".concat(e))}if(r.tryConvertEncoding)try{e=X(e)}catch(e){}}var a=t?new URL(e,t):new URL(e);if(F(a))return a}catch(e){}return null}function M(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!1}),r}function I(e){"object"===p(e)&&null!==e&&void 0!==e.length||O("Invalid argument for bytesToString");var t=e.length,r=8192;if(t<r)return String.fromCharCode.apply(null,e);for(var n=[],a=0;a<t;a+=r){var i=Math.min(a+r,t),o=e.subarray(a,i);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function D(e){"string"!=typeof e&&O("Invalid argument for stringToBytes");for(var t=e.length,r=new Uint8Array(t),n=0;n<t;++n)r[n]=255&e.charCodeAt(n);return r}function j(e){return void 0!==e.length?e.length:void 0!==e.byteLength?e.byteLength:void O("Invalid argument for arrayByteLength")}function L(e){var t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];for(var r=0,n=0;n<t;n++)r+=j(e[n]);for(var a=0,i=new Uint8Array(r),o=0;o<t;o++){var s=e[o];s instanceof Uint8Array||(s="string"==typeof s?D(s):new Uint8Array(s));var l=s.byteLength;i.set(s,a),a+=l}return i}function N(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function U(e){return Object.keys(e).length}function B(e){var t,r=Object.create(null),n=f(e);try{for(n.s();!(t=n.n()).done;){var a=s(t.value,2),i=a[0],o=a[1];r[i]=o}}catch(e){n.e(e)}finally{n.f()}return r}function W(){var e=new Uint8Array(4);e[0]=1;var t=new Uint32Array(e.buffer,0,1);return 1===t[0]}function G(){try{return new Function(""),!0}catch(e){return!1}}function q(e){if(e[0]>="ï"){var t;if("þ"===e[0]&&"ÿ"===e[1]?t="utf-16be":"ÿ"===e[0]&&"þ"===e[1]?t="utf-16le":"ï"===e[0]&&"»"===e[1]&&"¿"===e[2]&&(t="utf-8"),t)try{var r=new TextDecoder(t,{fatal:!0}),n=D(e);return r.decode(n)}catch(e){T('stringToPDFString: "'.concat(e,'".'))}}for(var a=[],i=0,o=e.length;i<o;i++){var s=Le[e.charCodeAt(i)];a.push(s?String.fromCharCode(s):e.charAt(i))}return a.join("")}function H(e){return e.replace(/([()\\\n\r])/g,function(e){return"\n"===e?"\\n":"\r"===e?"\\r":"\\".concat(e)})}function z(e){return/^[\x00-\x7F]*$/.test(e)}function V(e){for(var t=["þÿ"],r=0,n=e.length;r<n;r++){var a=e.charCodeAt(r);t.push(String.fromCharCode(a>>8&255),String.fromCharCode(255&a))}return t.join("")}function X(e){return decodeURIComponent(escape(e))}function Y(e){return unescape(encodeURIComponent(e))}function K(e){return"object"===p(e)&&null!==e&&void 0!==e.byteLength}function J(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")];return t.join("")}function $(){var e=Object.create(null),t=!1;return Object.defineProperty(e,"settled",{get:function(){return t}}),e.promise=new Promise(function(r,n){e.resolve=function(e){t=!0,r(e)},e.reject=function(e){t=!0,n(e)}}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.UNSUPPORTED_FEATURES=t.TextRenderingMode=t.StreamType=t.RenderingIntentFlag=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.Base64=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.arrayByteLength=j,t.arraysToBytes=L,t.assert=E,t.bytesToString=I,t.createPromiseCapability=$,t.createValidAbsoluteUrl=R,t.escapeString=H,t.getModificationDate=Q,t.getVerbosityLevel=C,t.info=P,t.isArrayBuffer=K,t.isArrayEqual=J,t.isAscii=z,t.objectFromMap=B,t.objectSize=U,t.setVerbosityLevel=w,t.shadow=M,t.string32=N,t.stringToBytes=D,t.stringToPDFString=q,t.stringToUTF16BEString=V,t.stringToUTF8String=X,t.unreachable=O,t.utf8StringToString=Y,t.warn=T,r(2);var Z=[1,0,0,1,0,0];t.IDENTITY_MATRIX=Z;var ee=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=ee;var te={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};t.RenderingIntentFlag=te;var re={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};t.AnnotationMode=re;var ne={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=ne;var ae={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=ae;var ie={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=ie;var oe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=oe;var se={MARKED:"Marked",REVIEW:"Review"};t.AnnotationStateModelType=se;var le={MARKED:"Marked",UNMARKED:"Unmarked"};t.AnnotationMarkedState=le;var ue={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};t.AnnotationReviewState=ue;var ce={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=ce;var fe={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=fe;var he={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=he;var de={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=de;var pe={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.AnnotationActionEventType=pe;var ve={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.DocumentActionEventType=ve;var ye={O:"PageOpen",C:"PageClose"};t.PageActionEventType=ye;var ge={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};t.StreamType=ge;var me={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};t.FontType=me;var be={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=be;var _e={NONE:0,BINARY:1,STREAM:2};t.CMapCompressionType=_e;var Ae={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=Ae;var Se={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};t.UNSUPPORTED_FEATURES=Se;var ke={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=ke;var xe=be.WARNINGS,we={},Ce=function(){function e(t,r){this.constructor===e&&O("Cannot initialize BaseException."),this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();t.BaseException=Ce;var Pe=function(e){function t(e,n){var a;return g(this,t),a=r.call(this,e,"PasswordException"),a.code=n,a}m(t,e);var r=_(t);return y(t)}(Ce);t.PasswordException=Pe;var Te=function(e){function t(e,n){var a;return g(this,t),a=r.call(this,e,"UnknownErrorException"),a.details=n,a}m(t,e);var r=_(t);return y(t)}(Ce);t.UnknownErrorException=Te;var Oe=function(e){function t(e){return g(this,t),r.call(this,e,"InvalidPDFException")}m(t,e);var r=_(t);return y(t)}(Ce);t.InvalidPDFException=Oe;var Ee=function(e){function t(e){return g(this,t),r.call(this,e,"MissingPDFException")}m(t,e);var r=_(t);return y(t)}(Ce);t.MissingPDFException=Ee;var Fe=function(e){function t(e,n){var a;return g(this,t),a=r.call(this,e,"UnexpectedResponseException"),a.status=n,a}m(t,e);var r=_(t);return y(t)}(Ce);t.UnexpectedResponseException=Fe;var Re=function(e){function t(e){return g(this,t),r.call(this,e,"FormatError")}m(t,e);var r=_(t);return y(t)}(Ce);t.FormatError=Re;var Me=function(e){function t(e){return g(this,t),r.call(this,e,"AbortException")}m(t,e);var r=_(t);return y(t)}(Ce);t.AbortException=Me;var Ie=function(){function e(){g(this,e)}return y(e,null,[{key:"isLittleEndian",get:function(){return M(this,"isLittleEndian",W())}},{key:"isEvalSupported",get:function(){return M(this,"isEvalSupported",G())}},{key:"isOffscreenCanvasSupported",get:function(){return M(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}}]),e}();t.FeatureTest=Ie;var De=n(Array(256).keys()).map(function(e){return e.toString(16).padStart(2,"0")}),je=function(){function e(){g(this,e)}return y(e,null,[{key:"makeHexColor",value:function(e,t,r){return"#".concat(De[e]).concat(De[t]).concat(De[r])}},{key:"scaleMinMax",value:function(e,t){var r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[1],t[1]=r),t[0]*=e[0],t[1]*=e[0],e[3]<0&&(r=t[2],t[2]=t[3],t[3]=r),t[2]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[2],t[2]=r,r=t[1],t[1]=t[3],t[3]=r,e[1]<0&&(r=t[2],t[2]=t[3],t[3]=r),t[2]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[1],t[1]=r),t[0]*=e[2],t[1]*=e[2]),t[0]+=e[4],t[1]+=e[4],t[2]+=e[5],t[3]+=e[5]}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){var r=e[0]*t[0]+e[1]*t[2]+t[4],n=e[0]*t[1]+e[1]*t[3]+t[5];return[r,n]}},{key:"applyInverseTransform",value:function(e,t){var r=t[0]*t[3]-t[1]*t[2],n=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,a=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[n,a]}},{key:"getAxialAlignedBoundingBox",value:function(t,r){var n=e.applyTransform(t,r),a=e.applyTransform(t.slice(2,4),r),i=e.applyTransform([t[0],t[3]],r),o=e.applyTransform([t[2],t[1]],r);return[Math.min(n[0],a[0],i[0],o[0]),Math.min(n[1],a[1],i[1],o[1]),Math.max(n[0],a[0],i[0],o[0]),Math.max(n[1],a[1],i[1],o[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"apply3dTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],n=e[0]*t[1]+e[1]*t[3],a=e[2]*t[0]+e[3]*t[2],i=e[2]*t[1]+e[3]*t[3],o=(r+i)/2,s=Math.sqrt(Math.pow(r+i,2)-4*(r*i-a*n))/2,l=o+s||1,u=o-s||1;return[Math.sqrt(l),Math.sqrt(u)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(e,t){var r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),n=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>n)return null;var a=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),i=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return a>i?null:[r,a,n,i]}},{key:"bezierBoundingBox",value:function(e,t,r,a,i,o,s,l){for(var u,c,f,h,d,p,v,y,g=[],m=[[],[]],b=0;b<2;++b)if(0===b?(c=6*e-12*r+6*i,u=-3*e+9*r-9*i+3*s,f=3*r-3*e):(c=6*t-12*a+6*o,u=-3*t+9*a-9*o+3*l,f=3*a-3*t),Math.abs(u)<1e-12){if(Math.abs(c)<1e-12)continue;h=-f/c,0<h&&h<1&&g.push(h)}else v=c*c-4*f*u,y=Math.sqrt(v),v<0||(d=(-c+y)/(2*u),0<d&&d<1&&g.push(d),p=(-c-y)/(2*u),0<p&&p<1&&g.push(p));for(var _,A=g.length,S=A;A--;)h=g[A],_=1-h,m[0][A]=_*_*_*e+3*_*_*h*r+3*_*h*h*i+h*h*h*s,m[1][A]=_*_*_*t+3*_*_*h*a+3*_*h*h*o+h*h*h*l;return m[0][S]=e,m[1][S]=t,m[0][S+1]=s,m[1][S+1]=l,m[0].length=m[1].length=S+2,[Math.min.apply(Math,n(m[0])),Math.min.apply(Math,n(m[1])),Math.max.apply(Math,n(m[0])),Math.max.apply(Math,n(m[1]))]}}]),e}();t.Util=je;var Le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],Ne=function(){function e(e){var t="";e=e.replace(/\r\n/g,"\n");for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}function t(e){var t,r,n,a="",i=0;for(t=r=0;i<e.length;)t=e.charCodeAt(i),t<128?(a+=String.fromCharCode(t),i++):t>191&&t<224?(r=e.charCodeAt(i+1),a+=String.fromCharCode((31&t)<<6|63&r),i+=2):(r=e.charCodeAt(i+1),n=e.charCodeAt(i+2),a+=String.fromCharCode((15&t)<<12|(63&r)<<6|63&n),i+=3);return a}var r={},n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return r.encode=function(t){var r,a,i,o,s,l,u,c="",f=0;for(t=e(t);f<t.length;)r=t.charCodeAt(f++),a=t.charCodeAt(f++),i=t.charCodeAt(f++),o=r>>2,s=(3&r)<<4|a>>4,l=(15&a)<<2|i>>6,u=63&i,isNaN(a)?l=u=64:isNaN(i)&&(u=64),c=c+n.charAt(o)+n.charAt(s)+n.charAt(l)+n.charAt(u);return c},r.decode=function(e){var r,a,i,o,s,l,u,c="",f=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");f<e.length;)o=n.indexOf(e.charAt(f++)),s=n.indexOf(e.charAt(f++)),l=n.indexOf(e.charAt(f++)),u=n.indexOf(e.charAt(f++)),r=o<<2|s>>4,a=(15&s)<<4|l>>2,i=(3&l)<<6|u,c+=String.fromCharCode(r),64!==l&&(c+=String.fromCharCode(a)),64!==u&&(c+=String.fromCharCode(i));return c=t(c)},r}();t.Base64=Ne},function(e,t,r){"use strict";var n=r(3);globalThis._pdfjsCompatibilityChecked||(globalThis._pdfjsCompatibilityChecked=!0,function(){!globalThis.btoa&&n.isNodeJS&&(globalThis.btoa=function(e){return Buffer.from(e,"binary").toString("base64")})}(),function(){!globalThis.atob&&n.isNodeJS&&(globalThis.atob=function(e){return Buffer.from(e,"base64").toString("binary")})}(),function(){!globalThis.DOMMatrix&&n.isNodeJS&&(globalThis.DOMMatrix=require("dommatrix/dist/dommatrix.js"))}(),function(){globalThis.Promise.allSettled||(globalThis.Promise=r(4))}(),function(){!globalThis.ReadableStream&&n.isNodeJS&&(globalThis.ReadableStream=require("web-streams-polyfill/dist/ponyfill.js").ReadableStream)}(),function(){globalThis.structuredClone||r(137)}())},function(e,t){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var n=!("object"!==("undefined"==typeof process?"undefined":r(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=n},function(e,t,r){r(5),r(91),r(97),r(99),r(131),r(132),r(133),r(134);var n=r(136);e.exports=n.Promise},function(e,t,r){r(6)},function(e,t,r){"use strict";var n=r(7),a=r(8),i=r(27),o=r(69),s=r(71),l=r(57),u=r(73),c=r(46),f=r(15),h=r(77),d=r(78),p=r(79),v=r(88),y=r(36),g=r(90),m=y("toStringTag"),b=a.Error,_=[].push,A=function(e,t){var r,n=arguments.length>2?arguments[2]:void 0,a=i(S,this);s?r=s(new b,a?o(this):S):(r=a?this:u(S),c(r,m,"Error")),void 0!==t&&c(r,"message",v(t)),g&&c(r,"stack",h(r.stack,1)),d(r,n);var l=[];return p(e,_,{that:l}),c(r,"errors",l),r};s?s(A,b):l(A,b,{name:!0});var S=A.prototype=u(b.prototype,{constructor:f(1,A),message:f(1,""),name:f(1,"AggregateError")});n({global:!0},{AggregateError:A})},function(e,t,r){var n=r(8),a=r(9).f,i=r(46),o=r(50),s=r(40),l=r(57),u=r(68);e.exports=function(e,t){var r,c,f,h,d,p,v=e.target,y=e.global,g=e.stat;if(c=y?n:g?n[v]||s(v,{}):(n[v]||{}).prototype)for(f in t){if(d=t[f],e.noTargetGet?(p=a(c,f),h=p&&p.value):h=c[f],r=u(y?f:v+(g?".":"#")+f,e.forced),!r&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(e.sham||h&&h.sham)&&i(d,"sham",!0),o(c,f,d,e)}}},function(e){var t=function(e){return e&&e.Math==Math&&e};e.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(e,t,r){var n=r(10),a=r(12),i=r(14),o=r(15),s=r(16),l=r(21),u=r(41),c=r(44),f=Object.getOwnPropertyDescriptor;t.f=n?f:function(e,t){if(e=s(e),t=l(t),c)try{return f(e,t)}catch(e){}if(u(e,t))return o(!a(i.f,e,t),e[t])}},function(e,t,r){var n=r(11);e.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(13),a=Function.prototype.call;e.exports=n?a.bind(a):function(){return a.apply(a,arguments)}},function(e,t,r){var n=r(11);e.exports=!n(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},function(e,t){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!r.call({1:2},1);t.f=a?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(17),a=r(20);e.exports=function(e){return n(a(e))}},function(e,t,r){var n=r(8),a=r(18),i=r(11),o=r(19),s=n.Object,l=a("".split);e.exports=i(function(){return!s("z").propertyIsEnumerable(0)})?function(e){return"String"==o(e)?l(e,""):s(e)}:s},function(e,t,r){var n=r(13),a=Function.prototype,i=a.bind,o=a.call,s=n&&i.bind(o,o);e.exports=n?function(e){return e&&s(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},function(e,t,r){var n=r(18),a=n({}.toString),i=n("".slice);e.exports=function(e){return i(a(e),8,-1)}},function(e,t,r){var n=r(8),a=n.TypeError;e.exports=function(e){if(void 0==e)throw a("Can't call method on "+e);return e}},function(e,t,r){var n=r(22),a=r(25);e.exports=function(e){var t=n(e,"string");return a(t)?t:t+""}},function(e,t,r){var n=r(8),a=r(12),i=r(23),o=r(25),s=r(32),l=r(35),u=r(36),c=n.TypeError,f=u("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var r,n=s(e,f);if(n){if(void 0===t&&(t="default"),r=a(n,e,t),!i(r)||o(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},function(e,t,r){var n=r(24);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},function(e){e.exports=function(e){return"function"==typeof e}},function(e,t,r){var n=r(8),a=r(26),i=r(24),o=r(27),s=r(28),l=n.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=a("Symbol");return i(t)&&o(t.prototype,l(e))}},function(e,t,r){var n=r(8),a=r(24),i=function(e){return a(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e]):n[e]&&n[e][t]}},function(e,t,r){var n=r(18);e.exports=n({}.isPrototypeOf)},function(e,t,r){var n=r(29);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,r){var n=r(30),a=r(11);e.exports=!!Object.getOwnPropertySymbols&&!a(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41})},function(e,t,r){var n,a,i=r(8),o=r(31),s=i.process,l=i.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(n=c.split("."),a=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!a&&o&&(n=o.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/),n&&(a=+n[1]))),e.exports=a},function(e,t,r){var n=r(26);e.exports=n("navigator","userAgent")||""},function(e,t,r){var n=r(33);e.exports=function(e,t){var r=e[t];return null==r?void 0:n(r)}},function(e,t,r){var n=r(8),a=r(24),i=r(34),o=n.TypeError;e.exports=function(e){if(a(e))return e;throw o(i(e)+" is not a function")}},function(e,t,r){var n=r(8),a=n.String;e.exports=function(e){try{return a(e)}catch(e){return"Object"}}},function(e,t,r){var n=r(8),a=r(12),i=r(24),o=r(23),s=n.TypeError;e.exports=function(e,t){var r,n;if("string"===t&&i(r=e.toString)&&!o(n=a(r,e)))return n;if(i(r=e.valueOf)&&!o(n=a(r,e)))return n;if("string"!==t&&i(r=e.toString)&&!o(n=a(r,e)))return n;throw s("Can't convert object to primitive value")}},function(e,t,r){var n=r(8),a=r(37),i=r(41),o=r(43),s=r(29),l=r(28),u=a("wks"),c=n.Symbol,f=c&&c.for,h=l?c:c&&c.withoutSetter||o;e.exports=function(e){if(!i(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&i(c,e)?u[e]=c[e]:l&&f?u[e]=f(t):u[e]=h(t)}return u[e]}},function(e,t,r){var n=r(38),a=r(39);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.3",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.3/LICENSE",source:"https://github.com/zloirock/core-js"})},function(e){e.exports=!1},function(e,t,r){var n=r(8),a=r(40),i="__core-js_shared__",o=n[i]||a(i,{});e.exports=o},function(e,t,r){var n=r(8),a=Object.defineProperty;e.exports=function(e,t){try{a(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},function(e,t,r){var n=r(18),a=r(42),i=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(a(e),t)}},function(e,t,r){var n=r(8),a=r(20),i=n.Object;e.exports=function(e){return i(a(e))}},function(e,t,r){var n=r(18),a=0,i=Math.random(),o=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++a+i,36)}},function(e,t,r){var n=r(10),a=r(11),i=r(45);e.exports=!n&&!a(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(8),a=r(23),i=n.document,o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){var n=r(10),a=r(47),i=r(15);e.exports=n?function(e,t,r){return a.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(8),a=r(10),i=r(44),o=r(48),s=r(49),l=r(21),u=n.TypeError,c=Object.defineProperty,f=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",p="writable";t.f=a?o?function(e,t,r){if(s(e),t=l(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&p in r&&!r[p]){var n=f(e,t);n&&n[p]&&(e[t]=r.value,r={configurable:d in r?r[d]:n[d],enumerable:h in r?r[h]:n[h],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(s(e),t=l(t),s(r),i)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(10),a=r(11);e.exports=n&&a(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},function(e,t,r){var n=r(8),a=r(23),i=n.String,o=n.TypeError;e.exports=function(e){if(a(e))return e;throw o(i(e)+" is not an object")}},function(e,t,r){var n=r(8),a=r(24),i=r(41),o=r(46),s=r(40),l=r(51),u=r(52),c=r(56).CONFIGURABLE,f=u.get,h=u.enforce,d=String(String).split("String");(e.exports=function(e,t,r,l){var u,f=!!l&&!!l.unsafe,p=!!l&&!!l.enumerable,v=!!l&&!!l.noTargetGet,y=l&&void 0!==l.name?l.name:t;return a(r)&&("Symbol("===String(y).slice(0,7)&&(y="["+String(y).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(r,"name")||c&&r.name!==y)&&o(r,"name",y),u=h(r),u.source||(u.source=d.join("string"==typeof y?y:""))),e===n?void(p?e[t]=r:s(t,r)):(f?!v&&e[t]&&(p=!0):delete e[t],void(p?e[t]=r:o(e,t,r)))})(Function.prototype,"toString",function(){return a(this)&&f(this).source||l(this)})},function(e,t,r){var n=r(18),a=r(24),i=r(39),o=n(Function.toString);a(i.inspectSource)||(i.inspectSource=function(e){return o(e)}),e.exports=i.inspectSource},function(e,t,r){var n,a,i,o=r(53),s=r(8),l=r(18),u=r(23),c=r(46),f=r(41),h=r(39),d=r(54),p=r(55),v="Object already initialized",y=s.TypeError,g=s.WeakMap,m=function(e){return i(e)?a(e):n(e,{})},b=function(e){return function(t){var r;if(!u(t)||(r=a(t)).type!==e)throw y("Incompatible receiver, "+e+" required");return r}};if(o||h.state){var _=h.state||(h.state=new g),A=l(_.get),S=l(_.has),k=l(_.set);n=function(e,t){if(S(_,e))throw new y(v);return t.facade=e,k(_,e,t),t},a=function(e){return A(_,e)||{}},i=function(e){return S(_,e)}}else{var x=d("state");p[x]=!0,n=function(e,t){if(f(e,x))throw new y(v);return t.facade=e,c(e,x,t),t},a=function(e){return f(e,x)?e[x]:{}},i=function(e){return f(e,x)}}e.exports={set:n,get:a,has:i,enforce:m,
getterFor:b}},function(e,t,r){var n=r(8),a=r(24),i=r(51),o=n.WeakMap;e.exports=a(o)&&/native code/.test(i(o))},function(e,t,r){var n=r(37),a=r(43),i=n("keys");e.exports=function(e){return i[e]||(i[e]=a(e))}},function(e){e.exports={}},function(e,t,r){var n=r(10),a=r(41),i=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,s=a(i,"name"),l=s&&"something"===function(){}.name,u=s&&(!n||n&&o(i,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},function(e,t,r){var n=r(41),a=r(58),i=r(9),o=r(47);e.exports=function(e,t,r){for(var s=a(t),l=o.f,u=i.f,c=0;c<s.length;c++){var f=s[c];n(e,f)||r&&n(r,f)||l(e,f,u(t,f))}}},function(e,t,r){var n=r(26),a=r(18),i=r(59),o=r(67),s=r(49),l=a([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(s(e)),r=o.f;return r?l(t,r(e)):t}},function(e,t,r){var n=r(60),a=r(66),i=a.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){var n=r(18),a=r(41),i=r(16),o=r(61).indexOf,s=r(55),l=n([].push);e.exports=function(e,t){var r,n=i(e),u=0,c=[];for(r in n)!a(s,r)&&a(n,r)&&l(c,r);for(;t.length>u;)a(n,r=t[u++])&&(~o(c,r)||l(c,r));return c}},function(e,t,r){var n=r(16),a=r(62),i=r(64),o=function(e){return function(t,r,o){var s,l=n(t),u=i(l),c=a(o,u);if(e&&r!=r){for(;u>c;)if(s=l[c++],s!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,r){var n=r(63),a=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?a(r+t,0):i(r,t)}},function(e){var t=Math.ceil,r=Math.floor;e.exports=function(e){var n=+e;return n!==n||0===n?0:(n>0?r:t)(n)}},function(e,t,r){var n=r(65);e.exports=function(e){return n(e.length)}},function(e,t,r){var n=r(63),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(11),a=r(24),i=/#|\.prototype\./,o=function(e,t){var r=l[s(e)];return r==c||r!=u&&(a(t)?n(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},l=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},function(e,t,r){var n=r(8),a=r(41),i=r(24),o=r(42),s=r(54),l=r(70),u=s("IE_PROTO"),c=n.Object,f=c.prototype;e.exports=l?c.getPrototypeOf:function(e){var t=o(e);if(a(t,u))return t[u];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof c?f:null}},function(e,t,r){var n=r(11);e.exports=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,r){var n=r(18),a=r(49),i=r(72);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return a(r),i(n),t?e(r,n):r.__proto__=n,r}}():void 0)},function(e,t,r){var n=r(8),a=r(24),i=n.String,o=n.TypeError;e.exports=function(e){if("object"==typeof e||a(e))return e;throw o("Can't set "+i(e)+" as a prototype")}},function(e,t,r){var n,a=r(49),i=r(74),o=r(66),s=r(55),l=r(76),u=r(45),c=r(54),f=">",h="<",d="prototype",p="script",v=c("IE_PROTO"),y=function(){},g=function(e){return h+p+f+e+h+"/"+p+f},m=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=u("iframe"),r="java"+p+":";return t.style.display="none",l.appendChild(t),t.src=String(r),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},_=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}_="undefined"!=typeof document?document.domain&&n?m(n):b():m(n);for(var e=o.length;e--;)delete _[d][o[e]];return _()};s[v]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(y[d]=a(e),r=new y,y[d]=null,r[v]=e):r=_(),void 0===t?r:i.f(r,t)}},function(e,t,r){var n=r(10),a=r(48),i=r(47),o=r(49),s=r(16),l=r(75);t.f=n&&!a?Object.defineProperties:function(e,t){o(e);for(var r,n=s(t),a=l(t),u=a.length,c=0;u>c;)i.f(e,r=a[c++],n[r]);return e}},function(e,t,r){var n=r(60),a=r(66);e.exports=Object.keys||function(e){return n(e,a)}},function(e,t,r){var n=r(26);e.exports=n("document","documentElement")},function(e,t,r){var n=r(18),a=Error,i=n("".replace),o=function(e){return String(a(e).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(o);e.exports=function(e,t){if(l&&"string"==typeof e&&!a.prepareStackTrace)for(;t--;)e=i(e,s,"");return e}},function(e,t,r){var n=r(23),a=r(46);e.exports=function(e,t){n(t)&&"cause"in t&&a(e,"cause",t.cause)}},function(e,t,r){var n=r(8),a=r(80),i=r(12),o=r(49),s=r(34),l=r(81),u=r(64),c=r(27),f=r(83),h=r(84),d=r(87),p=n.TypeError,v=function(e,t){this.stopped=e,this.result=t},y=v.prototype;e.exports=function(e,t,r){var n,g,m,b,_,A,S,k=r&&r.that,x=!(!r||!r.AS_ENTRIES),w=!(!r||!r.IS_ITERATOR),C=!(!r||!r.INTERRUPTED),P=a(t,k),T=function(e){return n&&d(n,"normal",e),new v(!0,e)},O=function(e){return x?(o(e),C?P(e[0],e[1],T):P(e[0],e[1])):C?P(e,T):P(e)};if(w)n=e;else{if(g=h(e),!g)throw p(s(e)+" is not iterable");if(l(g)){for(m=0,b=u(e);b>m;m++)if(_=O(e[m]),_&&c(y,_))return _;return new v(!1)}n=f(e,g)}for(A=n.next;!(S=i(A,n)).done;){try{_=O(S.value)}catch(e){d(n,"throw",e)}if("object"==typeof _&&_&&c(y,_))return _}return new v(!1)}},function(e,t,r){var n=r(18),a=r(33),i=r(13),o=n(n.bind);e.exports=function(e,t){return a(e),void 0===t?e:i?o(e,t):function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(36),a=r(82),i=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[i]===e)}},function(e){e.exports={}},function(e,t,r){var n=r(8),a=r(12),i=r(33),o=r(49),s=r(34),l=r(84),u=n.TypeError;e.exports=function(e,t){var r=arguments.length<2?l(e):t;if(i(r))return o(a(r,e));throw u(s(e)+" is not iterable")}},function(e,t,r){var n=r(85),a=r(32),i=r(82),o=r(36),s=o("iterator");e.exports=function(e){if(void 0!=e)return a(e,s)||a(e,"@@iterator")||i[n(e)]}},function(e,t,r){var n=r(8),a=r(86),i=r(24),o=r(19),s=r(36),l=s("toStringTag"),u=n.Object,c="Arguments"==o(function(){return arguments}()),f=function(e,t){try{return e[t]}catch(e){}};e.exports=a?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=f(t=u(e),l))?r:c?o(t):"Object"==(n=o(t))&&i(t.callee)?"Arguments":n}},function(e,t,r){var n=r(36),a=n("toStringTag"),i={};i[a]="z",e.exports="[object z]"===String(i)},function(e,t,r){var n=r(12),a=r(49),i=r(32);e.exports=function(e,t,r){var o,s;a(e);try{if(o=i(e,"return"),!o){if("throw"===t)throw r;return r}o=n(o,e)}catch(e){s=!0,o=e}if("throw"===t)throw r;if(s)throw o;return a(o),r}},function(e,t,r){var n=r(89);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},function(e,t,r){var n=r(8),a=r(85),i=n.String;e.exports=function(e){if("Symbol"===a(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},function(e,t,r){var n=r(11),a=r(15);e.exports=!n(function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",a(1,7)),7!==e.stack)})},function(e,t,r){"use strict";var n=r(16),a=r(92),i=r(82),o=r(52),s=r(47).f,l=r(93),u=r(38),c=r(10),f="Array Iterator",h=o.set,d=o.getterFor(f);e.exports=l(Array,"Array",function(e,t){h(this,{type:f,target:n(e),index:0,kind:t})},function(){var e=d(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}},"values");var p=i.Arguments=i.Array;if(a("keys"),a("values"),a("entries"),!u&&c&&"values"!==p.name)try{s(p,"name",{value:"values"})}catch(e){}},function(e,t,r){var n=r(36),a=r(73),i=r(47),o=n("unscopables"),s=Array.prototype;void 0==s[o]&&i.f(s,o,{configurable:!0,value:a(null)}),e.exports=function(e){s[o][e]=!0}},function(e,t,r){"use strict";var n=r(7),a=r(12),i=r(38),o=r(56),s=r(24),l=r(94),u=r(69),c=r(71),f=r(96),h=r(46),d=r(50),p=r(36),v=r(82),y=r(95),g=o.PROPER,m=o.CONFIGURABLE,b=y.IteratorPrototype,_=y.BUGGY_SAFARI_ITERATORS,A=p("iterator"),S="keys",k="values",x="entries",w=function(){return this};e.exports=function(e,t,r,o,p,y,C){l(r,t,o);var P,T,O,E=function(e){if(e===p&&D)return D;if(!_&&e in M)return M[e];switch(e){case S:return function(){return new r(this,e)};case k:return function(){return new r(this,e)};case x:return function(){return new r(this,e)}}return function(){return new r(this)}},F=t+" Iterator",R=!1,M=e.prototype,I=M[A]||M["@@iterator"]||p&&M[p],D=!_&&I||E(p),j="Array"==t?M.entries||I:I;if(j&&(P=u(j.call(new e)),P!==Object.prototype&&P.next&&(i||u(P)===b||(c?c(P,b):s(P[A])||d(P,A,w)),f(P,F,!0,!0),i&&(v[F]=w))),g&&p==k&&I&&I.name!==k&&(!i&&m?h(M,"name",k):(R=!0,D=function(){return a(I,this)})),p)if(T={values:E(k),keys:y?D:E(S),entries:E(x)},C)for(O in T)!_&&!R&&O in M||d(M,O,T[O]);else n({target:t,proto:!0,forced:_||R},T);return i&&!C||M[A]===D||d(M,A,D,{name:p}),v[t]=D,T}},function(e,t,r){"use strict";var n=r(95).IteratorPrototype,a=r(73),i=r(15),o=r(96),s=r(82),l=function(){return this};e.exports=function(e,t,r,u){var c=t+" Iterator";return e.prototype=a(n,{next:i(+!u,r)}),o(e,c,!1,!0),s[c]=l,e}},function(e,t,r){"use strict";var n,a,i,o=r(11),s=r(24),l=r(73),u=r(69),c=r(50),f=r(36),h=r(38),d=f("iterator"),p=!1;[].keys&&(i=[].keys(),"next"in i?(a=u(u(i)),a!==Object.prototype&&(n=a)):p=!0);var v=void 0==n||o(function(){var e={};return n[d].call(e)!==e});v?n={}:h&&(n=l(n)),s(n[d])||c(n,d,function(){return this}),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},function(e,t,r){var n=r(47).f,a=r(41),i=r(36),o=i("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!a(e,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,r){var n=r(86),a=r(50),i=r(98);n||a(Object.prototype,"toString",i,{unsafe:!0})},function(e,t,r){"use strict";var n=r(86),a=r(85);e.exports=n?{}.toString:function(){return"[object "+a(this)+"]"}},function(e,t,r){r(100),r(123),r(126),r(127),r(128),r(129)},function(e,t,r){"use strict";var n,a,i,o,s=r(7),l=r(38),u=r(101),c=r(8),f=r(12),h=r(50),d=r(102),p=r(71),v=r(96),y=r(103),g=r(33),m=r(24),b=r(23),_=r(104),A=r(105),S=r(108).set,k=r(113),x=r(116),w=r(117),C=r(118),P=r(52),T=r(119),O=r(120),E=r(122),F="Promise",R=O.CONSTRUCTOR,M=O.REJECTION_EVENT,I=O.SUBCLASSING,D=P.getterFor(F),j=P.set,L=T&&T.prototype,N=T,U=L,B=c.TypeError,W=c.document,G=c.process,q=E.f,H=q,z=!!(W&&W.createEvent&&c.dispatchEvent),V="unhandledrejection",X="rejectionhandled",Y=0,K=1,J=2,Q=1,$=2,Z=function(e){var t;return!(!b(e)||!m(t=e.then))&&t},ee=function(e,t){var r,n,a,i=t.value,o=t.state==K,s=o?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{s?(o||(t.rejection===$&&ie(t),t.rejection=Q),s===!0?r=i:(c&&c.enter(),r=s(i),c&&(c.exit(),a=!0)),r===e.promise?u(B("Promise-chain cycle")):(n=Z(r))?f(n,r,l,u):l(r)):u(i)}catch(e){c&&!a&&c.exit(),u(e)}},te=function(e,t){e.notified||(e.notified=!0,k(function(){for(var r,n=e.reactions;r=n.get();)ee(r,e);e.notified=!1,t&&!e.rejection&&ne(e)}))},re=function(e,t,r){var n,a;z?(n=W.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},!M&&(a=c["on"+e])?a(n):e===V&&x("Unhandled promise rejection",r)},ne=function(e){f(S,c,function(){var t,r=e.facade,n=e.value,a=ae(e);if(a&&(t=w(function(){u?G.emit("unhandledRejection",n,r):re(V,r,n)}),e.rejection=u||ae(e)?$:Q,t.error))throw t.value})},ae=function(e){return e.rejection!==Q&&!e.parent},ie=function(e){f(S,c,function(){var t=e.facade;u?G.emit("rejectionHandled",t):re(X,t,e.value)})},oe=function(e,t,r){return function(n){e(t,n,r)}},se=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=J,te(e,!0))},le=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw B("Promise can't be resolved itself");var n=Z(t);n?k(function(){var r={done:!1};try{f(n,t,oe(le,r,e),oe(se,r,e))}catch(t){se(r,t,e)}}):(e.value=t,e.state=K,te(e,!1))}catch(t){se({done:!1},t,e)}}};if(R&&(N=function(e){_(this,U),g(e),f(n,this);var t=D(this);try{e(oe(le,t),oe(se,t))}catch(e){se(t,e)}},U=N.prototype,n=function(e){j(this,{type:F,done:!1,notified:!1,parent:!1,reactions:new C,rejection:!1,state:Y,value:void 0})},n.prototype=d(U,{then:function(e,t){var r=D(this),n=q(A(this,N));return r.parent=!0,n.ok=!m(e)||e,n.fail=m(t)&&t,n.domain=u?G.domain:void 0,r.state==Y?r.reactions.add(n):k(function(){ee(n,r)}),n.promise}}),a=function(){var e=new n,t=D(e);this.promise=e,this.resolve=oe(le,t),this.reject=oe(se,t)},E.f=q=function(e){return e===N||e===i?new a(e):H(e)},!l&&m(T)&&L!==Object.prototype)){o=L.then,I||h(L,"then",function(e,t){var r=this;return new N(function(e,t){f(o,r,e,t)}).then(e,t)},{unsafe:!0});try{delete L.constructor}catch(e){}p&&p(L,U)}s({global:!0,wrap:!0,forced:R},{Promise:N}),v(N,F,!1,!0),y(F)},function(e,t,r){var n=r(19),a=r(8);e.exports="process"==n(a.process)},function(e,t,r){var n=r(50);e.exports=function(e,t,r){for(var a in t)n(e,a,t[a],r);return e}},function(e,t,r){"use strict";var n=r(26),a=r(47),i=r(36),o=r(10),s=i("species");e.exports=function(e){var t=n(e),r=a.f;o&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(8),a=r(27),i=n.TypeError;e.exports=function(e,t){if(a(t,e))return e;throw i("Incorrect invocation")}},function(e,t,r){var n=r(49),a=r(106),i=r(36),o=i("species");e.exports=function(e,t){var r,i=n(e).constructor;return void 0===i||void 0==(r=n(i)[o])?t:a(r)}},function(e,t,r){var n=r(8),a=r(107),i=r(34),o=n.TypeError;e.exports=function(e){if(a(e))return e;throw o(i(e)+" is not a constructor")}},function(e,t,r){var n=r(18),a=r(11),i=r(24),o=r(85),s=r(26),l=r(51),u=function(){},c=[],f=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=n(h.exec),p=!h.exec(u),v=function(e){if(!i(e))return!1;try{return f(u,c,e),!0}catch(e){return!1}},y=function(e){if(!i(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(h,l(e))}catch(e){return!0}};y.sham=!0,e.exports=!f||a(function(){var e;return v(v.call)||!v(Object)||!v(function(){e=!0})||e})?y:v},function(e,t,r){var n,a,i,o,s=r(8),l=r(109),u=r(80),c=r(24),f=r(41),h=r(11),d=r(76),p=r(110),v=r(45),y=r(111),g=r(112),m=r(101),b=s.setImmediate,_=s.clearImmediate,A=s.process,S=s.Dispatch,k=s.Function,x=s.MessageChannel,w=s.String,C=0,P={},T="onreadystatechange";try{n=s.location}catch(e){}var O=function(e){if(f(P,e)){var t=P[e];delete P[e],t()}},E=function(e){return function(){O(e)}},F=function(e){O(e.data)},R=function(e){s.postMessage(w(e),n.protocol+"//"+n.host)};b&&_||(b=function(e){y(arguments.length,1);var t=c(e)?e:k(e),r=p(arguments,1);return P[++C]=function(){l(t,void 0,r)},a(C),C},_=function(e){delete P[e]},m?a=function(e){A.nextTick(E(e))}:S&&S.now?a=function(e){S.now(E(e))}:x&&!g?(i=new x,o=i.port2,i.port1.onmessage=F,a=u(o.postMessage,o)):s.addEventListener&&c(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!h(R)?(a=R,s.addEventListener("message",F,!1)):a=T in v("script")?function(e){d.appendChild(v("script"))[T]=function(){d.removeChild(this),O(e)}}:function(e){setTimeout(E(e),0)}),e.exports={set:b,clear:_}},function(e,t,r){var n=r(13),a=Function.prototype,i=a.apply,o=a.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(i):function(){return o.apply(i,arguments)})},function(e,t,r){var n=r(18);e.exports=n([].slice)},function(e,t,r){var n=r(8),a=n.TypeError;e.exports=function(e,t){if(e<t)throw a("Not enough arguments");return e}},function(e,t,r){var n=r(31);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},function(e,t,r){var n,a,i,o,s,l,u,c,f=r(8),h=r(80),d=r(9).f,p=r(108).set,v=r(112),y=r(114),g=r(115),m=r(101),b=f.MutationObserver||f.WebKitMutationObserver,_=f.document,A=f.process,S=f.Promise,k=d(f,"queueMicrotask"),x=k&&k.value;x||(n=function(){var e,t;for(m&&(e=A.domain)&&e.exit();a;){t=a.fn,a=a.next;try{t()}catch(e){throw a?o():i=void 0,e}}i=void 0,e&&e.enter()},v||m||g||!b||!_?!y&&S&&S.resolve?(u=S.resolve(void 0),u.constructor=S,c=h(u.then,u),o=function(){c(n)}):m?o=function(){A.nextTick(n)}:(p=h(p,f),o=function(){p(n)}):(s=!0,l=_.createTextNode(""),new b(n).observe(l,{characterData:!0}),o=function(){l.data=s=!s})),e.exports=x||function(e){var t={fn:e,next:void 0};i&&(i.next=t),a||(a=t,o()),i=t}},function(e,t,r){var n=r(31),a=r(8);e.exports=/ipad|iphone|ipod/i.test(n)&&void 0!==a.Pebble},function(e,t,r){var n=r(31);e.exports=/web0s(?!.*chrome)/i.test(n)},function(e,t,r){var n=r(8);e.exports=function(e,t){var r=n.console;r&&r.error&&(1==arguments.length?r.error(e):r.error(e,t))}},function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},function(e,t,r){var n=r(8);e.exports=n.Promise},function(e,t,r){var n=r(8),a=r(119),i=r(24),o=r(68),s=r(51),l=r(36),u=r(121),c=r(38),f=r(30),h=a&&a.prototype,d=l("species"),p=!1,v=i(n.PromiseRejectionEvent),y=o("Promise",function(){var e=s(a),t=e!==String(a);if(!t&&66===f)return!0;if(c&&(!h.catch||!h.finally))return!0;if(f>=51&&/native code/.test(e))return!1;var r=new a(function(e){e(1)}),n=function(e){e(function(){},function(){})},i=r.constructor={};return i[d]=n,p=r.then(function(){})instanceof n,!p||!t&&u&&!v});e.exports={CONSTRUCTOR:y,REJECTION_EVENT:v,SUBCLASSING:p}},function(e){e.exports="object"==typeof window&&"object"!=typeof Deno},function(e,t,r){"use strict";var n=r(33),a=function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new a(e)}},function(e,t,r){"use strict";var n=r(7),a=r(12),i=r(33),o=r(122),s=r(117),l=r(79),u=r(124);n({target:"Promise",stat:!0,forced:u},{all:function(e){var t=this,r=o.f(t),n=r.resolve,u=r.reject,c=s(function(){var r=i(t.resolve),o=[],s=0,c=1;l(e,function(e){var i=s++,l=!1;c++,a(r,t,e).then(function(e){l||(l=!0,o[i]=e,--c||n(o))},u)}),--c||n(o)});return c.error&&u(c.value),r.promise}})},function(e,t,r){var n=r(119),a=r(125),i=r(120).CONSTRUCTOR;e.exports=i||!a(function(e){n.all(e).then(void 0,function(){})})},function(e,t,r){var n=r(36),a=n("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[a]=function(){return this},Array.from(s,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var n={};n[a]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r}},function(e,t,r){"use strict";var n=r(7),a=r(38),i=r(120).CONSTRUCTOR,o=r(119),s=r(26),l=r(24),u=r(50),c=o&&o.prototype;if(n({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(e){return this.then(void 0,e)}}),!a&&l(o)){var f=s("Promise").prototype.catch;c.catch!==f&&u(c,"catch",f,{unsafe:!0})}},function(e,t,r){"use strict";var n=r(7),a=r(12),i=r(33),o=r(122),s=r(117),l=r(79),u=r(124);n({target:"Promise",stat:!0,forced:u},{race:function(e){var t=this,r=o.f(t),n=r.reject,u=s(function(){var o=i(t.resolve);l(e,function(e){a(o,t,e).then(r.resolve,n)})});return u.error&&n(u.value),r.promise}})},function(e,t,r){"use strict";var n=r(7),a=r(12),i=r(122),o=r(120).CONSTRUCTOR;n({target:"Promise",stat:!0,forced:o},{reject:function(e){var t=i.f(this);return a(t.reject,void 0,e),t.promise}})},function(e,t,r){"use strict";var n=r(7),a=r(26),i=r(38),o=r(119),s=r(120).CONSTRUCTOR,l=r(130),u=a("Promise"),c=i&&!s;n({target:"Promise",stat:!0,forced:i||s},{resolve:function(e){return l(c&&this===u?o:this,e)}})},function(e,t,r){var n=r(49),a=r(23),i=r(122);e.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;var r=i.f(e),o=r.resolve;return o(t),r.promise}},function(e,t,r){"use strict";var n=r(7),a=r(12),i=r(33),o=r(122),s=r(117),l=r(79);n({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=o.f(t),n=r.resolve,u=r.reject,c=s(function(){var r=i(t.resolve),o=[],s=0,u=1;l(e,function(e){var i=s++,l=!1;u++,a(r,t,e).then(function(e){l||(l=!0,o[i]={status:"fulfilled",value:e},--u||n(o))},function(e){l||(l=!0,o[i]={status:"rejected",reason:e},--u||n(o))})}),--u||n(o)});return c.error&&u(c.value),r.promise}})},function(e,t,r){"use strict";var n=r(7),a=r(12),i=r(33),o=r(26),s=r(122),l=r(117),u=r(79),c="No one promise resolved";n({target:"Promise",stat:!0},{any:function(e){var t=this,r=o("AggregateError"),n=s.f(t),f=n.resolve,h=n.reject,d=l(function(){var n=i(t.resolve),o=[],s=0,l=1,d=!1;u(e,function(e){var i=s++,u=!1;l++,a(n,t,e).then(function(e){u||d||(d=!0,f(e))},function(e){u||d||(u=!0,o[i]=e,--l||h(new r(o,c)))})}),--l||h(new r(o,c))});return d.error&&h(d.value),n.promise}})},function(e,t,r){"use strict";var n=r(7),a=r(38),i=r(119),o=r(11),s=r(26),l=r(24),u=r(105),c=r(130),f=r(50),h=i&&i.prototype,d=!!i&&o(function(){h.finally.call({then:function(){}},function(){})});if(n({target:"Promise",proto:!0,real:!0,forced:d},{finally:function(e){var t=u(this,s("Promise")),r=l(e);return this.then(r?function(r){return c(t,e()).then(function(){return r})}:e,r?function(r){return c(t,e()).then(function(){throw r})}:e)}}),!a&&l(i)){var p=s("Promise").prototype.finally;h.finally!==p&&f(h,"finally",p,{unsafe:!0})}},function(e,t,r){"use strict";var n=r(135).charAt,a=r(89),i=r(52),o=r(93),s="String Iterator",l=i.set,u=i.getterFor(s);o(String,"String",function(e){l(this,{type:s,string:a(e),index:0})},function(){var e,t=u(this),r=t.string,a=t.index;return a>=r.length?{value:void 0,done:!0}:(e=n(r,a),t.index+=e.length,{value:e,done:!1})})},function(e,t,r){var n=r(18),a=r(63),i=r(89),o=r(20),s=n("".charAt),l=n("".charCodeAt),u=n("".slice),c=function(e){return function(t,r){var n,c,f=i(o(t)),h=a(r),d=f.length;return h<0||h>=d?e?"":void 0:(n=l(f,h),n<55296||n>56319||h+1===d||(c=l(f,h+1))<56320||c>57343?e?s(f,h):n:e?u(f,h,h+2):(n-55296<<10)+(c-56320)+65536)}};e.exports={codeAt:c(!1),charAt:c(!0)}},function(e,t,r){var n=r(8);e.exports=n},function(e,t,r){r(91),r(97),r(138),r(150),r(152);var n=r(136);e.exports=n.structuredClone},function(e,t,r){r(139)},function(e,t,r){"use strict";var n=r(140),a=r(149);n("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},a)},function(e,t,r){"use strict";var n=r(7),a=r(8),i=r(18),o=r(68),s=r(50),l=r(141),u=r(79),c=r(104),f=r(24),h=r(23),d=r(11),p=r(125),v=r(96),y=r(148);e.exports=function(e,t,r){var g=e.indexOf("Map")!==-1,m=e.indexOf("Weak")!==-1,b=g?"set":"add",_=a[e],A=_&&_.prototype,S=_,k={},x=function(e){var t=i(A[e]);s(A,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!h(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return m&&!h(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!h(e))&&t(this,0===e?0:e)}:function(e,r){return t(this,0===e?0:e,r),this})},w=o(e,!f(_)||!(m||A.forEach&&!d(function(){(new _).entries().next()})));if(w)S=r.getConstructor(t,e,g,b),l.enable();else if(o(e,!0)){var C=new S,P=C[b](m?{}:-0,1)!=C,T=d(function(){C.has(1)}),O=p(function(e){new _(e)}),E=!m&&d(function(){for(var e=new _,t=5;t--;)e[b](t,t);return!e.has(-0)});O||(S=t(function(e,t){c(e,A);var r=y(new _,e,S);return void 0!=t&&u(t,r[b],{that:r,AS_ENTRIES:g}),r}),S.prototype=A,A.constructor=S),(T||E)&&(x("delete"),x("has"),g&&x("get")),(E||P)&&x(b),m&&A.clear&&delete A.clear}return k[e]=S,n({global:!0,forced:S!=_},k),v(S,e),m||r.setStrong(S,e,g),S}},function(e,t,r){var n=r(7),a=r(18),i=r(55),o=r(23),s=r(41),l=r(47).f,u=r(59),c=r(142),f=r(145),h=r(43),d=r(147),p=!1,v=h("meta"),y=0,g=function(e){l(e,v,{value:{objectID:"O"+y++,weakData:{}}})},m=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,v)){if(!f(e))return"F";if(!t)return"E";g(e)}return e[v].objectID},b=function(e,t){if(!s(e,v)){if(!f(e))return!0;if(!t)return!1;g(e)}return e[v].weakData},_=function(e){return d&&p&&f(e)&&!s(e,v)&&g(e),e},A=function(){S.enable=function(){},p=!0;var e=u.f,t=a([].splice),r={};r[v]=1,e(r).length&&(u.f=function(r){for(var n=e(r),a=0,i=n.length;a<i;a++)if(n[a]===v){t(n,a,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},S=e.exports={enable:A,fastKey:m,getWeakData:b,onFreeze:_};i[v]=!0},function(e,t,r){var n=r(19),a=r(16),i=r(59).f,o=r(143),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return i(e)}catch(e){return o(s)}};e.exports.f=function(e){return s&&"Window"==n(e)?l(e):i(a(e))}},function(e,t,r){var n=r(8),a=r(62),i=r(64),o=r(144),s=n.Array,l=Math.max;e.exports=function(e,t,r){for(var n=i(e),u=a(t,n),c=a(void 0===r?n:r,n),f=s(l(c-u,0)),h=0;u<c;u++,h++)o(f,h,e[u]);return f.length=h,f}},function(e,t,r){"use strict";var n=r(21),a=r(47),i=r(15);e.exports=function(e,t,r){var o=n(t);o in e?a.f(e,o,i(0,r)):e[o]=r}},function(e,t,r){var n=r(11),a=r(23),i=r(19),o=r(146),s=Object.isExtensible,l=n(function(){s(1)});e.exports=l||o?function(e){return!!a(e)&&((!o||"ArrayBuffer"!=i(e))&&(!s||s(e)))}:s},function(e,t,r){var n=r(11);e.exports=n(function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})},function(e,t,r){var n=r(11);e.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t,r){var n=r(24),a=r(23),i=r(71);e.exports=function(e,t,r){var o,s;return i&&n(o=t.constructor)&&o!==r&&a(s=o.prototype)&&s!==r.prototype&&i(e,s),e}},function(e,t,r){"use strict";var n=r(47).f,a=r(73),i=r(102),o=r(80),s=r(104),l=r(79),u=r(93),c=r(103),f=r(10),h=r(141).fastKey,d=r(52),p=d.set,v=d.getterFor;e.exports={getConstructor:function(e,t,r,u){var c=e(function(e,n){s(e,d),p(e,{type:t,index:a(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=n&&l(n,e[u],{that:e,AS_ENTRIES:r})}),d=c.prototype,y=v(t),g=function(e,t,r){var n,a,i=y(e),o=m(e,t);return o?o.value=r:(i.last=o={index:a=h(t,!0),key:t,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),f?i.size++:e.size++,"F"!==a&&(i.index[a]=o)),e},m=function(e,t){var r,n=y(e),a=h(t);if("F"!==a)return n.index[a];for(r=n.first;r;r=r.next)if(r.key==t)return r};return i(d,{clear:function(){for(var e=this,t=y(e),r=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete r[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,r=y(t),n=m(t,e);if(n){var a=n.next,i=n.previous;delete r.index[n.index],n.removed=!0,i&&(i.next=a),a&&(a.previous=i),r.first==n&&(r.first=a),r.last==n&&(r.last=i),f?r.size--:t.size--}return!!n},forEach:function(e){for(var t,r=y(this),n=o(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!m(this,e)}}),i(d,r?{get:function(e){var t=m(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),f&&n(d,"size",{get:function(){return y(this).size}}),c},setStrong:function(e,t,r){var n=t+" Iterator",a=v(t),i=v(n);u(e,t,function(e,t){p(this,{type:n,target:e,state:a(e),kind:t,last:void 0})},function(){for(var e=i(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},r?"entries":"values",!r,!0),c(t)}}},function(e,t,r){r(151)},function(e,t,r){"use strict";var n=r(140),a=r(149);n("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},a)},function(e,t,r){var n=r(38),a=r(7),i=r(8),o=r(26),s=r(18),l=r(11),u=r(43),c=r(24),f=r(107),h=r(23),d=r(25),p=r(79),v=r(49),y=r(85),g=r(41),m=r(144),b=r(46),_=r(64),A=r(111),S=r(153),k=r(90),x=i.Object,w=i.Date,C=i.Error,P=i.EvalError,T=i.RangeError,O=i.ReferenceError,E=i.SyntaxError,F=i.TypeError,R=i.URIError,M=i.PerformanceMark,I=i.WebAssembly,D=I&&I.CompileError||C,j=I&&I.LinkError||C,L=I&&I.RuntimeError||C,N=o("DOMException"),U=o("Set"),B=o("Map"),W=B.prototype,G=s(W.has),q=s(W.get),H=s(W.set),z=s(U.prototype.add),V=o("Object","keys"),X=s([].push),Y=s((!0).valueOf),K=s(1..valueOf),J=s("".valueOf),Q=s(w.prototype.getTime),$=u("structuredClone"),Z="DataCloneError",ee="Transferring",te=function(e){return!l(function(){var t=new i.Set([7]),r=e(t),n=e(x(7));return r==t||!r.has(7)||"object"!=typeof n||7!=n})&&e},re=function(e){return!l(function(){var t=e(new i.AggregateError([1],$,{cause:3}));return"AggregateError"!=t.name||1!=t.errors[0]||t.message!=$||3!=t.cause})&&e},ne=i.structuredClone,ae=n||!re(ne),ie=!ne&&te(function(e){return new M($,{detail:e}).detail}),oe=te(ne)||ie,se=function(e){throw new N("Uncloneable type: "+e,Z)},le=function(e,t){throw new N((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",Z)},ue=function(e,t){if(d(e)&&se("Symbol"),!h(e))return e;if(t){if(G(t,e))return q(t,e)}else t=new B;var r,n,a,s,l,u,p,v,A,M,I=y(e),W=!1;switch(I){case"Array":a=[],W=!0;break;case"Object":a={},W=!0;break;case"Map":a=new B,W=!0;break;case"Set":a=new U,W=!0;break;case"RegExp":a=new RegExp(e.source,S(e));break;case"Error":switch(n=e.name){case"AggregateError":a=o("AggregateError")([]);break;case"EvalError":a=P();break;case"RangeError":a=T();break;case"ReferenceError":a=O();break;case"SyntaxError":a=E();break;case"TypeError":a=F();break;case"URIError":a=R();break;case"CompileError":a=D();break;case"LinkError":a=j();break;case"RuntimeError":a=L();break;default:a=C()}W=!0;break;case"DOMException":a=new N(e.message,e.name),W=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":r=i[I],h(r)||le(I),a=new r(ue(e.buffer,t),e.byteOffset,"DataView"===I?e.byteLength:e.length);break;case"DOMQuad":try{a=new DOMQuad(ue(e.p1,t),ue(e.p2,t),ue(e.p3,t),ue(e.p4,t))}catch(t){oe?a=oe(e):le(I)}break;case"FileList":if(r=i.DataTransfer,f(r)){for(s=new r,l=0,u=_(e);l<u;l++)s.items.add(ue(e[l],t));a=s.files}else oe?a=oe(e):le(I);break;case"ImageData":try{a=new ImageData(ue(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(t){oe?a=oe(e):le(I)}break;default:if(oe)a=oe(e);else switch(I){case"BigInt":a=x(e.valueOf());break;case"Boolean":a=x(Y(e));break;case"Number":a=x(K(e));break;case"String":a=x(J(e));break;case"Date":a=new w(Q(e));break;case"ArrayBuffer":r=i.DataView,r||"function"==typeof e.slice||le(I);try{if("function"==typeof e.slice)a=e.slice(0);else for(u=e.byteLength,a=new ArrayBuffer(u),A=new r(e),M=new r(a),l=0;l<u;l++)M.setUint8(l,A.getUint8(l))}catch(e){throw new N("ArrayBuffer is detached",Z)}break;case"SharedArrayBuffer":a=e;break;case"Blob":try{a=e.slice(0,e.size,e.type)}catch(e){le(I)}break;case"DOMPoint":case"DOMPointReadOnly":r=i[I];try{a=r.fromPoint?r.fromPoint(e):new r(e.x,e.y,e.z,e.w)}catch(e){le(I)}break;case"DOMRect":case"DOMRectReadOnly":r=i[I];try{a=r.fromRect?r.fromRect(e):new r(e.x,e.y,e.width,e.height)}catch(e){le(I)}break;case"DOMMatrix":case"DOMMatrixReadOnly":r=i[I];try{a=r.fromMatrix?r.fromMatrix(e):new r(e)}catch(e){le(I)}break;case"AudioData":case"VideoFrame":c(e.clone)||le(I);try{a=e.clone()}catch(e){se(I)}break;case"File":try{a=new File([e],e.name,e)}catch(e){le(I)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":le(I);default:se(I)}}if(H(t,e,a),W)switch(I){case"Array":case"Object":for(p=V(e),l=0,u=_(p);l<u;l++)v=p[l],m(a,v,ue(e[v],t));break;case"Map":e.forEach(function(e,r){H(a,ue(r,t),ue(e,t))});break;case"Set":e.forEach(function(e){z(a,ue(e,t))});break;case"Error":b(a,"message",ue(e.message,t)),g(e,"cause")&&b(a,"cause",ue(e.cause,t)),"AggregateError"==n&&(a.errors=ue(e.errors,t));case"DOMException":k&&b(a,"stack",ue(e.stack,t));
}return a},ce=ne&&!l(function(){var e=new ArrayBuffer(8),t=ne(e,{transfer:[e]});return 0!=e.byteLength||8!=t.byteLength}),fe=function(e,t){if(!h(e))throw F("Transfer option cannot be converted to a sequence");var r=[];p(e,function(e){X(r,v(e))});var n,a,o,s,l,u,d,g=0,m=_(r);if(ce)for(s=ne(r,{transfer:r});g<m;)H(t,r[g],s[g++]);else for(;g<m;){if(n=r[g++],G(t,n))throw new N("Duplicate transferable",Z);switch(a=y(n)){case"ImageBitmap":o=i.OffscreenCanvas,f(o)||le(a,ee);try{u=new o(n.width,n.height),d=u.getContext("bitmaprenderer"),d.transferFromImageBitmap(n),l=u.transferToImageBitmap()}catch(e){}break;case"AudioData":case"VideoFrame":c(n.clone)&&c(n.close)||le(a,ee);try{l=n.clone(),n.close()}catch(e){}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":le(a,ee)}if(void 0===l)throw new N("This object cannot be transferred: "+a,Z);H(t,n,l)}};a({global:!0,enumerable:!0,sham:!ce,forced:ae},{structuredClone:function(e){var t,r=A(arguments.length,1)>1&&null!=arguments[1]?v(arguments[1]):void 0,n=r?r.transfer:void 0;return void 0!==n&&(t=new B,fe(n,t)),ue(e,t)}})},function(e,t,r){var n=r(12),a=r(41),i=r(27),o=r(154),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||a(e,"flags")||!i(s,e)?t:n(o,e)}},function(e,t,r){"use strict";var n=r(49);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(__unused_webpack_module,exports,__w_pdfjs_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t),t.add(e)}function _classPrivateMethodGet(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function _classPrivateFieldInitSpec(e,t,r){_checkPrivateRedeclaration(e,t),t.set(e,r)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(e,t,r){var n=_classExtractFieldDescriptor(e,t,"set");return _classApplyDescriptorSet(e,n,r),r}function _classPrivateFieldGet(e,t){var r=_classExtractFieldDescriptor(e,t,"get");return _classApplyDescriptorGet(e,r)}function _classExtractFieldDescriptor(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classStaticPrivateFieldSpecSet(e,t,r,n){return _classCheckPrivateStaticAccess(e,t),_classCheckPrivateStaticFieldDescriptor(r,"set"),_classApplyDescriptorSet(e,r,n),n}function _classApplyDescriptorSet(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function _classStaticPrivateFieldSpecGet(e,t,r){return _classCheckPrivateStaticAccess(e,t),_classCheckPrivateStaticFieldDescriptor(r,"get"),_classApplyDescriptorGet(e,r)}function _classCheckPrivateStaticFieldDescriptor(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function _classCheckPrivateStaticAccess(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function _classApplyDescriptorGet(e,t){return t.get?t.get.call(e):t.value}function asyncGeneratorStep(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){function i(e){asyncGeneratorStep(s,n,a,i,o,"next",e)}function o(e){asyncGeneratorStep(s,n,a,i,o,"throw",e)}var s=e.apply(t,r);i(void 0)})}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){var t,r=new PDFDocumentLoadingTask;if("string"==typeof e||e instanceof URL)t={url:e};else if((0,_util.isArrayBuffer)(e))t={data:e};else if(e instanceof PDFDataRangeTransport)t={range:e};else{if("object"!==_typeof(e))throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=e}var n=Object.create(null),a=null,i=null;for(var o in t){var s=t[o];switch(o){case"url":if("undefined"!=typeof window)try{n[o]=new URL(s,window.location).href;continue}catch(e){(0,_util.warn)('Cannot create valid URL: "'.concat(e,'".'))}else if("string"==typeof s||s instanceof URL){n[o]=s.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":a=s;continue;case"worker":i=s;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&s instanceof Buffer)n[o]=new Uint8Array(s);else{if(s instanceof Uint8Array)break;if("string"==typeof s)n[o]=(0,_util.stringToBytes)(s);else if("object"!==_typeof(s)||null===s||isNaN(s.length)){if(!(0,_util.isArrayBuffer)(s))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");n[o]=new Uint8Array(s)}else n[o]=new Uint8Array(s)}continue}n[o]=s}if(n.CMapReaderFactory=n.CMapReaderFactory||DefaultCMapReaderFactory,n.StandardFontDataFactory=n.StandardFontDataFactory||DefaultStandardFontDataFactory,n.ignoreErrors=n.stopAtErrors!==!0,n.fontExtraProperties=n.fontExtraProperties===!0,n.pdfBug=n.pdfBug===!0,n.enableXfa=n.enableXfa===!0,(!Number.isInteger(n.rangeChunkSize)||n.rangeChunkSize<1)&&(n.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof n.docBaseUrl||(0,_display_utils.isDataScheme)(n.docBaseUrl))&&(n.docBaseUrl=null),(!Number.isInteger(n.maxImageSize)||n.maxImageSize<-1)&&(n.maxImageSize=-1),"string"!=typeof n.cMapUrl&&(n.cMapUrl=null),"string"!=typeof n.standardFontDataUrl&&(n.standardFontDataUrl=null),"boolean"!=typeof n.useWorkerFetch&&(n.useWorkerFetch=n.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&n.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof n.isEvalSupported&&(n.isEvalSupported=!0),"boolean"!=typeof n.disableFontFace&&(n.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof n.useSystemFonts&&(n.useSystemFonts=!_is_node.isNodeJS&&!n.disableFontFace),"object"===_typeof(n.ownerDocument)&&null!==n.ownerDocument||(n.ownerDocument=globalThis.document),"boolean"!=typeof n.disableRange&&(n.disableRange=!1),"boolean"!=typeof n.disableStream&&(n.disableStream=!1),"boolean"!=typeof n.disableAutoFetch&&(n.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(n.verbosity),!i){var l={verbosity:n.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};i=l.port?PDFWorker.fromPort(l):new PDFWorker(l),r._worker=i}var u=r.docId;return i.promise.then(function(){if(r.destroyed)throw new Error("Loading aborted");var e=_fetchDocument(i,n,a,u),t=new Promise(function(e){var t;a?t=new _transport_stream.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,contentDispositionFilename:n.contentDispositionFilename,disableRange:n.disableRange,disableStream:n.disableStream},a):n.data||(t=createPDFNetworkStream({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})),e(t)});return Promise.all([e,t]).then(function(e){var t=_slicedToArray(e,2),a=t[0],o=t[1];if(r.destroyed)throw new Error("Loading aborted");var s=new _message_handler.MessageHandler(u,a,i.port),l=new WorkerTransport(s,r,o,n);r._transport=l,s.send("Ready",null)})}).catch(r._capability.reject),r}function _fetchDocument(e,t,r,n){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return _fetchDocument2=_asyncToGenerator(_regenerator.default.mark(function e(t,r,n,a){var i;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.destroyed){e.next=2;break}throw new Error("Worker was destroyed");case 2:return n&&(r.length=n.length,r.initialData=n.initialData,r.progressiveDone=n.progressiveDone,r.contentDispositionFilename=n.contentDispositionFilename),e.next=5,t.messageHandler.sendWithPromise("GetDocRequest",{docId:a,apiVersion:"2.14.318",source:{data:r.data,url:r.url,password:r.password,disableAutoFetch:r.disableAutoFetch,rangeChunkSize:r.rangeChunkSize,length:r.length},maxImageSize:r.maxImageSize,disableFontFace:r.disableFontFace,docBaseUrl:r.docBaseUrl,ignoreErrors:r.ignoreErrors,isEvalSupported:r.isEvalSupported,fontExtraProperties:r.fontExtraProperties,enableXfa:r.enableXfa,useSystemFonts:r.useSystemFonts,cMapUrl:r.useWorkerFetch?r.cMapUrl:null,standardFontDataUrl:r.useWorkerFetch?r.standardFontDataUrl:null});case 5:if(i=e.sent,!t.destroyed){e.next=8;break}throw new Error("Worker was destroyed");case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}},e)})),_fetchDocument2.apply(this,arguments)}function _ensureObj2(e){var t=_classPrivateFieldGet(this,_objs)[e];return t?t:_classPrivateFieldGet(this,_objs)[e]={capability:(0,_util.createPromiseCapability)(),data:null}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(156)),_util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(158),_font_loader=__w_pdfjs_require__(160),_annotation_storage=__w_pdfjs_require__(161),_canvas=__w_pdfjs_require__(163),_worker_options=__w_pdfjs_require__(166),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(167),_metadata=__w_pdfjs_require__(168),_optional_content_config=__w_pdfjs_require__(169),_transport_stream=__w_pdfjs_require__(170),_xfa_text=__w_pdfjs_require__(171),DEFAULT_RANGE_CHUNK_SIZE=512e3,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){var _require=__w_pdfjs_require__(172),NodeCanvasFactory=_require.NodeCanvasFactory,NodeCMapReaderFactory=_require.NodeCMapReaderFactory,NodeStandardFontDataFactory=_require.NodeStandardFontDataFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory=NodeCanvasFactory,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=NodeCMapReaderFactory,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=NodeStandardFontDataFactory}var createPDFNetworkStream,PDFDocumentLoadingTask=function(){function e(){var t,r;_classCallCheck(this,e),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat((_classStaticPrivateFieldSpecSet(e,e,_docId,(t=_classStaticPrivateFieldSpecGet(e,e,_docId),r=t++,t)),r)),this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(e,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(_regenerator.default.mark(function e(){var t;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.destroyed=!0,e.next=3,null===(t=this._transport)||void 0===t?void 0:t.destroy();case 3:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 5:case"end":return e.stop()}},e,this)}));return e}()}]),e}();exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var _docId={writable:!0,value:0},PDFDataRangeTransport=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.length=t,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(e,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(e,t){var r,n=_createForOfIteratorHelper(this._rangeListeners);try{for(n.s();!(r=n.n()).done;){var a=r.value;a(e,t)}}catch(e){n.e(e)}finally{n.f()}}},{key:"onDataProgress",value:function(e,t){var r=this;this._readyCapability.promise.then(function(){var n,a=_createForOfIteratorHelper(r._progressListeners);try{for(a.s();!(n=a.n()).done;){var i=n.value;i(e,t)}}catch(e){a.e(e)}finally{a.f()}})}},{key:"onDataProgressiveRead",value:function(e){var t=this;this._readyCapability.promise.then(function(){var r,n=_createForOfIteratorHelper(t._progressiveReadListeners);try{for(n.s();!(r=n.n()).done;){var a=r.value;a(e)}}catch(e){n.e(e)}finally{n.f()}})}},{key:"onDataProgressiveDone",value:function(){var e=this;this._readyCapability.promise.then(function(){var t,r=_createForOfIteratorHelper(e._progressiveDoneListeners);try{for(r.s();!(t=r.n()).done;){var n=t.value;n()}}catch(e){r.e(e)}finally{r.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),e}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function e(t,r){var n=this;_classCallCheck(this,e),this._pdfInfo=t,this._transport=r,Object.defineProperty(this,"fingerprint",{get:function(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(_regenerator.default.mark(function e(){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),e.abrupt("return",n.stats||{streamTypes:{},fontTypes:{}});case 2:case"end":return e.stop()}},e)}));return e}()})}return _createClass(e,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"stats",get:function(){return this._transport.stats}},{key:"isPureXfa",get:function(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),e}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function e(t,r,n,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,e),this._pageIndex=t,this._pageInfo=r,this._ownerDocument=a,this._transport=n,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}return _createClass(e,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,r=e.rotation,n=void 0===r?this.rotate:r,a=e.offsetX,i=void 0===a?0:a,o=e.offsetY,s=void 0===o?0:o,l=e.dontFlip,u=void 0!==l&&l;return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:n,offsetX:i,offsetY:s,dontFlip:u})}},{key:"getAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intent,r=void 0===t?"display":t,n=this._transport.getRenderingIntent(r),a=this._annotationPromises.get(n.cacheKey);return a||(a=this._transport.getAnnotations(this._pageIndex,n.renderingIntent),this._annotationPromises.set(n.cacheKey,a),a=a.then(function(e){var t,r=_createForOfIteratorHelper(e);try{var n=function(){var e=t.value;void 0!==e.titleObj&&Object.defineProperty(e,"title",{get:function(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),e.titleObj.str}}),void 0!==e.contentsObj&&Object.defineProperty(e,"contents",{get:function(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),e.contentsObj.str}})};for(r.s();!(t=r.n()).done;)n()}catch(e){r.e(e)}finally{r.f()}return e})),a}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(_regenerator.default.mark(function e(){var t;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(null===(t=this._transport._htmlForXfa)||void 0===t?void 0:t.children[this._pageIndex])||null);case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"render",value:function(e){var t,r,n,a=this,i=e.canvasContext,o=e.viewport,s=e.intent,l=void 0===s?"display":s,u=e.annotationMode,c=void 0===u?_util.AnnotationMode.ENABLE:u,f=e.transform,h=void 0===f?null:f,d=e.imageLayer,p=void 0===d?null:d,v=e.canvasFactory,y=void 0===v?null:v,g=e.background,m=void 0===g?null:g,b=e.optionalContentConfigPromise,_=void 0===b?null:b,A=e.annotationCanvasMap,S=void 0===A?null:A,k=e.pageColors,x=void 0===k?null:k;void 0!==(null===(t=arguments[0])||void 0===t?void 0:t.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null===(r=arguments[0])||void 0===r?void 0:r.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");var w=this._transport.getRenderingIntent(l,c);this.pendingCleanup=!1,_||(_=this._transport.getOptionalContentConfig());var C=this._intentStates.get(w.cacheKey);C||(C=Object.create(null),this._intentStates.set(w.cacheKey,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);var P=y||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),T=!!(w.renderingIntent&_util.RenderingIntentFlag.PRINT);C.displayReadyCapability||(C.displayReadyCapability=(0,_util.createPromiseCapability)(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(w));var O=function(e){C.renderTasks.delete(E),(a.cleanupAfterRender||T)&&(a.pendingCleanup=!0),a._tryCleanup(),e?(E.capability.reject(e),a._abortOperatorList({intentState:C,reason:e instanceof Error?e:new Error(e)})):E.capability.resolve(),a._stats&&(a._stats.timeEnd("Rendering"),a._stats.timeEnd("Overall"))},E=new InternalRenderTask({callback:O,params:{canvasContext:i,viewport:o,transform:h,imageLayer:p,background:m},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:S,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:P,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:x});((n=C).renderTasks||(n.renderTasks=new Set)).add(E);var F=E.task;return Promise.all([C.displayReadyCapability.promise,_]).then(function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];return a.pendingCleanup?void O():(a._stats&&a._stats.time("Rendering"),E.initializeGraphics({transparency:r,optionalContentConfig:n}),void E.operatorListChanged())}).catch(O),F}},{key:"getOperatorList",value:function(){function e(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(l))}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.intent,n=void 0===r?"display":r,a=t.annotationMode,i=void 0===a?_util.AnnotationMode.ENABLE:a,o=this._transport.getRenderingIntent(n,i,!0),s=this._intentStates.get(o.cacheKey);s||(s=Object.create(null),this._intentStates.set(o.cacheKey,s));var l;if(!s.opListReadCapability){var u;l=Object.create(null),l.operatorListChanged=e,s.opListReadCapability=(0,_util.createPromiseCapability)(),((u=s).renderTasks||(u.renderTasks=new Set)).add(l),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(o)}return s.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableCombineTextItems,r=void 0!==t&&t,n=e.includeMarkedContent,a=void 0!==n&&n,i=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:r!==!0,includeMarkedContent:a===!0},{highWaterMark:i,size:function(e){return e.items.length}})}},{key:"getTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(function(e){return _xfa_text.XfaText.textContent(e)});var t=this.streamTextContent(e);return new Promise(function(e,r){function n(){a.read().then(function(t){var r,a=t.value,o=t.done;return o?void e(i):(Object.assign(i.styles,a.styles),(r=i.items).push.apply(r,_toConsumableArray(a.items)),void n())},r)}var a=t.getReader(),i={items:[],styles:Object.create(null)};n()})}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0;var e,t=[],r=_createForOfIteratorHelper(this._intentStates.values());try{for(r.s();!(e=r.n()).done;){var n=e.value;if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability){var a,i=_createForOfIteratorHelper(n.renderTasks);try{for(i.s();!(a=i.n()).done;){var o=a.value;t.push(o.completed),o.cancel()}}catch(e){i.e(e)}finally{i.f()}}}}catch(e){r.e(e)}finally{r.f()}this.objs.clear();var s,l=_createForOfIteratorHelper(this._bitmaps);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.close()}}catch(e){l.e(e)}finally{l.f()}return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(t)}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}},{key:"_tryCleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var t,r=_createForOfIteratorHelper(this._intentStates.values());try{for(r.s();!(t=r.n()).done;){var n=t.value,a=n.renderTasks,i=n.operatorList;if(a.size>0||!i.lastChunk)return!1}}catch(e){r.e(e)}finally{r.f()}this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer);var o,s=_createForOfIteratorHelper(this._bitmaps);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.close()}}catch(e){s.e(e)}finally{s.f()}return this._bitmaps.clear(),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(e,t){var r=this._intentStates.get(t);r&&(this._stats&&this._stats.timeEnd("Page Request"),r.displayReadyCapability&&r.displayReadyCapability.resolve(e))}},{key:"_renderPageChunk",value:function(e,t){for(var r=0,n=e.length;r<n;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk;var a,i=_createForOfIteratorHelper(t.renderTasks);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.operatorListChanged()}}catch(e){i.e(e)}finally{i.f()}e.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(e){var t=this,r=e.renderingIntent,n=e.cacheKey,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:r,cacheKey:n,annotationStorage:r&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}),i=a.getReader(),o=this._intentStates.get(n);o.streamReader=i;var s=function e(){i.read().then(function(r){var n=r.value,a=r.done;return a?void(o.streamReader=null):void(t._transport.destroyed||(t._renderPageChunk(n,o),e()))},function(e){if(o.streamReader=null,!t._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;var r,n=_createForOfIteratorHelper(o.renderTasks);try{for(n.s();!(r=n.n()).done;){var a=r.value;a.operatorListChanged()}}catch(e){n.e(e)}finally{n.f()}t._tryCleanup()}if(o.displayReadyCapability)o.displayReadyCapability.reject(e);else{if(!o.opListReadCapability)throw e;o.opListReadCapability.reject(e)}}})};s()}},{key:"_abortOperatorList",value:function(e){var t=this,r=e.intentState,n=e.reason,a=e.force,i=void 0!==a&&a;if(r.streamReader){if(!i){if(r.renderTasks.size>0)return;if(n instanceof _display_utils.RenderingCancelledException)return void(r.streamReaderCancelTimeout=setTimeout(function(){t._abortOperatorList({intentState:r,reason:n,force:!0}),r.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(r.streamReader.cancel(new _util.AbortException(n.message)).catch(function(){}),
r.streamReader=null,!this._transport.destroyed){var o,s=_createForOfIteratorHelper(this._intentStates);try{for(s.s();!(o=s.n()).done;){var l=_slicedToArray(o.value,2),u=l[0],c=l[1];if(c===r){this._intentStates.delete(u);break}}}catch(e){s.e(e)}finally{s.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),e}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function e(){_classCallCheck(this,e),this._listeners=[],this._deferred=Promise.resolve()}return _createClass(e,[{key:"postMessage",value:function(e,t){var r=this,n={data:structuredClone(e,t)};this._deferred.then(function(){var e,t=_createForOfIteratorHelper(r._listeners);try{for(t.s();!(e=t.n()).done;){var a=e.value;a.call(r,n)}}catch(e){t.e(e)}finally{t.f()}})}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){var r=this._listeners.indexOf(t);this._listeners.splice(r,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),e}();exports.LoopbackPort=LoopbackPort;var PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS&&"function"==typeof require)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===("undefined"==typeof document?"undefined":_typeof(document))){var _document,_document$currentScri,pdfjsFilePath=null===(_document=document)||void 0===_document?void 0:null===(_document$currentScri=_document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(e,t){var r;try{if(r=new URL(e),!r.origin||"null"===r.origin)return!1}catch(e){return!1}var n=new URL(t,r);return r.origin===n.origin},PDFWorkerUtil.createCDNWrapper=function(e){var t='importScripts("'.concat(e,'");');return URL.createObjectURL(new Blob([t]))};var PDFWorker=function(){function PDFWorker(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=void 0===t?null:t,n=e.port,a=void 0===n?null:n,i=e.verbosity,o=void 0===i?(0,_util.getVerbosityLevel)():i;if(_classCallCheck(this,PDFWorker),a&&_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).has(a))throw new Error("Cannot use more than one PDFWorker per port.");return this.name=r,this.destroyed=!1,this.verbosity=o,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a?(_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).set(a,this),void this._initializeFromPort(a)):void this._initialize()}return _createClass(PDFWorker,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var e=this;if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){var t=PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));var r=new Worker(t),n=new _message_handler.MessageHandler("main","worker",r),a=function(){r.removeEventListener("error",i),n.destroy(),r.terminate(),e.destroyed?e._readyCapability.reject(new Error("Worker was destroyed")):e._setupFakeWorker()},i=function(){e._webWorker||a()};r.addEventListener("error",i),n.on("ConsoleLog",function(e){console.log(e.message)}),n.on("test",function(t){return r.removeEventListener("error",i),e.destroyed?void a():void(t?(e._messageHandler=n,e._port=r,e._webWorker=r,e._readyCapability.resolve(),n.send("configure",{verbosity:e.verbosity})):(e._setupFakeWorker(),n.destroy(),r.terminate()))}),n.on("ready",function(t){if(r.removeEventListener("error",i),e.destroyed)return void a();try{o()}catch(t){e._setupFakeWorker()}});var o=function(){var e=new Uint8Array;n.send("test",e,[e.buffer])};return void o()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var e=this;PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(function(t){if(e.destroyed)return void e._readyCapability.reject(new Error("Worker was destroyed"));var r=new LoopbackPort;e._port=r;var n="fake".concat(PDFWorkerUtil.fakeWorkerId++),a=new _message_handler.MessageHandler(n+"_worker",n,r);t.setup(a,r);var i=new _message_handler.MessageHandler(n,n+"_worker",r);e._messageHandler=i,e._readyCapability.resolve(),i.send("configure",{verbosity:e.verbosity})}).catch(function(t){e._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"fromPort",value:function(e){if(null===e||void 0===e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).has(e.port)?_classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).get(e.port):new PDFWorker(e)}},{key:"workerSrc",get:function(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function(){try{var e;return(null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler)||null}catch(e){return null}}},{key:"_setupFakeWorkerGlobal",get:function get(){var _this11=this,loader=function(){var _ref15=_asyncToGenerator(_regenerator.default.mark(function _callee4(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(mainWorkerMessageHandler=_this11._mainThreadWorkerMessageHandler,!mainWorkerMessageHandler){_context4.next=3;break}return _context4.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS||"function"!=typeof require){_context4.next=6;break}return worker=eval("require")(_this11.workerSrc),_context4.abrupt("return",worker.WorkerMessageHandler);case 6:return _context4.next=8,(0,_display_utils.loadScript)(_this11.workerSrc);case 8:return _context4.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context4.stop()}},_callee4)}));return function(){return _ref15.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}]),PDFWorker}();exports.PDFWorker=PDFWorker;var _workerPorts={writable:!0,value:new WeakMap};PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap,WorkerTransport=function(){function e(t,r,n,a){_classCallCheck(this,e),_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=t,this.loadingTask=r,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:r.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this._params=a,a.useWorkerFetch||(this.CMapReaderFactory=new a.CMapReaderFactory({baseUrl:a.cMapUrl,isCompressed:a.cMapPacked}),this.StandardFontDataFactory=new a.StandardFontDataFactory({baseUrl:a.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(e,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"stats",get:function(){return _classPrivateFieldGet(this,_docStats)}},{key:"getRenderingIntent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=_util.RenderingIntentFlag.DISPLAY,a="";switch(e){case"any":n=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":n=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(e))}switch(t){case _util.AnnotationMode.DISABLE:n+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:n+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:n+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,a=this.annotationStorage.hash;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(t))}return r&&(n+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:n,cacheKey:"".concat(n,"_").concat(a)}}},{key:"destroy",value:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t,r=[],n=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values());try{for(n.s();!(t=n.n()).done;){var a=t.value;r.push(a._destroy())}}catch(e){n.e(e)}finally{n.f()}_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var i=this.messageHandler.sendWithPromise("Terminate",null);return r.push(i),Promise.all(r).then(function(){e.commonObjs.clear(),e.fontLoader.clear(),_classPrivateFieldSet(e,_metadataPromise,null),e._getFieldObjectsPromise=null,e._hasJSActionsPromise=null,e._networkStream&&e._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var e=this,t=this.messageHandler,r=this.loadingTask;t.on("GetReader",function(t,r){(0,_util.assert)(e._networkStream,"GetReader - no `IPDFStream` instance available."),e._fullReader=e._networkStream.getFullReader(),e._fullReader.onProgress=function(t){e._lastProgress={loaded:t.loaded,total:t.total}},r.onPull=function(){e._fullReader.read().then(function(e){var t=e.value,n=e.done;return n?void r.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetReader - expected an ArrayBuffer."),void r.enqueue(new Uint8Array(t),1,[t]))}).catch(function(e){r.error(e)})},r.onCancel=function(t){e._fullReader.cancel(t),r.ready.catch(function(t){if(!e.destroyed)throw t})}}),t.on("ReaderHeadersReady",function(t){var n=(0,_util.createPromiseCapability)(),a=e._fullReader;return a.headersReady.then(function(){if(!a.isStreamingSupported||!a.isRangeSupported){if(e._lastProgress){var t;null===(t=r.onProgress)||void 0===t?void 0:t.call(r,e._lastProgress)}a.onProgress=function(e){var t;null===(t=r.onProgress)||void 0===t?void 0:t.call(r,{loaded:e.loaded,total:e.total})}}n.resolve({isStreamingSupported:a.isStreamingSupported,isRangeSupported:a.isRangeSupported,contentLength:a.contentLength})},n.reject),n.promise}),t.on("GetRangeReader",function(t,r){(0,_util.assert)(e._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var n=e._networkStream.getRangeReader(t.begin,t.end);return n?(r.onPull=function(){n.read().then(function(e){var t=e.value,n=e.done;return n?void r.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetRangeReader - expected an ArrayBuffer."),void r.enqueue(new Uint8Array(t),1,[t]))}).catch(function(e){r.error(e)})},void(r.onCancel=function(t){n.cancel(t),r.ready.catch(function(t){if(!e.destroyed)throw t})})):void r.close()}),t.on("GetDoc",function(t){var n=t.pdfInfo;e._numPages=n.numPages,e._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new PDFDocumentProxy(n,e))}),t.on("DocException",function(e){var t;switch(e.name){case"PasswordException":t=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":t=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":t=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":t=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":t=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}r._capability.reject(t)}),t.on("PasswordRequest",function(t){if(e._passwordCapability=(0,_util.createPromiseCapability)(),r.onPassword){var n=function(t){t instanceof Error?e._passwordCapability.reject(t):e._passwordCapability.resolve({password:t})};try{r.onPassword(n,t.code)}catch(t){e._passwordCapability.reject(t)}}else e._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return e._passwordCapability.promise}),t.on("DataLoaded",function(t){var n;null===(n=r.onProgress)||void 0===n?void 0:n.call(r,{loaded:t.length,total:t.length}),e.downloadInfoCapability.resolve(t)}),t.on("StartRenderPage",function(t){if(!e.destroyed){var r=_classPrivateFieldGet(e,_pageCache).get(t.pageIndex);r._startRenderPage(t.transparency,t.cacheKey)}}),t.on("commonobj",function(r){var n,a=_slicedToArray(r,3),i=a[0],o=a[1],s=a[2];if(!e.destroyed&&!e.commonObjs.has(i))switch(o){case"Font":var l=e._params;if("error"in s){var u=s.error;(0,_util.warn)("Error during font loading: ".concat(u)),e.commonObjs.resolve(i,u);break}var c=null;l.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled&&(c={registerFont:function(e,t){globalThis.FontInspector.fontAdded(e,t)}});var f=new _font_loader.FontFaceObject(s,{isEvalSupported:l.isEvalSupported,disableFontFace:l.disableFontFace,ignoreErrors:l.ignoreErrors,onUnsupportedFeature:e._onUnsupportedFeature.bind(e),fontRegistry:c});e.fontLoader.bind(f).catch(function(e){return t.sendWithPromise("FontFallback",{id:i})}).finally(function(){!l.fontExtraProperties&&f.data&&(f.data=null),e.commonObjs.resolve(i,f)});break;case"FontPath":case"Image":e.commonObjs.resolve(i,s);break;default:throw new Error("Got unknown common object type ".concat(o))}}),t.on("obj",function(t){var r=_slicedToArray(t,4),n=r[0],a=r[1],i=r[2],o=r[3];if(!e.destroyed){var s=_classPrivateFieldGet(e,_pageCache).get(a);if(!s.objs.has(n))switch(i){case"Image":s.objs.resolve(n,o);var l=8e6;if(o){var u;if(o.bitmap){var c=o.bitmap,f=o.width,h=o.height;u=f*h*4,s._bitmaps.add(c)}else{var d;u=(null===(d=o.data)||void 0===d?void 0:d.length)||0}u>l&&(s.cleanupAfterRender=!0)}break;case"Pattern":s.objs.resolve(n,o);break;default:throw new Error("Got unknown object type ".concat(i))}}}),t.on("DocProgress",function(t){var n;e.destroyed||(null===(n=r.onProgress)||void 0===n?void 0:n.call(r,{loaded:t.loaded,total:t.total}))}),t.on("DocStats",function(t){e.destroyed||_classPrivateFieldSet(e,_docStats,Object.freeze({streamTypes:Object.freeze(t.streamTypes),fontTypes:Object.freeze(t.fontTypes)}))}),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",function(t){return e.destroyed?Promise.reject(new Error("Worker was destroyed.")):e.CMapReaderFactory?e.CMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))}),t.on("FetchStandardFontData",function(t){return e.destroyed?Promise.reject(new Error("Worker was destroyed.")):e.StandardFontDataFactory?e.StandardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))})}},{key:"_onUnsupportedFeature",value:function(e){var t,r,n=e.featureId;this.destroyed||(null===(t=(r=this.loadingTask).onUnsupportedFeature)||void 0===t?void 0:t.call(r,n))}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(e){var t=this;if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));var r=e-1,n=_classPrivateFieldGet(this,_pagePromises).get(r);if(n)return n;var a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(function(e){if(t.destroyed)throw new Error("Transport destroyed");var n=new PDFPageProxy(r,e,t,t._params.ownerDocument,t._params.pdfBug);return _classPrivateFieldGet(t,_pageCache).set(r,n),n});return _classPrivateFieldGet(this,_pagePromises).set(r,a),a}},{key:"getPageIndex",value:function(e){return"object"!==_typeof(e)||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}},{key:"getAnnotations",value:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}},{key:"saveDocument",value:function(){var e,t,r=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null}).finally(function(){r.annotationStorage.resetModified()})}},{key:"getFieldObjects",value:function(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}},{key:"getStructTree",value:function(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(e){return new _optional_content_config.OptionalContentConfig(e)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var e=this;return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(function(t){var r,n,a,i;return{info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:null!==(r=null===(n=e._fullReader)||void 0===n?void 0:n.filename)&&void 0!==r?r:null,contentLength:null!==(a=null===(i=e._fullReader)||void 0===i?void 0:i.contentLength)&&void 0!==a?a:null}}))}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(_regenerator.default.mark(function e(){var t,r,n,a,i,o=arguments;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]&&o[0],e.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){e.next=5;break}return e.abrupt("return");case 5:r=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values()),e.prev=6,r.s();case 8:if((n=r.n()).done){e.next=15;break}if(a=n.value,i=a.cleanup()){e.next=13;break}throw new Error("startCleanup: Page ".concat(a.pageNumber," is currently rendering."));case 13:e.next=8;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),r.e(e.t0);case 20:return e.prev=20,r.f(),e.finish(20);case 23:this.commonObjs.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null;case 28:case"end":return e.stop()}},e,this,[[6,17,20,23]])}));return e}()},{key:"loadingParams",get:function(){var e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,enableXfa:e.enableXfa})}}]),e}(),_objs=new WeakMap,_ensureObj=new WeakSet,PDFObjects=function(){function e(){_classCallCheck(this,e),_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){var r=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,e);return r.capability.promise.then(function(){return t(r.data)}),null}var n=_classPrivateFieldGet(this,_objs)[e];if(null===n||void 0===n||!n.capability.settled)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}},{key:"getAll",value:function(){return _classPrivateFieldGet(this,_objs)}},{key:"has",value:function(e){var t=_classPrivateFieldGet(this,_objs)[e];return(null===t||void 0===t?void 0:t.capability.settled)||!1}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,e);r.data=t,r.capability.resolve()}},{key:"clear",value:function(){_classPrivateFieldSet(this,_objs,Object.create(null))}}]),e}(),RenderTask=function(){function e(t){_classCallCheck(this,e),this._internalRenderTask=t,this.onContinue=null}return _createClass(e,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),e}();exports.RenderTask=RenderTask;var InternalRenderTask=function(){function e(t){var r=t.callback,n=t.params,a=t.objs,i=t.commonObjs,o=t.annotationCanvasMap,s=t.operatorList,l=t.pageIndex,u=t.canvasFactory,c=t.useRequestAnimationFrame,f=void 0!==c&&c,h=t.pdfBug,d=void 0!==h&&h,p=t.pageColors,v=void 0===p?null:p;_classCallCheck(this,e),this.callback=r,this.params=n,this.objs=a,this.commonObjs=i,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=l,this.canvasFactory=u,this._pdfBug=d,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}return _createClass(e,[{key:"completed",get:function(){return this.capability.promise.catch(function(){})}},{key:"initializeGraphics",value:function(t){var r,n=t.transparency,a=void 0!==n&&n,i=t.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(_classStaticPrivateFieldSpecGet(e,e,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(e,e,_canvasInUse).add(this._canvas)}this._pdfBug&&null!==(r=globalThis.StepperManager)&&void 0!==r&&r.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var o=this.params,s=o.canvasContext,l=o.viewport,u=o.transform,c=o.imageLayer,f=o.background;this.gfx=new _canvas.CanvasGraphics(s,this.commonObjs,this.objs,this.canvasFactory,c,i,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:u,viewport:l,transparency:a,background:f}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(e,e,_canvasInUse).delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){return this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),void(this.running||this._continue())):void(this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound))}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var e=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){e._nextBound().catch(e._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:function(){function t(){return r.apply(this,arguments)}var r=_asyncToGenerator(_regenerator.default.mark(function t(){return _regenerator.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.cancelled){t.next=2;break}return t.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(e,e,_canvasInUse).delete(this._canvas),this.callback()));case 4:case"end":return t.stop()}},t,this)}));return t}()}]),e}(),_canvasInUse={writable:!0,value:new WeakSet},version="2.14.318";exports.version=version;var build="ecaa9f5e3";exports.build=build},function(e,t,r){"use strict";e.exports=r(157)},function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=r.nmd(e);var a=function(e){function t(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function r(e,t,r,n){var a=t&&t.prototype instanceof i?t:i,o=Object.create(a.prototype),s=new p(n||[]);return o._invoke=c(e,r,s),o}function a(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function i(){}function o(){}function s(){}function l(e){["next","throw","return"].forEach(function(r){t(e,r,function(e){return this._invoke(r,e)})})}function u(e,t){function r(i,o,s,l){var u=a(e[i],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===n(f)&&b.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,s,l)},function(e){r("throw",e,s,l)}):t.resolve(f).then(function(e){c.value=e,s(c)},function(e){return r("throw",e,s,l)})}l(u.arg)}function i(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return o=o?o.then(a,a):a()}var o;this._invoke=i}function c(e,t,r){var n=x;return function(i,o){if(n===C)throw new Error("Generator is already running");if(n===P){if("throw"===i)throw o;return y()}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var l=f(s,r);if(l){if(l===T)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===x)throw n=P,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=C;var u=a(e,t,r);if("normal"===u.type){if(n=r.done?P:w,u.arg===T)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=P,r.method="throw",r.arg=u.arg)}}}function f(e,t){var r=e.iterator[t.method];if(r===g){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=g,f(e,t),"throw"===t.method))return T;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var n=a(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,T;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g),t.delegate=null,T):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,T)}function h(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(h,this),this.reset(!0)}function v(e){if(e){var t=e[A];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(b.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=g,t.done=!0,t};return n.next=n}}return{next:y}}function y(){return{value:g,done:!0}}var g,m=Object.prototype,b=m.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},A=_.iterator||"@@iterator",S=_.asyncIterator||"@@asyncIterator",k=_.toStringTag||"@@toStringTag";try{t({},"")}catch(e){t=function(e,t,r){return e[t]=r}}e.wrap=r;var x="suspendedStart",w="suspendedYield",C="executing",P="completed",T={},O={};t(O,A,function(){return this});var E=Object.getPrototypeOf,F=E&&E(E(v([])));F&&F!==m&&b.call(F,A)&&(O=F);var R=s.prototype=i.prototype=Object.create(O);return o.prototype=s,t(R,"constructor",s),t(s,"constructor",o),o.displayName=t(s,k,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,t(e,k,"GeneratorFunction")),e.prototype=Object.create(R),e},e.awrap=function(e){return{__await:e}},l(u.prototype),t(u.prototype,S,function(){return this}),e.AsyncIterator=u,e.async=function(t,n,a,i,o){
void 0===o&&(o=Promise);var s=new u(r(t,n,a,i),o);return e.isGeneratorFunction(n)?s:s.next().then(function(e){return e.done?e.value:s.next()})},l(R),t(R,k,"Generator"),t(R,A,function(){return this}),t(R,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=v,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=g),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],i=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var o=b.call(a,"catchLoc"),s=b.call(a,"finallyLoc");if(o&&s){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&b.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,T):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),T},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),d(r),T}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;d(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:v(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=g),T}},e}("object"===n(e)?e.exports:{});try{regeneratorRuntime=a}catch(e){"object"===("undefined"==typeof globalThis?"undefined":n(globalThis))?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw i}}}}function o(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function u(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){function i(e){l(s,n,a,i,o,"next",e)}function o(e){l(s,n,a,i,o,"throw",e)}var s=e.apply(t,r);i(void 0)})}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=v();return function(){var r,n=y(e);if(t){var a=y(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){return S.apply(this,arguments)}function S(){return S=u(F.default.mark(function e(t){var r,n,a=arguments;return F.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]&&a[1],!P(t,document.baseURI)){e.next=21;break}return e.next=4,fetch(t);case 4:if(n=e.sent,n.ok){e.next=7;break}throw new Error(n.statusText);case 7:if(!r){e.next=15;break}return e.t1=Uint8Array,e.next=11,n.arrayBuffer();case 11:e.t2=e.sent,e.t0=new e.t1(e.t2),e.next=20;break;case 15:return e.t3=M.stringToBytes,e.next=18,n.text();case 18:e.t4=e.sent,e.t0=(0,e.t3)(e.t4);case 20:return e.abrupt("return",e.t0);case 21:return e.abrupt("return",new Promise(function(e,n){var a=new XMLHttpRequest;a.open("GET",t,!0),r&&(a.responseType="arraybuffer"),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){if(200===a.status||0===a.status){var t;if(r&&a.response?t=new Uint8Array(a.response):!r&&a.responseText&&(t=(0,M.stringToBytes)(a.responseText)),t)return void e(t)}n(new Error(a.statusText))}},a.send(null)}));case 22:case"end":return e.stop()}},e)})),S.apply(this,arguments)}function k(e){for(var t=e.length,r=0;r<t&&""===e[r].trim();)r++;return"data:"===e.substring(r,r+5).toLowerCase()}function x(e){return"string"==typeof e&&/\.pdf$/i.test(e)}function w(e){var t=e.indexOf("#"),r=e.indexOf("?"),n=Math.min(t>0?t:e.length,r>0?r:e.length);return e.substring(e.lastIndexOf("/",n)+1,n)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof e)return t;if(k(e))return(0,M.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;var r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=r.exec(e),i=n.exec(a[1])||n.exec(a[2])||n.exec(a[3]);if(i&&(i=i[0],i.includes("%")))try{i=n.exec(decodeURIComponent(i))[0]}catch(e){}return i||t}function P(e,t){try{var r=t?new URL(e,t):new URL(e),n=r.protocol;return"http:"===n||"https:"===n}catch(e){return!1}}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(r,n){var a=document.createElement("script");a.src=e,a.onload=function(e){t&&a.remove(),r(e)},a.onerror=function(){n(new Error("Cannot load script at: ".concat(a.src)))},(document.head||document.documentElement).appendChild(a)})}function O(e){console.log("Deprecated API usage: "+e)}function E(e,t){var r=t.scale,n=void 0===r?1:r,a=t.rotation,i=void 0===a?0:a,o=e.attributes.style,s=o.width,l=o.height,u=[0,0,parseInt(s),parseInt(l)];return new B({viewBox:u,scale:n,rotation:i})}Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=void 0,t.deprecated=O,t.getFilenameFromUrl=w,t.getPdfFilenameFromUrl=C,t.getXfaPageViewport=E,t.isDataScheme=k,t.isPdfFile=x,t.isValidFetchUrl=P,t.loadScript=T;var F=a(r(156)),R=r(159),M=r(1),I="http://www.w3.org/2000/svg",D=m(function e(){b(this,e)});t.PixelsPerInch=D,_(D,"CSS",96),_(D,"PDF",72),_(D,"PDF_TO_CSS_UNITS",D.CSS/D.PDF);var j=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.ownerDocument,i=void 0===a?globalThis.document:a;return b(this,t),e=r.call(this),e._document=i,e}c(t,e);var r=h(t);return m(t,[{key:"_createCanvas",value:function(e,t){var r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}]),t}(R.BaseCanvasFactory);t.DOMCanvasFactory=j;var L=function(e){function t(){return b(this,t),r.apply(this,arguments)}c(t,e);var r=h(t);return m(t,[{key:"_fetchData",value:function(e,t){return A(e,this.isCompressed).then(function(e){return{cMapData:e,compressionType:t}})}}]),t}(R.BaseCMapReaderFactory);t.DOMCMapReaderFactory=L;var N=function(e){function t(){return b(this,t),r.apply(this,arguments)}c(t,e);var r=h(t);return m(t,[{key:"_fetchData",value:function(e){return A(e,!0)}}]),t}(R.BaseStandardFontDataFactory);t.DOMStandardFontDataFactory=N;var U=function(e){function t(){return b(this,t),r.apply(this,arguments)}c(t,e);var r=h(t);return m(t,[{key:"_createSVG",value:function(e){return document.createElementNS(I,e)}}]),t}(R.BaseSVGFactory);t.DOMSVGFactory=U;var B=function(){function e(t){var r=t.viewBox,n=t.scale,a=t.rotation,i=t.offsetX,o=void 0===i?0:i,s=t.offsetY,l=void 0===s?0:s,u=t.dontFlip,c=void 0!==u&&u;b(this,e),this.viewBox=r,this.scale=n,this.rotation=a,this.offsetX=o,this.offsetY=l;var f,h,d,p,v=(r[2]+r[0])/2,y=(r[3]+r[1])/2;switch(a%=360,a<0&&(a+=360),a){case 180:f=-1,h=0,d=0,p=1;break;case 90:f=0,h=1,d=1,p=0;break;case 270:f=0,h=-1,d=-1,p=0;break;case 0:f=1,h=0,d=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(d=-d,p=-p);var g,m,_,A;0===f?(g=Math.abs(y-r[1])*n+o,m=Math.abs(v-r[0])*n+l,_=Math.abs(r[3]-r[1])*n,A=Math.abs(r[2]-r[0])*n):(g=Math.abs(v-r[0])*n+o,m=Math.abs(y-r[1])*n+l,_=Math.abs(r[2]-r[0])*n,A=Math.abs(r[3]-r[1])*n),this.transform=[f*n,h*n,d*n,p*n,g-f*n*v-d*n*y,m-h*n*v-p*n*y],this.width=_,this.height=A}return m(e,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.scale,n=void 0===r?this.scale:r,a=t.rotation,i=void 0===a?this.rotation:a,o=t.offsetX,s=void 0===o?this.offsetX:o,l=t.offsetY,u=void 0===l?this.offsetY:l,c=t.dontFlip,f=void 0!==c&&c;return new e({viewBox:this.viewBox.slice(),scale:n,rotation:i,offsetX:s,offsetY:u,dontFlip:f})}},{key:"convertToViewportPoint",value:function(e,t){return M.Util.applyTransform([e,t],this.transform)}},{key:"convertToViewportRectangle",value:function(e){var t=M.Util.applyTransform([e[0],e[1]],this.transform),r=M.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}},{key:"convertToPdfPoint",value:function(e,t){return M.Util.applyInverseTransform([e,t],this.transform)}}]),e}();t.PageViewport=B;var W=function(e){function t(e,n){var a;return b(this,t),a=r.call(this,e,"RenderingCancelledException"),a.type=n,a}c(t,e);var r=h(t);return m(t)}(M.BaseException);t.RenderingCancelledException=W;var G=function(){function e(){b(this,e),this.started=Object.create(null),this.times=[]}return m(e,[{key:"time",value:function(e){e in this.started&&(0,M.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}},{key:"timeEnd",value:function(e){e in this.started||(0,M.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}},{key:"toString",value:function(){var e,t=[],r=0,n=i(this.times);try{for(n.s();!(e=n.n()).done;){var a=e.value,o=a.name;o.length>r&&(r=o.length)}}catch(e){n.e(e)}finally{n.f()}var s,l=i(this.times);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=u.end-u.start;t.push("".concat(u.name.padEnd(r)," ").concat(c,"ms\n"))}}catch(e){l.e(e)}finally{l.f()}return t.join("")}}]),e}();t.StatTimer=G;var q,H=function(){function e(){b(this,e)}return m(e,null,[{key:"toDateObject",value:function(e){if(!e||"string"!=typeof e)return null;q||(q=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var t=q.exec(e);if(!t)return null;var r=parseInt(t[1],10),n=parseInt(t[2],10);n=n>=1&&n<=12?n-1:0;var a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;var i=parseInt(t[4],10);i=i>=0&&i<=23?i:0;var o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;var s=parseInt(t[6],10);s=s>=0&&s<=59?s:0;var l=t[7]||"Z",u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;var c=parseInt(t[9],10)||0;return c=c>=0&&c<=59?c:0,"-"===l?(i+=u,o+=c):"+"===l&&(i-=u,o-=c),new Date(Date.UTC(r,n,a,i,o,s))}}]),e}();t.PDFDateString=H},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){function o(e){a(l,n,i,o,s,"next",e)}function s(e){a(l,n,i,o,s,"throw",e)}var l=e.apply(t,r);o(void 0)})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var u=n(r(156)),c=r(1),f=function(){function e(){o(this,e),this.constructor===e&&(0,c.unreachable)("Cannot initialize BaseCanvasFactory.")}return l(e,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d")}}},{key:"reset",value:function(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}},{key:"_createCanvas",value:function(e,t){(0,c.unreachable)("Abstract method `_createCanvas` called.")}}]),e}();t.BaseCanvasFactory=f;var h=function(){function e(t){var r=t.baseUrl,n=void 0===r?null:r,a=t.isCompressed,i=void 0!==a&&a;o(this,e),this.constructor===e&&(0,c.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=n,this.isCompressed=i}return l(e,[{key:"fetch",value:function(){function e(e){return t.apply(this,arguments)}var t=i(u.default.mark(function e(t){var r,n,a,i=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.name,this.baseUrl){e.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(r){e.next=5;break}throw new Error("CMap name must be specified.");case 5:return n=this.baseUrl+r+(this.isCompressed?".bcmap":""),a=this.isCompressed?c.CMapCompressionType.BINARY:c.CMapCompressionType.NONE,e.abrupt("return",this._fetchData(n,a).catch(function(e){throw new Error("Unable to load ".concat(i.isCompressed?"binary ":"","CMap at: ").concat(n))}));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"_fetchData",value:function(e,t){(0,c.unreachable)("Abstract method `_fetchData` called.")}}]),e}();t.BaseCMapReaderFactory=h;var d=function(){function e(t){var r=t.baseUrl,n=void 0===r?null:r;o(this,e),this.constructor===e&&(0,c.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=n}return l(e,[{key:"fetch",value:function(){function e(e){return t.apply(this,arguments)}var t=i(u.default.mark(function e(t){var r,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.filename,this.baseUrl){e.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(r){e.next=5;break}throw new Error("Font filename must be specified.");case 5:return n="".concat(this.baseUrl).concat(r),e.abrupt("return",this._fetchData(n).catch(function(e){throw new Error("Unable to load font data at: ".concat(n))}));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"_fetchData",value:function(e){(0,c.unreachable)("Abstract method `_fetchData` called.")}}]),e}();t.BaseStandardFontDataFactory=d;var p=function(){function e(){o(this,e),this.constructor===e&&(0,c.unreachable)("Cannot initialize BaseSVGFactory.")}return l(e,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");var r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),r.setAttribute("width","".concat(e,"px")),r.setAttribute("height","".concat(t,"px")),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),r}},{key:"createElement",value:function(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}},{key:"_createSVG",value:function(e){(0,c.unreachable)("Abstract method `_createSVG` called.")}}]),e}();t.BaseSVGFactory=p},function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=c();return function(){var r,n=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function d(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){function i(e){h(s,n,a,i,o,"next",e)}function o(e){h(s,n,a,i,o,"throw",e)}var s=e.apply(t,r);i(void 0)})}}function p(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function v(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var _,A=a(r(156)),S=r(1),k=function(){function e(t){var r=t.docId,n=t.onUnsupportedFeature,a=t.ownerDocument,i=void 0===a?globalThis.document:a;t.styleElement;g(this,e),this.docId=r,this._onUnsupportedFeature=n,this._document=i,this.nativeFontFaces=[],this.styleElement=null}return b(e,[{key:"addNativeFontFace",value:function(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}},{key:"insertRule",value:function(e){var t=this.styleElement;t||(t=this.styleElement=this._document.createElement("style"),t.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(t));var r=t.sheet;r.insertRule(e,r.cssRules.length)}},{key:"clear",value:function(){var e,t=p(this.nativeFontFaces);try{for(t.s();!(e=t.n()).done;){var r=e.value;this._document.fonts.delete(r)}}catch(e){t.e(e)}finally{t.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){function e(e){return t.apply(this,arguments)}var t=d(A.default.mark(function e(t){var r,n,a=this;return A.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.attached&&!t.missingFile){e.next=2;break}return e.abrupt("return");case 2:if(t.attached=!0,!this.isFontLoadingAPISupported){e.next=19;break}if(r=t.createNativeFontFace(),!r){e.next=18;break}return this.addNativeFontFace(r),e.prev=7,e.next=10,r.loaded;case 10:e.next=18;break;case 12:throw e.prev=12,e.t0=e.catch(7),this._onUnsupportedFeature({featureId:S.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,S.warn)("Failed to load font '".concat(r.family,"': '").concat(e.t0,"'.")),t.disableFontFace=!0,e.t0;case 18:return e.abrupt("return");case 19:if(n=t.createFontFaceRule(),!n){e.next=26;break}if(this.insertRule(n),!this.isSyncFontLoadingSupported){e.next=24;break}return e.abrupt("return");case 24:return e.next=26,new Promise(function(e){var r=a._queueLoadingCallback(e);a._prepareFontLoadEvent([n],[t],r)});case 26:case"end":return e.stop()}},e,this,[[7,12]])}));return e}()},{key:"_queueLoadingCallback",value:function(e){(0,S.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var e,t=!(null===(e=this._document)||void 0===e||!e.fonts);return(0,S.shadow)(this,"isFontLoadingAPISupported",t)}},{key:"isSyncFontLoadingSupported",get:function(){(0,S.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,S.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(e,t,r){(0,S.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),e}();t.FontLoader=_,t.FontLoader=_=function(e){function t(e){var n;return g(this,t),n=r.call(this,e),n.loadingContext={requests:[],nextRequestId:0},n.loadTestFontId=0,n}i(t,e);var r=s(t);return b(t,[{key:"isSyncFontLoadingSupported",get:function(){var e=!1;if("undefined"==typeof navigator)e=!0;else{var t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null===t||void 0===t?void 0:t[1])>=14&&(e=!0)}return(0,S.shadow)(this,"isSyncFontLoadingSupported",e)}},{key:"_queueLoadingCallback",value:function(e){function t(){for((0,S.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;r.requests.length>0&&r.requests[0].done;){var e=r.requests.shift();setTimeout(e.callback,0)}}var r=this.loadingContext,n={id:"pdfjs-font-loading-".concat(r.nextRequestId++),done:!1,complete:t,callback:e};return r.requests.push(n),n}},{key:"_loadTestFont",get:function(){var e=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,S.shadow)(this,"_loadTestFont",e())}},{key:"_prepareFontLoadEvent",value:function(e,t,r){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function a(e,t,r,n){var a=e.substring(0,t),i=e.substring(t+r);return a+n+i}function i(e,t){if(c++,c>30)return(0,S.warn)("Load test font never loaded."),void t();u.font="30px "+e,u.fillText(".",0,20);var r=u.getImageData(0,0,1,1);return r.data[3]>0?void t():void setTimeout(i.bind(null,e,t))}var o,s,l=this._document.createElement("canvas");l.width=1,l.height=1;var u=l.getContext("2d"),c=0,f="lt".concat(Date.now()).concat(this.loadTestFontId++),h=this._loadTestFont,d=976;h=a(h,d,f.length,f);var v=16,y=1482184792,g=n(h,v);for(o=0,s=f.length-3;o<s;o+=4)g=g-y+n(f,o)|0;o<f.length&&(g=g-y+n(f+"XXX",o)|0),h=a(h,v,4,(0,S.string32)(g));var m="url(data:font/opentype;base64,".concat(btoa(h),");"),b='@font-face {font-family:"'.concat(f,'";src:').concat(m,"}");this.insertRule(b);var _,A=[],k=p(t);try{for(k.s();!(_=k.n()).done;){var x=_.value;A.push(x.loadedName)}}catch(e){k.e(e)}finally{k.f()}A.push(f);var w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(var C=0,P=A;C<P.length;C++){var T=P[C],O=this._document.createElement("span");O.textContent="Hi",O.style.fontFamily=T,w.appendChild(O)}this._document.body.appendChild(w),i(f,function(){w.remove(),r.complete()})}}]),t}(k);var x=function(){function e(t,r){var n=r.isEvalSupported,a=void 0===n||n,i=r.disableFontFace,o=void 0!==i&&i,s=r.ignoreErrors,l=void 0!==s&&s,u=r.onUnsupportedFeature,c=r.fontRegistry,f=void 0===c?null:c;g(this,e),this.compiledGlyphs=Object.create(null);for(var h in t)this[h]=t[h];this.isEvalSupported=a!==!1,this.disableFontFace=o===!0,this.ignoreErrors=l===!0,this._onUnsupportedFeature=u,this.fontRegistry=f}return b(e,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var e;if(this.cssFontInfo){var t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var e,t=(0,S.bytesToString)(this.data),r="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");");if(this.cssFontInfo){var n="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(n+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),e='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(n,"src:").concat(r,"}")}else e='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(r,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,r),e}},{key:"getPathGenerator",value:function(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];var r;try{r=e.get(this.loadedName+"_path_"+t)}catch(e){if(!this.ignoreErrors)throw e;return this._onUnsupportedFeature({featureId:S.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,S.warn)('getPathGenerator - ignoring character: "'.concat(e,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&S.FeatureTest.isEvalSupported){var n,a=[],i=p(r);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=void 0!==o.args?o.args.join(","):"";a.push("c.",o.cmd,"(",s,");\n")}}catch(e){i.e(e)}finally{i.f()}return this.compiledGlyphs[t]=new Function("c","size",a.join(""))}return this.compiledGlyphs[t]=function(e,t){var n,a=p(r);try{for(a.s();!(n=a.n()).done;){var i=n.value;"scale"===i.cmd&&(i.args=[t,-t]),e[i.cmd].apply(e,i.args)}}catch(e){a.e(e)}finally{a.f()}}}}]),e}();t.FontFaceObject=x},function(e,t,r){"use strict";function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw i}}}}function a(e,t){return u(e)||l(e,t)||o(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];
return n}function l(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}function u(e){if(Array.isArray(e))return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationStorage=void 0;var d=r(162),p=r(1),v=function(){function e(){c(this,e),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}return h(e,[{key:"getValue",value:function(e,t){var r=this._storage.get(e);return void 0===r?t:Object.assign(t,r)}},{key:"getRawValue",value:function(e){return this._storage.get(e)}},{key:"setValue",value:function(e,t){var r=this._storage.get(e),n=!1;if(void 0!==r)for(var i=0,o=Object.entries(t);i<o.length;i++){var s=a(o[i],2),l=s[0],u=s[1];r[l]!==u&&(n=!0,r[l]=u)}else n=!0,this._storage.set(e,t);n&&this._setModified()}},{key:"getAll",value:function(){return this._storage.size>0?(0,p.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}},{key:"hash",get:function(){var e,t=new d.MurmurHash3_64,r=n(this._storage);try{for(r.s();!(e=r.n()).done;){var i=a(e.value,2),o=i[0],s=i[1];t.update("".concat(o,":").concat(JSON.stringify(s)))}}catch(e){r.e(e)}finally{r.f()}return t.hexdigest()}}]),e}();t.AnnotationStorage=v},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var o=r(1),s=3285377520,l=4294901760,u=65535,c=function(){function e(t){n(this,e),this.h1=t?4294967295&t:s,this.h2=t?4294967295&t:s}return i(e,[{key:"update",value:function(e){var t,r;if("string"==typeof e){t=new Uint8Array(2*e.length),r=0;for(var n=0,a=e.length;n<a;n++){var i=e.charCodeAt(n);i<=255?t[r++]=i:(t[r++]=i>>>8,t[r++]=255&i)}}else{if(!(0,o.isArrayBuffer)(e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");t=e.slice(),r=t.byteLength}for(var s=r>>2,c=r-4*s,f=new Uint32Array(t.buffer,0,s),h=0,d=0,p=this.h1,v=this.h2,y=3432918353,g=461845907,m=y&u,b=g&u,_=0;_<s;_++)1&_?(h=f[_],h=h*y&l|h*m&u,h=h<<15|h>>>17,h=h*g&l|h*b&u,p^=h,p=p<<13|p>>>19,p=5*p+3864292196):(d=f[_],d=d*y&l|d*m&u,d=d<<15|d>>>17,d=d*g&l|d*b&u,v^=d,v=v<<13|v>>>19,v=5*v+3864292196);switch(h=0,c){case 3:h^=t[4*s+2]<<16;case 2:h^=t[4*s+1]<<8;case 1:h^=t[4*s],h=h*y&l|h*m&u,h=h<<15|h>>>17,h=h*g&l|h*b&u,1&s?p^=h:v^=h}this.h1=p,this.h2=v}},{key:"hexdigest",value:function(){var e=this.h1,t=this.h2;e^=t>>>1,e=3981806797*e&l|36045*e&u,t=4283543511*t&l|(2950163797*(t<<16|e>>>16)&l)>>>16,e^=t>>>1,e=444984403*e&l|60499*e&u,t=3301882366*t&l|(3120437893*(t<<16|e>>>16)&l)>>>16,e^=t>>>1;var r=(e>>>0).toString(16),n=(t>>>0).toString(16);return r.padStart(8,"0")+n.padStart(8,"0")}}]),e}();t.MurmurHash3_64=c},function(e,t,r){"use strict";function n(e){return o(e)||i(e)||p(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function o(e){if(Array.isArray(e))return v(e)}function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=p(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){return g(e)||y(e,t)||p(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}function g(e){if(Array.isArray(e))return e}function m(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=function(){e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,r){t.translate(e,r),this.__originalTranslate(e,r)},e.scale=function(e,r){t.scale(e,r),this.__originalScale(e,r)},e.transform=function(e,r,n,a,i,o){t.transform(e,r,n,a,i,o),this.__originalTransform(e,r,n,a,i,o)},e.setTransform=function(e,r,n,a,i,o){t.setTransform(e,r,n,a,i,o),this.__originalSetTransform(e,r,n,a,i,o)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,r){t.moveTo(e,r),this.__originalMoveTo(e,r)},e.lineTo=function(e,r){t.lineTo(e,r),this.__originalLineTo(e,r)},e.bezierCurveTo=function(e,r,n,a,i,o){t.bezierCurveTo(e,r,n,a,i,o),this.__originalBezierCurveTo(e,r,n,a,i,o)},e.rect=function(e,r,n,a){t.rect(e,r,n,a),this.__originalRect(e,r,n,a)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}function b(e){if(e._transformStack&&(e._transformStack=[]),!e.mozCurrentTransform){e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._originalResetTransform=e.resetTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[];try{var t=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"lineWidth");e._setLineWidth=t.set,e._getLineWidth=t.get,Object.defineProperty(e,"lineWidth",{set:function(e){this._setLineWidth(e*z)},get:function(){return this._getLineWidth()}})}catch(e){}Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=h(this._transformMatrix,6),t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],s=t*a-r*n,l=r*n-t*a;return[a/s,r/l,n/l,t/s,(a*i-n*o)/l,(r*i-t*o)/s]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){0===this._transformStack.length&&(0,R.warn)("Tried to restore a ctx when the stack was already empty.");var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var r=this._transformMatrix;r[4]=r[0]*e+r[2]*t+r[4],r[5]=r[1]*e+r[3]*t+r[5],this._originalTranslate(e,t)},e.scale=function(e,t){var r=this._transformMatrix;r[0]*=e,r[1]*=e,r[2]*=t,r[3]*=t,this._originalScale(e,t)},e.transform=function(t,r,n,a,i,o){var s=this._transformMatrix;this._transformMatrix=[s[0]*t+s[2]*r,s[1]*t+s[3]*r,s[0]*n+s[2]*a,s[1]*n+s[3]*a,s[0]*i+s[2]*o+s[4],s[1]*i+s[3]*o+s[5]],e._originalTransform(t,r,n,a,i,o)},e.setTransform=function(t,r,n,a,i,o){this._transformMatrix=[t,r,n,a,i,o],e._originalSetTransform(t,r,n,a,i,o)},e.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],e._originalResetTransform()},e.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),n=this._transformMatrix;this._transformMatrix=[n[0]*t+n[2]*r,n[1]*t+n[3]*r,n[0]*-r+n[2]*t,n[1]*-r+n[3]*t,n[4],n[5]],this._originalRotate(e)}}}function _(e,t,r,n,a,i,o,s,l,u){var c=h(e.mozCurrentTransform,6),f=c[0],d=c[1],p=c[2],v=c[3],y=c[4],g=c[5];if(0===d&&0===p){var m=o*f+y,b=Math.round(m),_=s*v+g,A=Math.round(_),S=(o+l)*f+y,k=Math.abs(Math.round(S)-b)||1,x=(s+u)*v+g,w=Math.abs(Math.round(x)-A)||1;return e.setTransform(Math.sign(f),0,0,Math.sign(v),b,A),e.drawImage(t,r,n,a,i,0,0,k,w),e.setTransform(f,d,p,v,y,g),[k,w]}if(0===f&&0===v){var C=s*p+y,P=Math.round(C),T=o*d+g,O=Math.round(T),E=(s+u)*p+y,F=Math.abs(Math.round(E)-P)||1,R=(o+l)*d+g,M=Math.abs(Math.round(R)-O)||1;return e.setTransform(0,Math.sign(d),Math.sign(p),0,P,O),e.drawImage(t,r,n,a,i,0,0,M,F),e.setTransform(f,d,p,v,y,g),[M,F]}e.drawImage(t,r,n,a,i,o,s,l,u);var I=Math.hypot(f,d),D=Math.hypot(p,v);return[I*l,D*u]}function A(e){var t=e.width,r=e.height;if(!G||t>q||r>q)return null;var n,a,i,o,s=1e3,u=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),c=t+1,f=new Uint8Array(c*(r+1)),h=t+7&-8,d=new Uint8Array(h*r),p=0,v=l(e.data);try{for(v.s();!(o=v.n()).done;)for(var y=o.value,g=128;g>0;)d[p++]=y&g?0:255,g>>=1}catch(e){v.e(e)}finally{v.f()}var m=0;for(p=0,0!==d[p]&&(f[0]=1,++m),a=1;a<t;a++)d[p]!==d[p+1]&&(f[a]=d[p]?2:1,++m),p++;for(0!==d[p]&&(f[a]=2,++m),n=1;n<r;n++){p=n*h,i=n*c,d[p-h]!==d[p]&&(f[i]=d[p]?1:8,++m);var b=(d[p]?4:0)+(d[p-h]?8:0);for(a=1;a<t;a++)b=(b>>2)+(d[p+1]?4:0)+(d[p-h+1]?8:0),u[b]&&(f[i+a]=u[b],++m),p++;if(d[p-h]!==d[p]&&(f[i+a]=d[p]?2:4,++m),m>s)return null}for(p=h*(r-1),i=n*c,0!==d[p]&&(f[i]=8,++m),a=1;a<t;a++)d[p]!==d[p+1]&&(f[i+a]=d[p]?4:8,++m),p++;if(0!==d[p]&&(f[i+a]=4,++m),m>s)return null;var _,A,S,k=new Int32Array([0,c,-1,0,-c,0,0,0,1]);for(D.isNodeJS?A=[]:_=new Path2D,n=0;m&&n<=r;n++){for(var x=n*c,w=x+t;x<w&&!f[x];)x++;if(x!==w){_?_.moveTo(x%c,n):S=[x%c,n];var C=x,P=f[x];do{var T=k[P];do x+=T;while(!f[x]);var O=f[x];5!==O&&10!==O?(P=O,f[x]=0):(P=O&51*P>>4,f[x]&=P>>2|P<<2),_?_.lineTo(x%c,x/c|0):S.push(x%c,x/c|0),f[x]||--m}while(C!==x);_||A.push(S),--n}}d=null,f=null;var E=function(e){if(e.save(),e.scale(1/t,-1/r),e.translate(0,-r),_)e.fill(_);else{e.beginPath();var n,a=l(A);try{for(a.s();!(n=a.n()).done;){var i=n.value;e.moveTo(i[0],i[1]);for(var o=2,s=i.length;o<s;o+=2)e.lineTo(i[o],i[o+1])}}catch(e){a.e(e)}finally{a.f()}e.fill()}e.beginPath(),e.restore()};return E}function S(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);var n,a,i,o,s,l,u,c,f,h=t.height,d=t.width,p=h%H,v=(h-p)/H,y=0===p?v:v+1,g=e.createImageData(d,H),m=0,b=t.data,_=g.data;if(r)switch(r.length){case 1:l=r[0],u=r[0],c=r[0],f=r[0];break;case 4:l=r[0],u=r[1],c=r[2],f=r[3]}if(t.kind===R.ImageKind.GRAYSCALE_1BPP){var A=b.byteLength,S=new Uint32Array(_.buffer,0,_.byteLength>>2),k=S.length,x=d+7>>3,w=4294967295,C=R.FeatureTest.isLittleEndian?4278190080:255;if(f&&255===f[0]&&0===f[255]){var P=[C,w];w=P[0],C=P[1]}for(a=0;a<y;a++){for(o=a<v?H:p,n=0,i=0;i<o;i++){for(var T=A-m,O=0,E=T>x?d:8*T-7,F=E&-8,M=0,I=0;O<F;O+=8)I=b[m++],S[n++]=128&I?w:C,S[n++]=64&I?w:C,S[n++]=32&I?w:C,S[n++]=16&I?w:C,S[n++]=8&I?w:C,S[n++]=4&I?w:C,S[n++]=2&I?w:C,S[n++]=1&I?w:C;for(;O<E;O++)0===M&&(I=b[m++],M=128),S[n++]=I&M?w:C,M>>=1}for(;n<k;)S[n++]=0;e.putImageData(g,0,a*H)}}else if(t.kind===R.ImageKind.RGBA_32BPP){var D=!!(l||u||c);for(i=0,s=d*H*4,a=0;a<v;a++){if(_.set(b.subarray(m,m+s)),m+=s,D)for(var j=0;j<s;j+=4)l&&(_[j+0]=l[_[j+0]]),u&&(_[j+1]=u[_[j+1]]),c&&(_[j+2]=c[_[j+2]]);e.putImageData(g,0,i),i+=H}if(a<y){if(s=d*p*4,_.set(b.subarray(m,m+s)),D)for(var L=0;L<s;L+=4)l&&(_[L+0]=l[_[L+0]]),u&&(_[L+1]=u[_[L+1]]),c&&(_[L+2]=c[_[L+2]]);e.putImageData(g,0,i)}}else{if(t.kind!==R.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));var N=!!(l||u||c);for(o=H,s=d*o,a=0;a<y;a++){for(a>=v&&(o=p,s=d*o),n=0,i=s;i--;)_[n++]=b[m++],_[n++]=b[m++],_[n++]=b[m++],_[n++]=255;if(N)for(var U=0;U<n;U+=4)l&&(_[U+0]=l[_[U+0]]),u&&(_[U+1]=u[_[U+1]]),c&&(_[U+2]=c[_[U+2]]);e.putImageData(g,0,a*H)}}}function k(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);for(var r=t.height,n=t.width,a=r%H,i=(r-a)/H,o=0===a?i:i+1,s=e.createImageData(n,H),l=0,u=t.data,c=s.data,f=0;f<o;f++){var h=f<i?H:a,d=(0,I.applyMaskImageData)({src:u,srcPos:l,dest:c,width:n,height:h});l=d.srcPos,e.putImageData(s,0,f*H)}}function x(e,t){for(var r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],n=0,a=r.length;n<a;n++){var i=r[n];void 0!==e[i]&&(t[i]=e[i])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function w(e,t){e.strokeStyle=e.fillStyle=t||"#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function C(e,t,r,n){for(var a=e.length,i=3;i<a;i+=4){var o=e[i];if(0===o)e[i-3]=t,e[i-2]=r,e[i-1]=n;else if(o<255){var s=255-o;e[i-3]=e[i-3]*o+t*s>>8,e[i-2]=e[i-2]*o+r*s>>8,e[i-1]=e[i-1]*o+n*s>>8}}}function P(e,t,r){for(var n=e.length,a=1/255,i=3;i<n;i+=4){var o=r?r[e[i]]:e[i];t[i]=t[i]*o*a|0}}function T(e,t,r){for(var n=e.length,a=3;a<n;a+=4){var i=77*e[a-3]+152*e[a-2]+28*e[a-1];t[a]=r?t[a]*r[i>>8]>>8:t[a]*i>>16}}function O(e,t,r,n,a,i,o,s,l,u,c){var f,h=!!i,d=h?i[0]:0,p=h?i[1]:0,v=h?i[2]:0;f="Luminosity"===a?T:P;for(var y=1048576,g=Math.min(n,Math.ceil(y/r)),m=0;m<n;m+=g){var b=Math.min(g,n-m),_=e.getImageData(s-u,m+(l-c),r,b),A=t.getImageData(s,m+l,r,b);h&&C(_.data,d,p,v),f(_.data,A.data,o),t.putImageData(A,s,m+l)}}function E(e,t,r,n){var a=n[0],i=n[1],o=n[2]-a,s=n[3]-i;0!==o&&0!==s&&(O(t.context,r,o,s,t.subtype,t.backdrop,t.transferMap,a,i,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}function F(e,t){var r=R.Util.singularValueDecompose2dScale(e);r[0]=Math.fround(r[0]),r[1]=Math.fround(r[1]);var n=Math.fround((globalThis.devicePixelRatio||1)*j.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==t?t:r[0]<=n||r[1]<=n}Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var R=r(1),M=r(164),I=r(165),D=r(3),j=r(158),L=16,N=100,U=4096,B=15,W=10,G=!0,q=1e3,H=16,z=1.000001,V=function(){function e(t){u(this,e),this.canvasFactory=t,this.cache=Object.create(null)}return f(e,[{key:"getCanvas",value:function(e,t,r,n){var a;return void 0!==this.cache[e]?(a=this.cache[e],this.canvasFactory.reset(a,t,r),a.context.setTransform(1,0,0,1,0,0)):(a=this.canvasFactory.create(t,r),this.cache[e]=a),n&&b(a.context),a}},{key:"delete",value:function(e){delete this.cache[e]}},{key:"clear",value:function(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}]),e}(),X=function(){function e(t,r){u(this,e),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=R.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=R.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=R.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,t,r])}return f(e,[{key:"clone",value:function e(){var e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}},{key:"updatePathMinMax",value:function(e,t,r){var n=R.Util.applyTransform([t,r],e),a=h(n,2);t=a[0],r=a[1],this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}},{key:"updateRectMinMax",value:function(e,t){var r=R.Util.applyTransform(t,e),n=R.Util.applyTransform(t.slice(2),e);this.minX=Math.min(this.minX,r[0],n[0]),this.minY=Math.min(this.minY,r[1],n[1]),this.maxX=Math.max(this.maxX,r[0],n[0]),this.maxY=Math.max(this.maxY,r[1],n[1])}},{key:"updateScalingPathMinMax",value:function(e,t){R.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.maxX=Math.max(this.maxX,t[1]),this.minY=Math.min(this.minY,t[2]),this.maxY=Math.max(this.maxY,t[3])}},{key:"updateCurvePathMinMax",value:function(e,t,r,n,a,i,o,s,l,u){var c=R.Util.bezierBoundingBox(t,r,n,a,i,o,s,l);return u?(u[0]=Math.min(u[0],c[0],c[2]),u[1]=Math.max(u[1],c[0],c[2]),u[2]=Math.min(u[2],c[1],c[3]),void(u[3]=Math.max(u[3],c[1],c[3]))):void this.updateRectMinMax(e,c)}},{key:"getPathBoundingBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=[this.minX,this.minY,this.maxX,this.maxY];if(e===M.PathType.STROKE){t||(0,R.unreachable)("Stroke bounding box must include transform.");var n=R.Util.singularValueDecompose2dScale(t),a=n[0]*this.lineWidth/2,i=n[1]*this.lineWidth/2;r[0]-=a,r[1]-=i,r[2]+=a,r[3]+=i}return r}},{key:"updateClipFromPath",value:function(){var e=R.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}},{key:"isEmptyClip",value:function(){return this.minX===1/0}},{key:"startNewPathAndClipBox",value:function(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}},{key:"getClippedPathBoundingBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return R.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}]),e}(),Y=["butt","round","square"],K=["miter","round","bevel"],J={},Q={},$=function(){function e(t,r,n,a,i,o,s,l){u(this,e),this.ctx=t,this.current=new X(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=r,this.objs=n,this.canvasFactory=a,this.imageLayer=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=o,this.cachedCanvases=new V(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(null===l||void 0===l?void 0:l.background)||null,this.foregroundColor=(null===l||void 0===l?void 0:l.foreground)||null,t&&b(t),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}return f(e,[{key:"getObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}},{key:"beginDrawing",value:function(e){var t=e.transform,r=e.viewport,n=e.transparency,a=void 0!==n&&n,i=e.background,o=void 0===i?null:i,s=this.ctx.canvas.width,l=this.ctx.canvas.height,u=o||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;var c=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;var f=this.backgroundColor=this.ctx.fillStyle,h=!0,d=u;if(this.ctx.fillStyle=u,d=this.ctx.fillStyle,h="string"==typeof d&&/^#[0-9A-Fa-f]{6}$/.test(d),"#000000"===c&&"#ffffff"===f||c===f||!h)this.foregroundColor=this.backgroundColor=null;else{var p=parseInt(d.slice(1),16),v=(p&&16711680)>>16,y=(p&&65280)>>8,g=p&&255,m=function(e){return e/=255,e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)},b=Math.round(.2126*m(v)+.7152*m(y)+.0722*m(g));this.selectColor=function(e,t,r){var n=.2126*m(e)+.7152*m(t)+.0722*m(r);return Math.round(n)===b?f:c}}}if(this.ctx.fillStyle=this.backgroundColor||u,this.ctx.fillRect(0,0,s,l),this.ctx.restore(),a){var _=this.cachedCanvases.getCanvas("transparent",s,l,!0);this.compositeCtx=this.ctx,this.transparentCanvas=_.canvas,this.ctx=_.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),w(this.ctx,this.foregroundColor),t&&(this.ctx.transform.apply(this.ctx,t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform.apply(this.ctx,r.transform),this.viewportScale=r.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(e,t,r,n){var a=e.argsArray,i=e.fnArray,o=t||0,s=a.length;if(s===o)return o;for(var u,c=s-o>W&&"function"==typeof r,f=c?Date.now()+B:0,h=0,d=this.commonObjs,p=this.objs;;){if(void 0!==n&&o===n.nextBreakPoint)return n.breakIt(o,r),o;if(u=i[o],u!==R.OPS.dependency)this[u].apply(this,a[o]);else{var v,y=l(a[o]);try{for(y.s();!(v=y.n()).done;){var g=v.value,m=g.startsWith("g_")?d:p;if(!m.has(g))return m.get(g,r),o}}catch(e){y.e(e)}finally{y.f()}}if(o++,o===s)return o;if(c&&++h>W){if(Date.now()>f)return r(),o;h=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();var e,t=l(this._cachedBitmapsMap.values());try{for(t.s();!(e=t.n()).done;){var r,n=e.value,a=l(n.values());try{for(a.s();!(r=a.n()).done;){var i=r.value;"undefined"!=typeof HTMLCanvasElement&&i instanceof HTMLCanvasElement&&(i.width=i.height=0)}}catch(e){a.e(e)}finally{a.f()}n.clear()}}catch(e){t.e(e)}finally{t.f()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function(e,t){for(var r,n,a=e.width,i=e.height,o=Math.max(Math.hypot(t[0],t[1]),1),s=Math.max(Math.hypot(t[2],t[3]),1),l=a,u=i,c="prescale1";o>2&&l>1||s>2&&u>1;){var f=l,h=u;o>2&&l>1&&(f=Math.ceil(l/2),o/=l/f),s>2&&u>1&&(h=Math.ceil(u/2),s/=u/h),r=this.cachedCanvases.getCanvas(c,f,h,!1),n=r.context,n.clearRect(0,0,f,h),n.drawImage(e,0,0,l,u,0,0,f,h),e=r.canvas,l=f,u=h,c="prescale1"===c?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:u}}},{key:"_createMaskCanvas",value:function(e){var t,r,n,a,i=this.ctx,o=e.width,s=e.height,l=this.current.fillColor,u=this.current.patternFill,c=i.mozCurrentTransform;if((e.bitmap||e.data)&&e.count>1){var f=e.bitmap||e.data.buffer,h=c.slice(0,4);r=JSON.stringify(u?h:[h,l]),t=this._cachedBitmapsMap.get(f),t||(t=new Map,this._cachedBitmapsMap.set(f,t));var d=t.get(r);if(d&&!u){var p=Math.round(Math.min(c[0],c[2])+c[4]),v=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:d,offsetX:p,offsetY:v}}n=d}n||(a=this.cachedCanvases.getCanvas("maskCanvas",o,s,!1),k(a.context,e));var y=R.Util.transform(c,[1/o,0,0,-1/s,0,0]);y=R.Util.transform(y,[1,0,0,1,0,-s]);var g=R.Util.applyTransform([0,0],y),m=R.Util.applyTransform([o,s],y),b=R.Util.normalizeRect([g[0],g[1],m[0],m[1]]),A=Math.round(b[2]-b[0])||1,S=Math.round(b[3]-b[1])||1,x=this.cachedCanvases.getCanvas("fillCanvas",A,S,!0),w=x.context,C=Math.min(g[0],m[0]),P=Math.min(g[1],m[1]);w.translate(-C,-P),w.transform.apply(w,y),n||(n=this._scaleImage(a.canvas,w.mozCurrentTransformInverse),n=n.img,t&&u&&t.set(r,n)),w.imageSmoothingEnabled=F(w.mozCurrentTransform,e.interpolate),_(w,n,0,0,n.width,n.height,0,0,o,s),w.globalCompositeOperation="source-in";var T=R.Util.transform(w.mozCurrentTransformInverse,[1,0,0,1,-C,-P]);return w.fillStyle=u?l.getPattern(i,this,T,M.PathType.FILL):l,w.fillRect(0,0,o,s),t&&!u&&(this.cachedCanvases.delete("fillCanvas"),t.set(r,x.canvas)),{canvas:x.canvas,offsetX:Math.round(C),offsetY:Math.round(P)}}},{key:"setLineWidth",value:function(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=e,this.ctx.lineWidth=e}},{key:"setLineCap",value:function(e){this.ctx.lineCap=Y[e]}},{key:"setLineJoin",value:function(e){this.ctx.lineJoin=K[e]}},{key:"setMiterLimit",value:function(e){this.ctx.miterLimit=e}},{key:"setDash",value:function(e,t){var r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(e),r.lineDashOffset=t)}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){for(var t=0,r=e.length;t<r;t++){var n=e[t],a=n[0],i=n[1];switch(a){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1],this.ctx.globalAlpha=n[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=i}}}},{key:"inSMaskMode",get:function(){return!!this.suspendedCtx}},{key:"checkSMaskState",value:function(){var e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");var e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,n=this.cachedCanvases.getCanvas(r,e,t,!0);this.suspendedCtx=this.ctx,this.ctx=n.context;var a=this.ctx;a.setTransform.apply(a,this.suspendedCtx.mozCurrentTransform),x(this.suspendedCtx,a),m(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),x(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}},{key:"compose",value:function(e){if(this.current.activeSMask){e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];var t=this.current.activeSMask,r=this.suspendedCtx;E(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}}},{key:"save",value:function(){this.inSMaskMode?(x(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),x(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}},{key:"transform",value:function(e,t,r,n,a,i){this.ctx.transform(e,t,r,n,a,i),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(e,t,r){for(var n,a,i=this.ctx,o=this.current,s=o.x,l=o.y,u=i.mozCurrentTransform,c=0===u[0]&&0===u[3]||0===u[1]&&0===u[2],f=c?r.slice(0):null,h=0,d=0,p=e.length;h<p;h++)switch(0|e[h]){case R.OPS.rectangle:s=t[d++],l=t[d++];var v=t[d++],y=t[d++],g=s+v,m=l+y;i.moveTo(s,l),0===v||0===y?i.lineTo(g,m):(i.lineTo(g,l),i.lineTo(g,m),i.lineTo(s,m)),c||o.updateRectMinMax(u,[s,l,g,m]),i.closePath();break;case R.OPS.moveTo:s=t[d++],l=t[d++],i.moveTo(s,l),c||o.updatePathMinMax(u,s,l);break;case R.OPS.lineTo:s=t[d++],l=t[d++],i.lineTo(s,l),c||o.updatePathMinMax(u,s,l);break;case R.OPS.curveTo:n=s,a=l,s=t[d+4],l=t[d+5],i.bezierCurveTo(t[d],t[d+1],t[d+2],t[d+3],s,l),o.updateCurvePathMinMax(u,n,a,t[d],t[d+1],t[d+2],t[d+3],s,l,f),d+=6;break;case R.OPS.curveTo2:n=s,a=l,i.bezierCurveTo(s,l,t[d],t[d+1],t[d+2],t[d+3]),o.updateCurvePathMinMax(u,n,a,s,l,t[d],t[d+1],t[d+2],t[d+3],f),s=t[d+2],l=t[d+3],d+=4;break;case R.OPS.curveTo3:n=s,a=l,s=t[d+2],l=t[d+3],i.bezierCurveTo(t[d],t[d+1],s,l,s,l),o.updateCurvePathMinMax(u,n,a,t[d],t[d+1],s,l,s,l,f),d+=4;break;case R.OPS.closePath:i.closePath()}c&&o.updateScalingPathMinMax(u,f),o.setCurrentPoint(s,l)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(e){e="undefined"==typeof e||e;var t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===s(r)&&null!==r&&void 0!==r&&r.getPattern?(t.save(),t.strokeStyle=r.getPattern(t,this,t.mozCurrentTransformInverse,M.PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(e){e="undefined"==typeof e||e;var t=this.ctx,r=this.current.fillColor,n=this.current.patternFill,a=!1;n&&(t.save(),t.fillStyle=r.getPattern(t,this,t.mozCurrentTransformInverse,M.PathType.FILL),
a=!0);var i=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==i&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),a&&t.restore(),e&&this.consumePath(i)}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=J}},{key:"eoClip",value:function(){this.pendingClip=Q}},{key:"beginText",value:function(){this.current.textMatrix=R.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0===e)return void t.beginPath();t.save(),t.beginPath();for(var r=0;r<e.length;r++){var n=e[r];t.setTransform.apply(t,n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setFont",value:function(e,t){var r=this.commonObjs.get(e),n=this.current;if(!r)throw new Error("Can't find font for ".concat(e));if(n.fontMatrix=r.fontMatrix||R.FONT_IDENTITY_MATRIX,0!==n.fontMatrix[0]&&0!==n.fontMatrix[3]||(0,R.warn)("Invalid font matrix for font "+e),t<0?(t=-t,n.fontDirection=-1):n.fontDirection=1,this.current.font=r,this.current.fontSize=t,!r.isType3Font){var a=r.loadedName||"sans-serif",i="normal";r.black?i="900":r.bold&&(i="bold");var o=r.italic?"italic":"normal",s='"'.concat(a,'", ').concat(r.fallbackName),l=t;t<L?l=L:t>N&&(l=N),this.current.fontSizeScale=t/l,this.ctx.font="".concat(o," ").concat(i," ").concat(l,"px ").concat(s)}}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"moveText",value:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"setTextMatrix",value:function(e,t,r,n,a,i){this.current.textMatrix=[e,t,r,n,a,i],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(e,t,r,n){var a,i=this.ctx,o=this.current,s=o.font,l=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,c=l&R.TextRenderingMode.FILL_STROKE_MASK,f=!!(l&R.TextRenderingMode.ADD_TO_PATH_FLAG),h=o.patternFill&&!s.missingFile;if((s.disableFontFace||f||h)&&(a=s.getPathGenerator(this.commonObjs,e)),s.disableFontFace||h?(i.save(),i.translate(t,r),i.beginPath(),a(i,u),n&&i.setTransform.apply(i,n),c!==R.TextRenderingMode.FILL&&c!==R.TextRenderingMode.FILL_STROKE||i.fill(),c!==R.TextRenderingMode.STROKE&&c!==R.TextRenderingMode.FILL_STROKE||i.stroke(),i.restore()):(c!==R.TextRenderingMode.FILL&&c!==R.TextRenderingMode.FILL_STROKE||i.fillText(e,t,r),c!==R.TextRenderingMode.STROKE&&c!==R.TextRenderingMode.FILL_STROKE||i.strokeText(e,t,r)),f){var d=this.pendingTextPaths||(this.pendingTextPaths=[]);d.push({transform:i.mozCurrentTransform,x:t,y:r,fontSize:u,addToPath:a})}}},{key:"isFontSubpixelAAEnabled",get:function(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1),t=e.context;t.scale(1.5,1),t.fillText("I",0,10);for(var r=t.getImageData(0,0,10,10).data,n=!1,a=3;a<r.length;a+=4)if(r[a]>0&&r[a]<255){n=!0;break}return(0,R.shadow)(this,"isFontSubpixelAAEnabled",n)}},{key:"showText",value:function(e){var t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);var n=t.fontSize;if(0!==n){var a=this.ctx,i=t.fontSizeScale,o=t.charSpacing,s=t.wordSpacing,l=t.fontDirection,u=t.textHScale*l,c=e.length,f=r.vertical,h=f?1:-1,d=r.defaultVMetrics,p=n*t.fontMatrix[0],v=t.textRenderingMode===R.TextRenderingMode.FILL&&!r.disableFontFace&&!t.patternFill;a.save(),a.transform.apply(a,t.textMatrix),a.translate(t.x,t.y+t.textRise),l>0?a.scale(u,-1):a.scale(u,1);var y;if(t.patternFill){a.save();var g=t.fillColor.getPattern(a,this,a.mozCurrentTransformInverse,M.PathType.FILL);y=a.mozCurrentTransform,a.restore(),a.fillStyle=g}var m=t.lineWidth,b=t.textMatrixScale;if(0===b||0===m){var _=t.textRenderingMode&R.TextRenderingMode.FILL_STROKE_MASK;_!==R.TextRenderingMode.STROKE&&_!==R.TextRenderingMode.FILL_STROKE||(m=this.getSinglePixelWidth())}else m/=b;1!==i&&(a.scale(i,i),m/=i),a.lineWidth=m;var A,S=0;for(A=0;A<c;++A){var k=e[A];if("number"!=typeof k){var x=!1,w=(k.isSpace?s:0)+o,C=k.fontChar,P=k.accent,T=void 0,O=void 0,E=k.width;if(f){var F=k.vmetric||d,I=-(k.vmetric?F[1]:.5*E)*p,D=F[2]*p;E=F?-F[0]:E,T=I/i,O=(S+D)/i}else T=S/i,O=0;if(r.remeasure&&E>0){var j=1e3*a.measureText(C).width/n*i;if(E<j&&this.isFontSubpixelAAEnabled){var L=E/j;x=!0,a.save(),a.scale(L,1),T/=L}else E!==j&&(T+=(E-j)/2e3*n/i)}if(this.contentVisible&&(k.isInFont||r.missingFile))if(v&&!P)a.fillText(C,T,O);else if(this.paintChar(C,T,O,y),P){var N=T+n*P.offset.x/i,U=O-n*P.offset.y/i;this.paintChar(P.fontChar,N,U,y)}var B=void 0;B=f?E*p-w*l:E*p+w*l,S+=B,x&&a.restore()}else S+=h*k*n/1e3}f?t.y-=S:t.x+=S*u,a.restore(),this.compose()}}},{key:"showType3Text",value:function(e){var t,r,n,a,i=this.ctx,o=this.current,s=o.font,l=o.fontSize,u=o.fontDirection,c=s.vertical?1:-1,f=o.charSpacing,h=o.wordSpacing,d=o.textHScale*u,p=o.fontMatrix||R.FONT_IDENTITY_MATRIX,v=e.length,y=o.textRenderingMode===R.TextRenderingMode.INVISIBLE;if(!y&&0!==l){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,i.save(),i.transform.apply(i,o.textMatrix),i.translate(o.x,o.y),i.scale(d,u),t=0;t<v;++t)if(r=e[t],"number"!=typeof r){var g=(r.isSpace?h:0)+f,m=s.charProcOperatorList[r.operatorListId];if(m){this.contentVisible&&(this.processingType3=r,this.save(),i.scale(l,l),i.transform.apply(i,p),this.executeOperatorList(m),this.restore());var b=R.Util.applyTransform([r.width,0],p);n=b[0]*l+g,i.translate(n,0),o.x+=n*d}else(0,R.warn)('Type3 character "'.concat(r.operatorListId,'" is not available.'))}else a=c*r*l/1e3,this.ctx.translate(a,0),o.x+=a*d;i.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(e,t){}},{key:"setCharWidthAndBounds",value:function(e,t,r,n,a,i){this.ctx.rect(r,n,a-r,i-n),this.ctx.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(t){var r,n=this;if("TilingPattern"===t[0]){var a=t[1],i=this.baseTransform||this.ctx.mozCurrentTransform.slice(),o={createCanvasGraphics:function(t){return new e(t,n.commonObjs,n.objs,n.canvasFactory)}};r=new M.TilingPattern(t,a,this.ctx,o,i)}else r=this._getPattern(t[1],t[2]);return r}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(e,t,r){var n,a=(null===(n=this.selectColor)||void 0===n?void 0:n.call(this,e,t,r))||R.Util.makeHexColor(e,t,r);this.ctx.strokeStyle=a,this.current.strokeColor=a}},{key:"setFillRGBColor",value:function(e,t,r){var n,a=(null===(n=this.selectColor)||void 0===n?void 0:n.call(this,e,t,r))||R.Util.makeHexColor(e,t,r);this.ctx.fillStyle=a,this.current.fillColor=a,this.current.patternFill=!1}},{key:"_getPattern",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=(0,M.getShadingPattern)(this.objs.get(e)),this.cachedPatterns.set(e,t)),r&&(t.matrix=r),t}},{key:"shadingFill",value:function(e){if(this.contentVisible){var t=this.ctx;this.save();var r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,t.mozCurrentTransformInverse,M.PathType.SHADING);var n=t.mozCurrentTransformInverse;if(n){var a=t.canvas,i=a.width,o=a.height,s=R.Util.applyTransform([0,0],n),l=R.Util.applyTransform([0,o],n),u=R.Util.applyTransform([i,0],n),c=R.Util.applyTransform([i,o],n),f=Math.min(s[0],l[0],u[0],c[0]),h=Math.min(s[1],l[1],u[1],c[1]),d=Math.max(s[0],l[0],u[0],c[0]),p=Math.max(s[1],l[1],u[1],c[1]);this.ctx.fillRect(f,h,d-f,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}}},{key:"beginInlineImage",value:function(){(0,R.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,R.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t)){var r=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],r,n),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,t),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(e){if(this.contentVisible){this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);var t=this.ctx;e.isolated||(0,R.info)("TODO: Support non-isolated groups."),e.knockout&&(0,R.warn)("Knockout groups not supported.");var r=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var n=R.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform),a=[0,0,t.canvas.width,t.canvas.height];n=R.Util.intersect(n,a)||[0,0,0,0];var i=Math.floor(n[0]),o=Math.floor(n[1]),s=Math.max(Math.ceil(n[2])-i,1),l=Math.max(Math.ceil(n[3])-o,1),u=1,c=1;s>U&&(u=s/U,s=U),l>U&&(c=l/U,l=U),this.current.startNewPathAndClipBox([0,0,s,l]);var f="groupAt"+this.groupLevel;e.smask&&(f+="_smask_"+this.smaskCounter++%2);var h=this.cachedCanvases.getCanvas(f,s,l,!0),d=h.context;d.scale(1/u,1/c),d.translate(-i,-o),d.transform.apply(d,r),e.smask?this.smaskStack.push({canvas:h.canvas,context:d,offsetX:i,offsetY:o,scaleX:u,scaleY:c,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(i,o),t.scale(u,c),t.save()),x(t,d),this.ctx=d,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}}},{key:"endGroup",value:function(e){if(this.contentVisible){this.groupLevel--;var t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();var n=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,n);var a=R.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],n);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(a)}}}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(e,t,r,n,a){if(this.save(),Array.isArray(t)&&4===t.length){var i=t[2]-t[0],o=t[3]-t[1];if(a&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=i,t[3]=o;var s=R.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),l=h(s,2),u=l[0],c=l[1],f=this.viewportScale,d=Math.ceil(i*this.outputScaleX*f),p=Math.ceil(o*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(d,p);var v=this.annotationCanvas,y=v.canvas,g=v.context,m="var(--zoom-factor) * ".concat(j.PixelsPerInch.PDF_TO_CSS_UNITS);y.style.width="calc(".concat(i,"px * ").concat(m,")"),y.style.height="calc(".concat(o,"px * ").concat(m,")"),this.annotationCanvasMap.set(e,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.setTransform(u,0,0,-c,0,o*c),b(this.ctx),w(this.ctx,this.foregroundColor)}else w(this.ctx,this.foregroundColor),this.ctx.rect(t[0],t[1],i,o),this.ctx.clip(),this.endPath()}this.current=new X(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,r),this.transform.apply(this,n)}},{key:"endAnnotation",value:function(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}},{key:"paintImageMaskXObject",value:function(e){if(this.contentVisible){var t=e.count;e=this.getObject(e.data,e),e.count=t;var r=this.ctx,n=this.processingType3;if(n&&(void 0===n.compiled&&(n.compiled=A(e)),n.compiled))return void n.compiled(r);var a=this._createMaskCanvas(e),i=a.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(i,a.offsetX,a.offsetY),r.restore(),this.compose()}}},{key:"paintImageMaskXObjectRepeat",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){e=this.getObject(e.data,e);var o=this.ctx;o.save();var s=o.mozCurrentTransform;o.transform(t,r,n,a,0,0);var l=this._createMaskCanvas(e);o.setTransform(1,0,0,1,0,0);for(var u=0,c=i.length;u<c;u+=2){var f=R.Util.transform(s,[t,r,n,a,i[u],i[u+1]]),d=R.Util.applyTransform([0,0],f),p=h(d,2),v=p[0],y=p[1];o.drawImage(l.canvas,v,y)}o.restore(),this.compose()}}},{key:"paintImageMaskXObjectGroup",value:function(e){if(this.contentVisible){for(var t=this.ctx,r=this.current.fillColor,n=this.current.patternFill,a=0,i=e.length;a<i;a++){var o=e[a],s=o.width,l=o.height,u=this.cachedCanvases.getCanvas("maskCanvas",s,l,!1),c=u.context;c.save(),k(c,o),c.globalCompositeOperation="source-in",c.fillStyle=n?r.getPattern(c,this,t.mozCurrentTransformInverse,M.PathType.FILL):r,c.fillRect(0,0,s,l),c.restore(),t.save(),t.transform.apply(t,o.transform),t.scale(1,-1),_(t,u.canvas,0,0,s,l,0,-1,1,1),t.restore()}this.compose()}}},{key:"paintImageXObject",value:function(e){if(this.contentVisible){var t=this.getObject(e);return t?void this.paintInlineImageXObject(t):void(0,R.warn)("Dependent image isn't ready yet")}}},{key:"paintImageXObjectRepeat",value:function(e,t,r,n){if(this.contentVisible){var a=this.getObject(e);if(!a)return void(0,R.warn)("Dependent image isn't ready yet");for(var i=a.width,o=a.height,s=[],l=0,u=n.length;l<u;l+=2)s.push({transform:[t,0,0,r,n[l],n[l+1]],x:0,y:0,w:i,h:o});this.paintInlineImageXObjectGroup(a,s)}}},{key:"paintInlineImageXObject",value:function(e){if(this.contentVisible){var t=e.width,r=e.height,n=this.ctx;this.save(),n.scale(1/t,-1/r);var a;if("function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)a=e;else{var i=this.cachedCanvases.getCanvas("inlineImage",t,r,!1),o=i.context;S(o,e,this.current.transferMaps),a=i.canvas}var s=this._scaleImage(a,n.mozCurrentTransformInverse);n.imageSmoothingEnabled=F(n.mozCurrentTransform,e.interpolate);var l=_(n,s.img,0,0,s.paintWidth,s.paintHeight,0,-r,t,r),u=h(l,2);u[0],u[1];if(this.imageLayer){var c=this.getCanvasPosition(0,-r),f=n.mozCurrentTransformInverse,d=Math.max(Math.hypot(f[0],f[1]),1),p=Math.max(Math.hypot(f[2],f[3]),1);this.imageLayer.appendImage({imgData:e,left:c[0],top:c[1],width:t/d,height:r/p})}this.compose(),this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(e,t){if(this.contentVisible){var r=this.ctx,n=e.width,a=e.height,i=this.cachedCanvases.getCanvas("inlineImage",n,a,!1),o=i.context;S(o,e,this.current.transferMaps);for(var s=0,l=t.length;s<l;s++){var u=t[s];if(r.save(),r.transform.apply(r,u.transform),r.scale(1,-1),_(r,i.canvas,u.x,u.y,u.w,u.h,0,-1,1,1),this.imageLayer){var c=this.getCanvasPosition(u.x,u.y);this.imageLayer.appendImage({imgData:e,left:c[0],top:c[1],width:n,height:a})}r.restore()}this.compose()}}},{key:"paintSolidColorImageMask",value:function(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}},{key:"markPoint",value:function(e){}},{key:"markPointProps",value:function(e,t){}},{key:"beginMarkedContent",value:function(e){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(e){var t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);var r=this.ctx;this.pendingClip&&(t||(this.pendingClip===Q?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(!this._cachedGetSinglePixelWidth){var e=this.ctx.mozCurrentTransform;if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{var t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),n=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,n)/t}}return this._cachedGetSinglePixelWidth}},{key:"getScaleForStroking",value:function(){if(!this._cachedScaleForStroking){var e,t,r=this.current.lineWidth,n=this.ctx.mozCurrentTransform;if(0===n[1]&&0===n[2]){var a=Math.abs(n[0]),i=Math.abs(n[3]);if(0===r)e=1/a,t=1/i;else{var o=a*r,s=i*r;e=o<1?1/o:1,t=s<1?1/s:1}}else{var l=Math.abs(n[0]*n[3]-n[2]*n[1]),u=Math.hypot(n[0],n[1]),c=Math.hypot(n[2],n[3]);if(0===r)e=c/l,t=u/l;else{var f=r*l;e=c>f?c/f:1,t=u>f?u/f:1}}this._cachedScaleForStroking=[e,t]}return this._cachedScaleForStroking}},{key:"rescaleAndStroke",value:function(e){var t=this.ctx,r=this.current.lineWidth,a=this.getScaleForStroking(),i=h(a,2),o=i[0],s=i[1];if(t.lineWidth=r||1,1===o&&1===s)return void t.stroke();var l,u,c;e&&(l=t.mozCurrentTransform.slice(),u=t.getLineDash().slice(),c=t.lineDashOffset),t.scale(o,s);var f=Math.max(o,s);t.setLineDash(t.getLineDash().map(function(e){return e/f})),t.lineDashOffset/=f,t.stroke(),e&&(t.setTransform.apply(t,n(l)),t.setLineDash(u),t.lineDashOffset=c)}},{key:"getCanvasPosition",value:function(e,t){var r=this.ctx.mozCurrentTransform;return[r[0]*e+r[2]*t+r[4],r[1]*e+r[3]*t+r[5]]}},{key:"isContentVisible",value:function(){for(var e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}]),e}();t.CanvasGraphics=$;for(var Z in R.OPS)void 0!==$.prototype[Z]&&($.prototype[R.OPS[Z]]=$.prototype[Z])},function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw o}}}}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=h();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){if(t&&!S.isNodeJS){var r=t[2]-t[0],n=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],r,n),e.clip(a)}}function m(e,t,r,n,a,i,o,s){var l,u=t.coords,c=t.colors,f=e.data,h=4*e.width;u[r+1]>u[n+1]&&(l=r,r=n,n=l,l=i,i=o,o=l),u[n+1]>u[a+1]&&(l=n,n=a,a=l,l=o,o=s,s=l),u[r+1]>u[n+1]&&(l=r,r=n,n=l,l=i,i=o,o=l);var d=(u[r]+t.offsetX)*t.scaleX,p=(u[r+1]+t.offsetY)*t.scaleY,v=(u[n]+t.offsetX)*t.scaleX,y=(u[n+1]+t.offsetY)*t.scaleY,g=(u[a]+t.offsetX)*t.scaleX,m=(u[a+1]+t.offsetY)*t.scaleY;if(!(p>=m))for(var b,_,A,S,k,x,w,C,P=c[i],T=c[i+1],O=c[i+2],E=c[o],F=c[o+1],R=c[o+2],M=c[s],I=c[s+1],D=c[s+2],j=Math.round(p),L=Math.round(m),N=j;N<=L;N++){if(N<y){var U=void 0;U=N<p?0:(p-N)/(p-y),b=d-(d-v)*U,_=P-(P-E)*U,A=T-(T-F)*U,S=O-(O-R)*U}else{var B=void 0;B=N>m?1:y===m?0:(y-N)/(y-m),b=v-(v-g)*B,_=E-(E-M)*B,A=F-(F-I)*B,S=R-(R-D)*B}var W=void 0;W=N<p?0:N>m?1:(p-N)/(p-m),k=d-(d-g)*W,x=P-(P-M)*W,w=T-(T-I)*W,C=O-(O-D)*W;for(var G=Math.round(Math.min(b,k)),q=Math.round(Math.max(b,k)),H=h*N+4*G,z=G;z<=q;z++)W=(b-z)/(b-k),W<0?W=0:W>1&&(W=1),f[H++]=_-(_-x)*W|0,f[H++]=A-(A-w)*W|0,f[H++]=S-(S-C)*W|0,f[H++]=255}}function b(e,t,r){var n,a,i=t.coords,o=t.colors;switch(t.type){case"lattice":var s=t.verticesPerRow,l=Math.floor(i.length/s)-1,u=s-1;for(n=0;n<l;n++)for(var c=n*s,f=0;f<u;f++,c++)m(e,r,i[c],i[c+1],i[c+s],o[c],o[c+1],o[c+s]),m(e,r,i[c+s+1],i[c+1],i[c+s],o[c+s+1],o[c+1],o[c+s]);break;case"triangles":for(n=0,a=i.length;n<a;n+=3)m(e,r,i[n],i[n+1],i[n+2],o[n],o[n+1],o[n+2]);break;default:throw new Error("illegal figure")}}function _(e){switch(e[0]){case"RadialAxial":return new w(e);case"Mesh":return new C(e);case"Dummy":return new P}throw new Error("Unknown IR type: ".concat(e[0]))}Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=_;var A=r(1),S=r(3),k={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};t.PathType=k;var x=function(){function e(){p(this,e),this.constructor===e&&(0,A.unreachable)("Cannot initialize BaseShadingPattern.")}return y(e,[{key:"getPattern",value:function(){(0,A.unreachable)("Abstract method `getPattern` called.")}}]),e}(),w=function(e){function t(e){var n;return p(this,t),n=r.call(this),n._type=e[1],n._bbox=e[2],n._colorStops=e[3],n._p0=e[4],n._p1=e[5],n._r0=e[6],n._r1=e[7],n.matrix=null,n}s(t,e);var r=u(t);return y(t,[{key:"_createGradient",value:function(e){var t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var r,n=a(this._colorStops);try{for(n.s();!(r=n.n()).done;){var i=r.value;t.addColorStop(i[0],i[1])}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getPattern",value:function(e,t,r,n){var a;if(n===k.STROKE||n===k.FILL){var i=t.current.getClippedPathBoundingBox(n,e.mozCurrentTransform)||[0,0,0,0],o=Math.ceil(i[2]-i[0])||1,s=Math.ceil(i[3]-i[1])||1,l=t.cachedCanvases.getCanvas("pattern",o,s,!0),u=l.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-i[0],-i[1]),r=A.Util.transform(r,[1,0,0,1,i[0],i[1]]),u.transform.apply(u,t.baseTransform),this.matrix&&u.transform.apply(u,this.matrix),g(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),a=e.createPattern(l.canvas,"no-repeat");var c=new DOMMatrix(r);try{a.setTransform(c)}catch(e){(0,A.warn)('RadialAxialShadingPattern.getPattern: "'.concat(null===e||void 0===e?void 0:e.message,'".'))}}else g(e,this._bbox),a=this._createGradient(e);return a}}]),t}(x),C=function(e){function t(e){var n;return p(this,t),n=r.call(this),n._coords=e[2],n._colors=e[3],n._figures=e[4],n._bounds=e[5],n._bbox=e[7],n._background=e[8],n.matrix=null,n}s(t,e);var r=u(t);return y(t,[{key:"_createMeshCanvas",value:function(e,t,r){var n=1.1,i=3e3,o=2,s=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-s,c=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(u*e[0]*n)),i),h=Math.min(Math.ceil(Math.abs(c*e[1]*n)),i),d=u/f,p=c/h,v={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-l,scaleX:1/d,scaleY:1/p},y=f+2*o,g=h+2*o,m=r.getCanvas("mesh",y,g,!1),_=m.context,A=_.createImageData(f,h);if(t)for(var S=A.data,k=0,x=S.length;k<x;k+=4)S[k]=t[0],S[k+1]=t[1],S[k+2]=t[2],S[k+3]=255;var w,C=a(this._figures);try{for(C.s();!(w=C.n()).done;){var P=w.value;b(A,P,v)}}catch(e){C.e(e)}finally{C.f()}_.putImageData(A,o,o);var T=m.canvas;return{canvas:T,offsetX:s-o*d,offsetY:l-o*p,scaleX:d,scaleY:p}}},{key:"getPattern",value:function(e,t,r,n){g(e,this._bbox);var a;if(n===k.SHADING)a=A.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(a=A.Util.singularValueDecompose2dScale(t.baseTransform),this.matrix){var i=A.Util.singularValueDecompose2dScale(this.matrix);a=[a[0]*i[0],a[1]*i[1]]}var o=this._createMeshCanvas(a,n===k.SHADING?null:this._background,t.cachedCanvases);return n!==k.SHADING&&(e.setTransform.apply(e,t.baseTransform),this.matrix&&e.transform.apply(e,this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}]),t}(x),P=function(e){function t(){return p(this,t),r.apply(this,arguments)}s(t,e);var r=u(t);return y(t,[{key:"getPattern",value:function(){return"hotpink"}}]),t}(x),T={COLORED:1,UNCOLORED:2},O=function(){function e(t,r,n,a,i){p(this,e),this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=r,this.ctx=n,this.canvasGraphicsFactory=a,this.baseTransform=i}return y(e,[{key:"createPatternCanvas",value:function(e){var t=this.operatorList,r=this.bbox,n=this.xstep,a=this.ystep,i=this.paintType,o=this.tilingType,s=this.color,l=this.canvasGraphicsFactory;(0,A.info)("TilingType: "+o);var u=r[0],c=r[1],f=r[2],h=r[3],d=A.Util.singularValueDecompose2dScale(this.matrix),p=A.Util.singularValueDecompose2dScale(this.baseTransform),v=[d[0]*p[0],d[1]*p[1]],y=this.getSizeAndScale(n,this.ctx.canvas.width,v[0]),g=this.getSizeAndScale(a,this.ctx.canvas.height,v[1]),m=e.cachedCanvases.getCanvas("pattern",y.size,g.size,!0),b=m.context,_=l.createCanvasGraphics(b);_.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(_,i,s);var S=u,k=c,x=f,w=h;return u<0&&(S=0,x+=Math.abs(u)),c<0&&(k=0,w+=Math.abs(c)),b.translate(-(y.scale*S),-(g.scale*k)),_.transform(y.scale,0,0,g.scale,0,0),b.save(),this.clipBbox(_,S,k,x,w),_.baseTransform=_.ctx.mozCurrentTransform.slice(),_.executeOperatorList(t),_.endDrawing(),{canvas:m.canvas,scaleX:y.scale,scaleY:g.scale,offsetX:S,offsetY:k}}},{key:"getSizeAndScale",value:function(t,r,n){t=Math.abs(t);var a=Math.max(e.MAX_PATTERN_SIZE,r),i=Math.ceil(t*n);return i>=a?i=a:n=i/t,{scale:n,size:i}}},{key:"clipBbox",value:function(e,t,r,n,a){var i=n-t,o=a-r;e.ctx.rect(t,r,i,o),e.current.updateRectMinMax(e.ctx.mozCurrentTransform,[t,r,n,a]),e.clip(),e.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(e,t,r){var n=e.ctx,a=e.current;switch(t){case T.COLORED:var i=this.ctx;n.fillStyle=i.fillStyle,n.strokeStyle=i.strokeStyle,a.fillColor=i.fillStyle,a.strokeColor=i.strokeStyle;break;case T.UNCOLORED:var o=A.Util.makeHexColor(r[0],r[1],r[2]);n.fillStyle=o,n.strokeStyle=o,a.fillColor=o,a.strokeColor=o;break;default:throw new A.FormatError("Unsupported paint type: ".concat(t))}}},{key:"getPattern",value:function(e,t,r,n){var a=r;n!==k.SHADING&&(a=A.Util.transform(a,t.baseTransform),this.matrix&&(a=A.Util.transform(a,this.matrix)));var i=this.createPatternCanvas(t),o=new DOMMatrix(a);o=o.translate(i.offsetX,i.offsetY),o=o.scale(1/i.scaleX,1/i.scaleY);var s=e.createPattern(i.canvas,"repeat");try{s.setTransform(o)}catch(e){(0,A.warn)('TilingPattern.getPattern: "'.concat(null===e||void 0===e?void 0:e.message,'".'))}return s}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,A.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),e}();t.TilingPattern=O},function(e,t,r){"use strict";function n(e,t){return l(e)||s(e,t)||i(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}function l(e){if(Array.isArray(e))return e}function u(e){var t=e.src,r=e.srcPos,a=void 0===r?0:r,i=e.dest,o=e.destPos,s=void 0===o?0:o,l=e.width,u=e.height,f=e.inverseDecode,h=void 0!==f&&f,d=c.FeatureTest.isLittleEndian?4278190080:255,p=h?[0,d]:[d,0],v=n(p,2),y=v[0],g=v[1],m=l>>3,b=7&l,_=t.length;i=new Uint32Array(i.buffer);for(var A=0;A<u;A++){for(var S=a+m;a<S;a++){var k=a<_?t[a]:255;i[s++]=128&k?g:y,i[s++]=64&k?g:y,i[s++]=32&k?g:y,i[s++]=16&k?g:y,i[s++]=8&k?g:y,i[s++]=4&k?g:y,i[s++]=2&k?g:y,i[s++]=1&k?g:y}if(0!==b)for(var x=a<_?t[a++]:255,w=0;w<b;w++)i[s++]=x&1<<7-w?g:y}return{srcPos:a,destPos:s}}Object.defineProperty(t,"__esModule",{value:!0}),t.applyMaskImageData=u;var c=r(1)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var r=Object.create(null);t.GlobalWorkerOptions=r,r.workerPort=void 0===r.workerPort?null:r.workerPort,r.workerSrc=void 0===r.workerSrc?"":r.workerSrc},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){function o(e){
a(l,n,i,o,s,"next",e)}function s(e){a(l,n,i,o,s,"throw",e)}var l=e.apply(t,r);o(void 0)})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){"@babel/helpers - typeof";return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){switch(e instanceof Error||"object"===u(e)&&null!==e||(0,h.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new h.AbortException(e.message);case"MissingPDFException":return new h.MissingPDFException(e.message);case"PasswordException":return new h.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new h.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new h.UnknownErrorException(e.message,e.details);default:return new h.UnknownErrorException(e.message,e.toString())}}Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var f=n(r(156)),h=r(1),d={UNKNOWN:0,DATA:1,ERROR:2},p={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8},v=function(){function e(t,r,n){var a=this;o(this,e),this.sourceName=t,this.targetName=r,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===a.sourceName){if(t.stream)return void a._processStreamMessage(t);if(!t.callback){var r=a.actionHandler[t.action];if(!r)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){var i=a.sourceName,o=t.sourceName;return void new Promise(function(e){e(r(t.data))}).then(function(e){n.postMessage({sourceName:i,targetName:o,callback:d.DATA,callbackId:t.callbackId,data:e})},function(e){n.postMessage({sourceName:i,targetName:o,callback:d.ERROR,callbackId:t.callbackId,reason:c(e)})})}return t.streamId?void a._createStreamSink(t):void r(t.data)}var s=t.callbackId,l=a.callbackCapabilities[s];if(!l)throw new Error("Cannot resolve callback ".concat(s));if(delete a.callbackCapabilities[s],t.callback===d.DATA)l.resolve(t.data);else{if(t.callback!==d.ERROR)throw new Error("Unexpected callback case");l.reject(c(t.reason))}}},n.addEventListener("message",this._onComObjOnMessage)}return l(e,[{key:"on",value:function(e,t){var r=this.actionHandler;if(r[e])throw new Error('There is already an actionName called "'.concat(e,'"'));r[e]=t}},{key:"send",value:function(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}},{key:"sendWithPromise",value:function(e,t,r){var n=this.callbackId++,a=(0,h.createPromiseCapability)();this.callbackCapabilities[n]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:n,data:t},r)}catch(e){a.reject(e)}return a.promise}},{key:"sendWithStream",value:function(e,t,r,n){var a=this,i=this.streamId++,o=this.sourceName,s=this.targetName,l=this.comObj;return new ReadableStream({start:function(r){var u=(0,h.createPromiseCapability)();return a.streamControllers[i]={controller:r,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:s,action:e,streamId:i,data:t,desiredSize:r.desiredSize},n),u.promise},pull:function(e){var t=(0,h.createPromiseCapability)();return a.streamControllers[i].pullCall=t,l.postMessage({sourceName:o,targetName:s,stream:p.PULL,streamId:i,desiredSize:e.desiredSize}),t.promise},cancel:function(e){(0,h.assert)(e instanceof Error,"cancel must have a valid reason");var t=(0,h.createPromiseCapability)();return a.streamControllers[i].cancelCall=t,a.streamControllers[i].isClosed=!0,l.postMessage({sourceName:o,targetName:s,stream:p.CANCEL,streamId:i,reason:c(e)}),t.promise}},r)}},{key:"_createStreamSink",value:function(e){var t=e.streamId,r=this.sourceName,n=e.sourceName,a=this.comObj,i=this,o=this.actionHandler[e.action],s={enqueue:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var s=this.desiredSize;this.desiredSize-=i,s>0&&this.desiredSize<=0&&(this.sinkCapability=(0,h.createPromiseCapability)(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:r,targetName:n,stream:p.ENQUEUE,streamId:t,chunk:e},o)}},close:function(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:n,stream:p.CLOSE,streamId:t}),delete i.streamSinks[t])},error:function(e){(0,h.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:n,stream:p.ERROR,streamId:t,reason:c(e)}))},sinkCapability:(0,h.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};s.sinkCapability.resolve(),s.ready=s.sinkCapability.promise,this.streamSinks[t]=s,new Promise(function(t){t(o(e.data,s))}).then(function(){a.postMessage({sourceName:r,targetName:n,stream:p.START_COMPLETE,streamId:t,success:!0})},function(e){a.postMessage({sourceName:r,targetName:n,stream:p.START_COMPLETE,streamId:t,reason:c(e)})})}},{key:"_processStreamMessage",value:function(e){var t=e.streamId,r=this.sourceName,n=e.sourceName,a=this.comObj,i=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case p.START_COMPLETE:e.success?i.startCall.resolve():i.startCall.reject(c(e.reason));break;case p.PULL_COMPLETE:e.success?i.pullCall.resolve():i.pullCall.reject(c(e.reason));break;case p.PULL:if(!o){a.postMessage({sourceName:r,targetName:n,stream:p.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(e){e(o.onPull&&o.onPull())}).then(function(){a.postMessage({sourceName:r,targetName:n,stream:p.PULL_COMPLETE,streamId:t,success:!0})},function(e){a.postMessage({sourceName:r,targetName:n,stream:p.PULL_COMPLETE,streamId:t,reason:c(e)})});break;case p.ENQUEUE:if((0,h.assert)(i,"enqueue should have stream controller"),i.isClosed)break;i.controller.enqueue(e.chunk);break;case p.CLOSE:if((0,h.assert)(i,"close should have stream controller"),i.isClosed)break;i.isClosed=!0,i.controller.close(),this._deleteStreamController(i,t);break;case p.ERROR:(0,h.assert)(i,"error should have stream controller"),i.controller.error(c(e.reason)),this._deleteStreamController(i,t);break;case p.CANCEL_COMPLETE:e.success?i.cancelCall.resolve():i.cancelCall.reject(c(e.reason)),this._deleteStreamController(i,t);break;case p.CANCEL:if(!o)break;new Promise(function(t){t(o.onCancel&&o.onCancel(c(e.reason)))}).then(function(){a.postMessage({sourceName:r,targetName:n,stream:p.CANCEL_COMPLETE,streamId:t,success:!0})},function(e){a.postMessage({sourceName:r,targetName:n,stream:p.CANCEL_COMPLETE,streamId:t,reason:c(e)})}),o.sinkCapability.reject(c(e.reason)),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:function(){function e(e,r){return t.apply(this,arguments)}var t=i(f.default.mark(function e(t,r){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([t.startCall&&t.startCall.promise,t.pullCall&&t.pullCall.promise,t.cancelCall&&t.cancelCall.promise]);case 2:delete this.streamControllers[r];case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),e}();t.MessageHandler=v},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,r){s(e,t),t.set(e,r)}function s(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l(e,t){var r=f(e,t,"get");return u(e,r)}function u(e,t){return t.get?t.get.call(e):t.value}function c(e,t,r){var n=f(e,t,"set");return h(e,n,r),r}function f(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function h(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var d=r(1),p=new WeakMap,v=new WeakMap,y=function(){function e(t){var r=t.parsedData,a=t.rawData;n(this,e),o(this,p,{writable:!0,value:void 0}),o(this,v,{writable:!0,value:void 0}),c(this,p,r),c(this,v,a)}return i(e,[{key:"getRaw",value:function(){return l(this,v)}},{key:"get",value:function(e){var t;return null!==(t=l(this,p).get(e))&&void 0!==t?t:null}},{key:"getAll",value:function(){return(0,d.objectFromMap)(l(this,p))}},{key:"has",value:function(e){return l(this,p).has(e)}}]),e}();t.Metadata=y},function(e,t,r){"use strict";function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw o}}}}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var u=r(1),c=s(function e(t,r){l(this,e),this.visible=!0,this.name=t,this.intent=r}),f=function(){function e(t){if(l(this,e),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==t){this.name=t.name,this.creator=t.creator,this._order=t.order;var r,a=n(t.groups);try{for(a.s();!(r=a.n()).done;){var i=r.value;this._groups.set(i.id,new c(i.name,i.intent))}}catch(e){a.e(e)}finally{a.f()}if("OFF"===t.baseState){var o,s=n(this._groups);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.visible=!1}}catch(e){s.e(e)}finally{s.f()}}var f,h=n(t.on);try{for(h.s();!(f=h.n()).done;){var d=f.value;this._groups.get(d).visible=!0}}catch(e){h.e(e)}finally{h.f()}var p,v=n(t.off);try{for(v.s();!(p=v.n()).done;){var y=p.value;this._groups.get(y).visible=!1}}catch(e){v.e(e)}finally{v.f()}}}return s(e,[{key:"_evaluateVisibilityExpression",value:function(e){var t=e.length;if(t<2)return!0;for(var r=e[0],n=1;n<t;n++){var a=e[n],i=void 0;if(Array.isArray(a))i=this._evaluateVisibilityExpression(a);else{if(!this._groups.has(a))return(0,u.warn)("Optional content group not found: ".concat(a)),!0;i=this._groups.get(a).visible}switch(r){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return"And"===r}},{key:"isVisible",value:function(e){if(0===this._groups.size)return!0;if(!e)return(0,u.warn)("Optional content group not defined."),!0;if("OCG"===e.type)return this._groups.has(e.id)?this._groups.get(e.id).visible:((0,u.warn)("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return this._evaluateVisibilityExpression(e.expression);if(!e.policy||"AnyOn"===e.policy){var t,r=n(e.ids);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(!this._groups.has(a))return(0,u.warn)("Optional content group not found: ".concat(a)),!0;if(this._groups.get(a).visible)return!0}}catch(e){r.e(e)}finally{r.f()}return!1}if("AllOn"===e.policy){var i,o=n(e.ids);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(!this._groups.has(s))return(0,u.warn)("Optional content group not found: ".concat(s)),!0;if(!this._groups.get(s).visible)return!1}}catch(e){o.e(e)}finally{o.f()}return!0}if("AnyOff"===e.policy){var l,c=n(e.ids);try{for(c.s();!(l=c.n()).done;){var f=l.value;if(!this._groups.has(f))return(0,u.warn)("Optional content group not found: ".concat(f)),!0;if(!this._groups.get(f).visible)return!0}}catch(e){c.e(e)}finally{c.f()}return!1}if("AllOff"===e.policy){var h,d=n(e.ids);try{for(d.s();!(h=d.n()).done;){var p=h.value;if(!this._groups.has(p))return(0,u.warn)("Optional content group not found: ".concat(p)),!0;if(this._groups.get(p).visible)return!1}}catch(e){d.e(e)}finally{d.f()}return!0}return(0,u.warn)("Unknown optional content policy ".concat(e.policy,".")),!0}return(0,u.warn)("Unknown group type ".concat(e.type,".")),!0}},{key:"setVisibility",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._groups.has(e)?void(this._groups.get(e).visible=!!t):void(0,u.warn)("Optional content group not found: ".concat(e))}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,u.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(e){return this._groups.get(e)||null}}]),e}();t.OptionalContentConfig=f},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){function o(e){a(l,n,i,o,s,"next",e)}function s(e){a(l,n,i,o,s,"throw",e)}var l=e.apply(t,r);o(void 0)})}}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw i}}}}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var h=n(r(156)),d=r(1),p=r(158),v=function(){function e(t,r){var n=this;u(this,e),(0,d.assert)(r,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1,this._contentDispositionFilename=t.contentDispositionFilename||null;var a=t.initialData;if((null===a||void 0===a?void 0:a.length)>0){var i=new Uint8Array(a).buffer;this._queuedChunks.push(i)}this._pdfDataRangeTransport=r,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(e,t){n._onReceiveData({begin:e,chunk:t})}),this._pdfDataRangeTransport.addProgressListener(function(e,t){n._onProgress({loaded:e,total:t})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(e){n._onReceiveData({chunk:e})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){n._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return f(e,[{key:"_onReceiveData",value:function(e){var t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{var r=this._rangeReaders.some(function(r){return r._begin===e.begin&&(r._enqueue(t),!0)});(0,d.assert)(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"_onProgress",value:function(e){if(void 0===e.total){var t=this._rangeReaders[0];null!==t&&void 0!==t&&t.onProgress&&t.onProgress({loaded:e.loaded})}else{var r=this._fullRequestReader;null!==r&&void 0!==r&&r.onProgress&&r.onProgress({loaded:e.loaded,total:e.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(e){var t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}},{key:"getFullReader",value:function(){(0,d.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var e=this._queuedChunks;return this._queuedChunks=null,new y(this,e,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var r=new g(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t,r=o(this._rangeReaders.slice(0));try{for(r.s();!(t=r.n()).done;){var n=t.value;n.cancel(e)}}catch(e){r.e(e)}finally{r.f()}this._pdfDataRangeTransport.abort()}}]),e}();t.PDFDataTransportStream=v;var y=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;u(this,e),this._stream=t,this._done=n||!1,this._filename=(0,p.isPdfFile)(a)?a:null,this._queuedChunks=r||[],this._loaded=0;var i,s=o(this._queuedChunks);try{for(s.s();!(i=s.n()).done;){var l=i.value;this._loaded+=l.byteLength}}catch(e){s.e(e)}finally{s.f()}this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}return f(e,[{key:"_enqueue",value:function(e){if(!this._done){if(this._requests.length>0){var t=this._requests.shift();t.resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:function(){function e(){return t.apply(this,arguments)}var t=i(h.default.mark(function e(){var t,r;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._queuedChunks.length>0)){e.next=3;break}return t=this._queuedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 3:if(!this._done){e.next=5;break}return e.abrupt("return",{value:void 0,done:!0});case 5:return r=(0,d.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancel",value:function(e){this._done=!0;var t,r=o(this._requests);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.resolve({value:void 0,done:!0})}}catch(e){r.e(e)}finally{r.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),e}(),g=function(){function e(t,r,n){u(this,e),this._stream=t,this._begin=r,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return f(e,[{key:"_enqueue",value:function(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{var t=this._requests.shift();t.resolve({value:e,done:!1});var r,n=o(this._requests);try{for(n.s();!(r=n.n()).done;){var a=r.value;a.resolve({value:void 0,done:!0})}}catch(e){n.e(e)}finally{n.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){function e(){return t.apply(this,arguments)}var t=i(h.default.mark(function e(){var t,r;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return r=(0,d.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancel",value:function(e){this._done=!0;var t,r=o(this._requests);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.resolve({value:void 0,done:!0})}}catch(e){r.e(e)}finally{r.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),e}()},function(e,t){"use strict";function r(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw o}}}}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;var l=function(){function e(){i(this,e)}return s(e,null,[{key:"textContent",value:function(t){function n(t){var i;if(t){var o=null,s=t.name;if("#text"===s)o=t.value;else{if(!e.shouldBuildText(s))return;null!==t&&void 0!==t&&null!==(i=t.attributes)&&void 0!==i&&i.textContent?o=t.attributes.textContent:t.value&&(o=t.value)}if(null!==o&&a.push({str:o}),t.children){var l,u=r(t.children);try{for(u.s();!(l=u.n()).done;){var c=l.value;n(c)}}catch(e){u.e(e)}finally{u.f()}}}}var a=[],i={items:a,styles:Object.create(null)};return n(t),i}},{key:"shouldBuildText",value:function(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}]),e}();t.XfaText=l},function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=h();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var p=r(159),v=function(e){return new Promise(function(t,r){var n=require("fs");n.readFile(e,function(e,n){return e||!n?void r(new Error(e)):void t(new Uint8Array(n))})})},y=function(e){function t(){return a(this,t),r.apply(this,arguments)}s(t,e);var r=u(t);return o(t,[{key:"_createCanvas",value:function(e,t){var r=require("canvas");return r.createCanvas(e,t)}}]),t}(p.BaseCanvasFactory);t.NodeCanvasFactory=y;var g=function(e){function t(){return a(this,t),r.apply(this,arguments)}s(t,e);var r=u(t);return o(t,[{key:"_fetchData",value:function(e,t){return v(e).then(function(e){return{cMapData:e,compressionType:t}})}}]),t}(p.BaseCMapReaderFactory);t.NodeCMapReaderFactory=g;var m=function(e){function t(){return a(this,t),r.apply(this,arguments)}s(t,e);var r=u(t);return o(t,[{key:"_fetchData",value:function(e){return v(e)}}]),t}(p.BaseStandardFontDataFactory);t.NodeStandardFontDataFactory=m},function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r){return i(e,t),r}function i(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=s(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}},o.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=b(e),null!==e););return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return h(e)||f(e)||k(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){if(Array.isArray(e))return x(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=m();return function(){var r,n=b(e);if(t){var a=b(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=k(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function A(e,t){return C(e)||w(e,t)||k(e,t)||S()}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t){if(e){if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}function C(e){if(Array.isArray(e))return e}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t,r){
return t&&T(e.prototype,t),r&&T(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e){return{width:e[2]-e[0],height:e[3]-e[1]}}function F(e,t){if(t){var r,n=_(t);try{for(n.s();!(r=n.n()).done;){var a=A(r.value,2),i=a[0],o=a[1],s=e.querySelector('[data-annotation-id="'.concat(i,'"]'));if(s){var l=s.firstChild;"CANVAS"===l.nodeName?s.replaceChild(o,l):s.insertBefore(o,l)}}}catch(e){n.e(e)}finally{n.f()}t.clear()}}Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var R=r(1),M=r(158),I=r(161),D=r(174),j=r(175),L=1e3,N=new WeakSet,U=function(){function e(){P(this,e)}return O(e,null,[{key:"create",value:function(e){var t=e.data.annotationType;switch(t){case R.AnnotationType.LINK:return new W(e);case R.AnnotationType.TEXT:return new G(e);case R.AnnotationType.WIDGET:var r=e.data.fieldType;switch(r){case"Tx":return new H(e);case"Btn":return e.data.radioButton?new V(e):e.data.checkBox?new z(e):new X(e);case"Ch":return new Y(e)}return new q(e);case R.AnnotationType.POPUP:return new K(e);case R.AnnotationType.FREETEXT:return new Q(e);case R.AnnotationType.LINE:return new $(e);case R.AnnotationType.SQUARE:return new Z(e);case R.AnnotationType.CIRCLE:return new ee(e);case R.AnnotationType.POLYLINE:return new te(e);case R.AnnotationType.CARET:return new ne(e);case R.AnnotationType.INK:return new ae(e);case R.AnnotationType.POLYGON:return new re(e);case R.AnnotationType.HIGHLIGHT:return new ie(e);case R.AnnotationType.UNDERLINE:return new oe(e);case R.AnnotationType.SQUIGGLY:return new se(e);case R.AnnotationType.STRIKEOUT:return new le(e);case R.AnnotationType.STAMP:return new ue(e);case R.AnnotationType.FILEATTACHMENT:return new ce(e);default:return new B(e)}}}]),e}(),B=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.isRenderable,a=void 0!==n&&n,i=r.ignoreBorder,o=void 0!==i&&i,s=r.createQuadrilaterals,l=void 0!==s&&s;P(this,e),this.isRenderable=a,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,a&&(this.container=this._createContainer(o)),l&&(this.quadrilaterals=this._createQuadrilaterals(o))}return O(e,[{key:"_createContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data,r=this.page,n=this.viewport,a=document.createElement("section"),i=E(t.rect),o=i.width,s=i.height;a.setAttribute("data-annotation-id",t.id);var l=R.Util.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]);if(t.hasOwnCanvas){var u=n.transform.slice(),c=R.Util.singularValueDecompose2dScale(u),f=A(c,2),h=f[0],d=f[1];o=Math.ceil(o*h),s=Math.ceil(s*d),l[0]*=h,l[1]*=d;for(var p=0;p<4;p++)u[p]=Math.sign(u[p]);a.style.transform="matrix(".concat(u.join(","),")")}else a.style.transform="matrix(".concat(n.transform.join(","),")");if(a.style.transformOrigin="".concat(-l[0],"px ").concat(-l[1],"px"),!e&&t.borderStyle.width>0){a.style.borderWidth="".concat(t.borderStyle.width,"px"),t.borderStyle.style!==R.AnnotationBorderStyleType.UNDERLINE&&(o-=2*t.borderStyle.width,s-=2*t.borderStyle.width);var v=t.borderStyle.horizontalCornerRadius,y=t.borderStyle.verticalCornerRadius;if(v>0||y>0){var g="".concat(v,"px / ").concat(y,"px");a.style.borderRadius=g}switch(t.borderStyle.style){case R.AnnotationBorderStyleType.SOLID:a.style.borderStyle="solid";break;case R.AnnotationBorderStyleType.DASHED:a.style.borderStyle="dashed";break;case R.AnnotationBorderStyleType.BEVELED:(0,R.warn)("Unimplemented border style: beveled");break;case R.AnnotationBorderStyleType.INSET:(0,R.warn)("Unimplemented border style: inset");break;case R.AnnotationBorderStyleType.UNDERLINE:a.style.borderBottomStyle="solid"}var m=t.borderColor||t.color||null;m?a.style.borderColor=R.Util.makeHexColor(0|t.color[0],0|t.color[1],0|t.color[2]):a.style.borderWidth=0}return a.style.left="".concat(l[0],"px"),a.style.top="".concat(l[1],"px"),t.hasOwnCanvas?a.style.width=a.style.height="auto":(a.style.width="".concat(o,"px"),a.style.height="".concat(s,"px")),a}},{key:"_commonActions",get:function(){var e=this,t=function(e,t,r){var n=r.detail[e];r.target.style[t]=D.ColorConverters["".concat(n[0],"_HTML")](n.slice(1))};return(0,R.shadow)(this,"_commonActions",{display:function(t){var r=t.detail.display%2===1;t.target.style.visibility=r?"hidden":"visible",e.annotationStorage.setValue(e.data.id,{hidden:r,print:0===t.detail.display||3===t.detail.display})},print:function(t){e.annotationStorage.setValue(e.data.id,{print:t.detail.print})},hidden:function(t){t.target.style.visibility=t.detail.hidden?"hidden":"visible",e.annotationStorage.setValue(e.data.id,{hidden:t.detail.hidden})},focus:function(e){setTimeout(function(){return e.target.focus({preventScroll:!1})},0)},userName:function(e){e.target.title=e.detail.userName},readonly:function(e){e.detail.readonly?e.target.setAttribute("readonly",""):e.target.removeAttribute("readonly")},required:function(e){e.detail.required?e.target.setAttribute("required",""):e.target.removeAttribute("required")},bgColor:function(e){t("bgColor","backgroundColor",e)},fillColor:function(e){t("fillColor","backgroundColor",e)},fgColor:function(e){t("fgColor","color",e)},textColor:function(e){t("textColor","color",e)},borderColor:function(e){t("borderColor","borderColor",e)},strokeColor:function(e){t("strokeColor","borderColor",e)}})}},{key:"_dispatchEventFromSandbox",value:function(e,t){for(var r=this._commonActions,n=0,a=Object.keys(t.detail);n<a.length;n++){var i=a[n],o=e[i]||r[i];o&&o(t)}}},{key:"_setDefaultPropertiesFromJS",value:function(e){if(this.enableScripting){var t=this.annotationStorage.getRawValue(this.data.id);if(t)for(var r=this._commonActions,n=0,a=Object.entries(t);n<a.length;n++){var i=A(a[n],2),o=i[0],s=i[1],l=r[o];l&&(l({detail:s,target:e}),delete t[o])}}}},{key:"_createQuadrilaterals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var t,r=[],n=this.data.rect,a=_(this.data.quadPoints);try{for(a.s();!(t=a.n()).done;){var i=t.value;this.data.rect=[i[2].x,i[2].y,i[1].x,i[1].y],r.push(this._createContainer(e))}}catch(e){a.e(e)}finally{a.f()}return this.data.rect=n,r}},{key:"_createPopup",value:function(e,t){var r=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,r=this.quadrilaterals[0]),e||(e=document.createElement("div"),e.style.height=r.style.height,e.style.width=r.style.width,r.appendChild(e));var n=new J({container:r,trigger:e,color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,hideWrapper:!0}),a=n.render();a.style.left=r.style.width,r.appendChild(a)}},{key:"_renderQuadrilaterals",value:function(e){var t,r=_(this.quadrilaterals);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.className=e}}catch(e){r.e(e)}finally{r.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,R.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=[];if(this._fieldObjects){var n=this._fieldObjects[e];if(n){var a,i=_(n);try{for(i.s();!(a=i.n()).done;){var o=a.value,s=o.page,l=o.id,u=o.exportValues;if(s!==-1&&l!==t){var c="string"==typeof u?u:null,f=document.getElementById(l);!f||N.has(f)?r.push({id:l,exportValue:c,domElement:f}):(0,R.warn)("_getElementsByName - element not allowed: ".concat(l))}}}catch(e){i.e(e)}finally{i.f()}}return r}var h,d=_(document.getElementsByName(e));try{for(d.s();!(h=d.n()).done;){var p=h.value,v=p.id,y=p.exportValue;v!==t&&N.has(p)&&r.push({id:v,exportValue:y,domElement:p})}}catch(e){d.e(e)}finally{d.f()}return r}}],[{key:"platform",get:function(){var e="undefined"!=typeof navigator?navigator.platform:"";return(0,R.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}]),e}(),W=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;P(this,t);var a=!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"]));return r.call(this,e,{isRenderable:a,ignoreBorder:!(null===n||void 0===n||!n.ignoreBorder),createQuadrilaterals:!0})}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){var e=this.data,t=this.linkService,r=document.createElement("a");if(e.url)t.addLinkAttributes(r,e.url,e.newWindow);else if(e.action)this._bindNamedAction(r,e.action);else if(e.dest)this._bindLink(r,e.dest);else{var n=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(n=!0,this._bindJSAction(r,e)),e.resetForm?this._bindResetFormAction(r,e.resetForm):n||this._bindLink(r,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(e,t){var n=0===t?r:r.cloneNode();return e.appendChild(n),e}):(this.container.className="linkAnnotation",this.container.appendChild(r),this.container)}},{key:"_bindLink",value:function(e,t){var r=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&r.linkService.goToDestination(t),!1},(t||""===t)&&(e.className="internalLink")}},{key:"_bindNamedAction",value:function(e,t){var r=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return r.linkService.executeNamedAction(t),!1},e.className="internalLink"}},{key:"_bindJSAction",value:function(e,t){var r=this;e.href=this.linkService.getAnchorUrl("");for(var n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),a=function(){var a=o[i],s=n.get(a);return s?void(e[s]=function(){var e;return null===(e=r.linkService.eventBus)||void 0===e?void 0:e.dispatch("dispatcheventinsandbox",{source:r,detail:{id:t.id,name:a}}),!1}):"continue"},i=0,o=Object.keys(t.actions);i<o.length;i++){a()}e.onclick||(e.onclick=function(){return!1}),e.className="internalLink"}},{key:"_bindResetFormAction",value:function(e,t){var r=this,n=e.onclick;return n||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",this._fieldObjects?void(e.onclick=function(){n&&n();var e=t.fields,a=t.refs,i=t.include,o=[];if(0!==e.length||0!==a.length){var s,l=new Set(a),c=_(e);try{for(c.s();!(s=c.n()).done;){var f,h=s.value,d=r._fieldObjects[h]||[],p=_(d);try{for(p.s();!(f=p.n()).done;){var v=f.value.id;l.add(v)}}catch(e){p.e(e)}finally{p.f()}}}catch(e){c.e(e)}finally{c.f()}for(var y=0,g=Object.values(r._fieldObjects);y<g.length;y++){var m,b=g[y],A=_(b);try{for(A.s();!(m=A.n()).done;){var S=m.value;l.has(S.id)===i&&o.push(S)}}catch(e){A.e(e)}finally{A.f()}}}else for(var k=0,x=Object.values(r._fieldObjects);k<x.length;k++){var w=x[k];o.push.apply(o,u(w))}for(var C=r.annotationStorage,P=[],T=0,O=o;T<O.length;T++){var E=O[T],F=E.id;switch(P.push(F),E.type){case"text":var R=E.defaultValue||"";C.setValue(F,{value:R});break;case"checkbox":case"radiobutton":var M=E.defaultValue===E.exportValues;C.setValue(F,{value:M});break;case"combobox":case"listbox":var I=E.defaultValue||"";C.setValue(F,{value:I});break;default:continue}var D=document.getElementById(F);D&&N.has(D)&&D.dispatchEvent(new Event("resetform"))}if(r.enableScripting){var j;null===(j=r.linkService.eventBus)||void 0===j?void 0:j.dispatch("dispatcheventinsandbox",{source:r,detail:{id:"app",ids:P,name:"ResetForm"}})}return!1}):((0,R.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=function(){return!1})))}}]),t}(B),G=function(e){function t(e){var n,a,i;P(this,t);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(i=e.data.richText)&&void 0!==i&&i.str);return r.call(this,e,{isRenderable:o})}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}]),t}(B),q=function(e){function t(){return P(this,t),r.apply(this,arguments)}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(e){var t=B.platform,r=t.isWin,n=t.isMac;return r&&e.ctrlKey||n&&e.metaKey}},{key:"_setEventListener",value:function(e,t,r,n){var a=this;t.includes("mouse")?e.addEventListener(t,function(e){var t;null===(t=a.linkService.eventBus)||void 0===t?void 0:t.dispatch("dispatcheventinsandbox",{source:a,detail:{id:a.data.id,name:r,value:n(e),shift:e.shiftKey,modifier:a._getKeyModifier(e)}})}):e.addEventListener(t,function(e){var t;null===(t=a.linkService.eventBus)||void 0===t?void 0:t.dispatch("dispatcheventinsandbox",{source:a,detail:{id:a.data.id,name:r,value:n(e)}})})}},{key:"_setEventListeners",value:function(e,t,r){var n,a=_(t);try{for(a.s();!(n=a.n()).done;){var i,o=A(n.value,2),s=o[0],l=o[1];("Action"===l||null!==(i=this.data.actions)&&void 0!==i&&i[l])&&this._setEventListener(e,s,l,r)}}catch(e){a.e(e)}finally{a.f()}}},{key:"_setBackgroundColor",value:function(e){var t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":R.Util.makeHexColor(t[0],t[1],t[2])}}]),t}(B),H=function(e){function t(e){P(this,t);var n=e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue;return r.call(this,e,{isRenderable:n})}d(t,e);var r=v(t);return O(t,[{key:"setPropertyOnSiblings",value:function(e,t,r,n){var a,i=this.annotationStorage,o=_(this._getElementsByName(e.name,e.id));try{for(o.s();!(a=o.n()).done;){var s=a.value;s.domElement&&(s.domElement[t]=r),i.setValue(s.id,l({},n,r))}}catch(e){o.e(e)}finally{o.f()}}},{key:"render",value:function(){var e=this,t=this.annotationStorage,r=this.data.id;this.container.className="textWidgetAnnotation";var n=null;if(this.renderForms){var a=t.getValue(r,{value:this.data.fieldValue}),i=a.formattedValue||a.value||"",o={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=i):(n=document.createElement("input"),n.type="text",n.setAttribute("value",i)),N.add(n),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=L,o.userValue=i,n.setAttribute("id",r),n.addEventListener("input",function(a){t.setValue(r,{value:a.target.value}),e.setPropertyOnSiblings(n,"value",a.target.value,"value")}),n.addEventListener("resetform",function(t){var r,a=null!==(r=e.data.defaultFieldValue)&&void 0!==r?r:"";n.value=o.userValue=a,o.formattedValue=null});var s=function(e){var t=o.formattedValue;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var l;n.addEventListener("focus",function(e){o.userValue&&(e.target.value=o.userValue),o.valueOnFocus=e.target.value}),n.addEventListener("updatefromsandbox",function(n){var a={value:function(e){var n;o.userValue=null!==(n=e.detail.value)&&void 0!==n?n:"",t.setValue(r,{value:o.userValue.toString()}),e.target.value=o.userValue},formattedValue:function e(n){var e=n.detail.formattedValue;o.formattedValue=e,null!==e&&void 0!==e&&n.target!==document.activeElement&&(n.target.value=e),t.setValue(r,{formattedValue:e})},selRange:function(e){var t;(t=e.target).setSelectionRange.apply(t,u(e.detail.selRange))}};e._dispatchEventFromSandbox(a,n)}),n.addEventListener("keydown",function(t){var n,a=-1;if("Escape"===t.key?a=0:"Enter"===t.key?a=2:"Tab"===t.key&&(a=3),a!==-1){var i=t.target.value;o.valueOnFocus!==i&&(o.userValue=i,null===(n=e.linkService.eventBus)||void 0===n?void 0:n.dispatch("dispatcheventinsandbox",{source:e,detail:{id:r,name:"Keystroke",value:i,willCommit:!0,commitKey:a,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))}});var c=s;s=null,n.addEventListener("blur",function(t){var n=t.target.value;if(o.userValue=n,e._mouseState.isDown&&o.valueOnFocus!==n){var a;null===(a=e.linkService.eventBus)||void 0===a?void 0:a.dispatch("dispatcheventinsandbox",{source:e,detail:{id:r,name:"Keystroke",value:n,willCommit:!0,commitKey:1,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}})}c(t)}),null!==(l=this.data.actions)&&void 0!==l&&l.Keystroke&&n.addEventListener("beforeinput",function(t){var n,a=t.data,i=t.target,o=i.value,s=i.selectionStart,l=i.selectionEnd,u=s,c=l;switch(t.inputType){case"deleteWordBackward":var f=o.substring(0,s).match(/\w*[^\w]*$/);f&&(u-=f[0].length);break;case"deleteWordForward":var h=o.substring(s).match(/^[^\w]*\w*/);h&&(c+=h[0].length);break;case"deleteContentBackward":s===l&&(u-=1);break;case"deleteContentForward":s===l&&(c+=1)}t.preventDefault(),null===(n=e.linkService.eventBus)||void 0===n?void 0:n.dispatch("dispatcheventinsandbox",{source:e,detail:{id:r,name:"Keystroke",value:o,change:a||"",willCommit:!1,selStart:u,selEnd:c}})}),this._setEventListeners(n,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.value})}if(s&&n.addEventListener("blur",s),null!==this.data.maxLen&&(n.maxLength=this.data.maxLen),this.data.comb){var f=this.data.rect[2]-this.data.rect[0],h=f/this.data.maxLen;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(h,"px - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell";return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.appendChild(n),this.container}},{key:"_setTextStyle",value:function(e){var t=["left","center","right"],r=this.data.defaultAppearanceData,n=r.fontSize,a=r.fontColor,i=e.style;n&&(i.fontSize="".concat(n,"px")),i.color=R.Util.makeHexColor(a[0],a[1],a[2]),null!==this.data.textAlignment&&(i.textAlign=t[this.data.textAlignment])}}]),t}(q),z=function(e){function t(e){return P(this,t),r.call(this,e,{isRenderable:e.renderForms})}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){var e=this,t=this.annotationStorage,r=this.data,n=r.id,a=t.getValue(n,{value:r.exportValue===r.fieldValue}).value;"string"==typeof a&&(a="Off"!==a,t.setValue(n,{value:a})),this.container.className="buttonWidgetAnnotation checkBox";var i=document.createElement("input");return N.add(i),i.disabled=r.readOnly,i.type="checkbox",i.name=r.fieldName,a&&i.setAttribute("checked",!0),i.setAttribute("id",n),i.setAttribute("exportValue",r.exportValue),i.tabIndex=L,i.addEventListener("change",function(a){var i,o=a.target,s=o.name,l=o.checked,u=_(e._getElementsByName(s,n));try{for(u.s();!(i=u.n()).done;){var c=i.value,f=l&&c.exportValue===r.exportValue;c.domElement&&(c.domElement.checked=f),t.setValue(c.id,{value:f})}}catch(e){u.e(e)}finally{u.f()}t.setValue(n,{value:l})}),i.addEventListener("resetform",function(e){var t=r.defaultFieldValue||"Off";e.target.checked=t===r.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",function(r){var a={value:function(e){e.target.checked="Off"!==e.detail.value,t.setValue(n,{value:e.target.checked})}};e._dispatchEventFromSandbox(a,r)}),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.checked})),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.appendChild(i),this.container}}]),t}(q),V=function(e){function t(e){return P(this,t),r.call(this,e,{isRenderable:e.renderForms})}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){var e=this;this.container.className="buttonWidgetAnnotation radioButton";var t=this.annotationStorage,r=this.data,n=r.id,a=t.getValue(n,{value:r.fieldValue===r.buttonValue}).value;"string"==typeof a&&(a=a!==r.buttonValue,t.setValue(n,{value:a}));var i=document.createElement("input");if(N.add(i),i.disabled=r.readOnly,i.type="radio",i.name=r.fieldName,a&&i.setAttribute("checked",!0),i.setAttribute("id",n),i.tabIndex=L,i.addEventListener("change",function(r){var a,i=r.target,o=i.name,s=i.checked,l=_(e._getElementsByName(o,n));try{for(l.s();!(a=l.n()).done;){var u=a.value;t.setValue(u.id,{value:!1})}}catch(e){l.e(e)}finally{l.f()}t.setValue(n,{value:s})}),i.addEventListener("resetform",function(e){var t=r.defaultFieldValue;e.target.checked=null!==t&&void 0!==t&&t===r.buttonValue}),this.enableScripting&&this.hasJSActions){var o=r.buttonValue;i.addEventListener("updatefromsandbox",function(r){var a={value:function(r){var a,i=o===r.detail.value,s=_(e._getElementsByName(r.target.name));try{for(s.s();!(a=s.n()).done;){var l=a.value,u=i&&l.id===n;l.domElement&&(l.domElement.checked=u),t.setValue(l.id,{value:u})}}catch(e){s.e(e)}finally{s.f()}}};e._dispatchEventFromSandbox(a,r)}),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.checked})}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.appendChild(i),this.container}}]),t}(q),X=function(e){function t(e){return P(this,t),r.call(this,e,{ignoreBorder:e.data.hasAppearance})}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){var e=o(b(t.prototype),"render",this).call(this);return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(e),e}}]),t}(W),Y=function(e){function t(e){return P(this,t),r.call(this,e,{isRenderable:e.renderForms})}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){var e=this;this.container.className="choiceWidgetAnnotation";var t=this.annotationStorage,r=this.data.id,n=t.getValue(r,{value:this.data.fieldValue}),a=this.data.defaultAppearanceData.fontSize;a||(a=9);var i="calc(".concat(a,"px * var(--zoom-factor))"),o=document.createElement("select");N.add(o),o.disabled=this.data.readOnly,o.name=this.data.fieldName,o.setAttribute("id",r),o.tabIndex=L,o.style.fontSize="".concat(a,"px"),this.data.combo||(o.size=this.data.options.length,this.data.multiSelect&&(o.multiple=!0)),o.addEventListener("resetform",function(t){var r,n=e.data.defaultFieldValue,a=_(o.options);try{for(a.s();!(r=a.n()).done;){var i=r.value;i.selected=i.value===n}}catch(e){a.e(e)}finally{a.f()}});var s,l=_(this.data.options);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=document.createElement("option");c.textContent=u.displayValue,c.value=u.exportValue,this.data.combo&&(c.style.fontSize=i),n.value.includes(u.exportValue)&&c.setAttribute("selected",!0),o.appendChild(c)}}catch(e){l.e(e)}finally{l.f()}var f=function(e,t){var r=t?"value":"textContent",n=e.target.options;return e.target.multiple?Array.prototype.filter.call(n,function(e){return e.selected}).map(function(e){return e[r]}):n.selectedIndex===-1?null:n[n.selectedIndex][r]},h=function(e){var t=e.target.options;return Array.prototype.map.call(t,function(e){return{displayValue:e.textContent,exportValue:e.value}})};return this.enableScripting&&this.hasJSActions?(o.addEventListener("updatefromsandbox",function(n){var a={value:function e(n){var a,e=n.detail.value,i=new Set(Array.isArray(e)?e:[e]),s=_(o.options);try{for(s.s();!(a=s.n()).done;){var l=a.value;l.selected=i.has(l.value)}}catch(e){s.e(e)}finally{s.f()}t.setValue(r,{value:f(n,!0)})},multipleSelection:function(e){o.multiple=!0},remove:function(e){var n=o.options,a=e.detail.remove;if(n[a].selected=!1,o.remove(a),n.length>0){var i=Array.prototype.findIndex.call(n,function(e){return e.selected});i===-1&&(n[0].selected=!0)}t.setValue(r,{value:f(e,!0),items:h(e)})},clear:function(e){for(;0!==o.length;)o.remove(0);t.setValue(r,{value:null,items:[]})},insert:function(e){var n=e.detail.insert,a=n.index,i=n.displayValue,s=n.exportValue,l=document.createElement("option");l.textContent=i,l.value=s,o.insertBefore(l,o.children[a]),t.setValue(r,{value:f(e,!0),items:h(e)})},items:function e(n){for(var e=n.detail.items;0!==o.length;)o.remove(0);var a,i=_(e);try{for(i.s();!(a=i.n()).done;){var s=a.value,l=s.displayValue,u=s.exportValue,c=document.createElement("option");c.textContent=l,c.value=u,o.appendChild(c)}}catch(e){i.e(e)}finally{i.f()}o.options.length>0&&(o.options[0].selected=!0),t.setValue(r,{value:f(n,!0),items:h(n)})},indices:function e(n){var a,e=new Set(n.detail.indices),i=_(n.target.options);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.selected=e.has(o.index)}}catch(e){i.e(e)}finally{i.f()}t.setValue(r,{value:f(n,!0)})},editable:function(e){e.target.disabled=!e.detail.editable}};e._dispatchEventFromSandbox(a,n)}),o.addEventListener("input",function(n){var a,i=f(n,!0),o=f(n,!1);t.setValue(r,{value:i}),null===(a=e.linkService.eventBus)||void 0===a?void 0:a.dispatch("dispatcheventinsandbox",{source:e,detail:{id:r,name:"Keystroke",value:o,changeEx:i,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(e){return e.target.checked})):o.addEventListener("input",function(e){t.setValue(r,{value:f(e,!0)})}),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.appendChild(o),this.container}}]),t}(q),K=function(e){function t(e){var n,a,i;P(this,t);var o=!!(null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(i=e.data.richText)&&void 0!==i&&i.str);return r.call(this,e,{isRenderable:o})}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){var e=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",e.includes(this.data.parentType))return this.container;var t='[data-annotation-id="'.concat(this.data.parentId,'"]'),r=this.layer.querySelectorAll(t);if(0===r.length)return this.container;var n=new J({container:this.container,trigger:Array.from(r),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),a=this.page,i=R.Util.normalizeRect([this.data.parentRect[0],a.view[3]-this.data.parentRect[1]+a.view[1],this.data.parentRect[2],a.view[3]-this.data.parentRect[3]+a.view[1]]),o=i[0]+this.data.parentRect[2]-this.data.parentRect[0],s=i[1];return this.container.style.transformOrigin="".concat(-o,"px ").concat(-s,"px"),this.container.style.left="".concat(o,"px"),this.container.style.top="".concat(s,"px"),this.container.appendChild(n.render()),this.container}}]),t}(B),J=function(){function e(t){P(this,e),this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}return O(e,[{key:"render",value:function(){var e,t,r=.7,n=document.createElement("div");n.className="popupWrapper",this.hideElement=this.hideWrapper?n:this.container,this.hideElement.hidden=!0;var a=document.createElement("div");a.className="popup";var i=this.color;if(i){var o=r*(255-i[0])+i[0],s=r*(255-i[1])+i[1],l=r*(255-i[2])+i[2];a.style.backgroundColor=R.Util.makeHexColor(0|o,0|s,0|l)}var u=document.createElement("h1");u.dir=this.titleObj.dir,u.textContent=this.titleObj.str,a.appendChild(u);var c=M.PDFDateString.toDateObject(this.modificationDate);if(c){var f=document.createElement("span");f.className="popupDate",f.textContent="{{date}}, {{time}}",f.dataset.l10nId="annotation_date_string",f.dataset.l10nArgs=JSON.stringify({date:c.toLocaleDateString(),time:c.toLocaleTimeString()}),a.appendChild(f)}if(null===(e=this.richText)||void 0===e||!e.str||null!==(t=this.contentsObj)&&void 0!==t&&t.str&&this.contentsObj.str!==this.richText.str){var h=this._formatContents(this.contentsObj);a.appendChild(h)}else j.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:a}),a.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var d,p=_(this.trigger);try{for(p.s();!(d=p.n()).done;){var v=d.value;v.addEventListener("click",this._toggle.bind(this)),v.addEventListener("mouseover",this._show.bind(this,!1)),v.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(e){p.e(e)}finally{p.f()}return a.addEventListener("click",this._hide.bind(this,!0)),n.appendChild(a),n}},{key:"_formatContents",value:function(e){var t=e.str,r=e.dir,n=document.createElement("p");n.className="popupContent",n.dir=r;for(var a=t.split(/(?:\r\n?|\n)/),i=0,o=a.length;i<o;++i){var s=a[i];n.appendChild(document.createTextNode(s)),i<o-1&&n.appendChild(document.createElement("br"))}return n}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),e}(),Q=function(e){function t(e){var n,a,i;P(this,t);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(i=e.data.richText)&&void 0!==i&&i.str);return r.call(this,e,{isRenderable:o,ignoreBorder:!0})}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),t}(B),$=function(e){function t(e){var n,a,i;P(this,t);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(i=e.data.richText)&&void 0!==i&&i.str);return r.call(this,e,{isRenderable:o,ignoreBorder:!0})}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){this.container.className="lineAnnotation";var e=this.data,t=E(e.rect),r=t.width,n=t.height,a=this.svgFactory.create(r,n),i=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),a.appendChild(i),this.container.append(a),this._createPopup(i,e),this.container}}]),t}(B),Z=function(e){function t(e){var n,a,i;P(this,t);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(i=e.data.richText)&&void 0!==i&&i.str);return r.call(this,e,{isRenderable:o,ignoreBorder:!0})}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){this.container.className="squareAnnotation";var e=this.data,t=E(e.rect),r=t.width,n=t.height,a=this.svgFactory.create(r,n),i=e.borderStyle.width,o=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",i/2),o.setAttribute("y",i/2),o.setAttribute("width",r-i),o.setAttribute("height",n-i),
o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.appendChild(o),this.container.append(a),this._createPopup(o,e),this.container}}]),t}(B),ee=function(e){function t(e){var n,a,i;P(this,t);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(i=e.data.richText)&&void 0!==i&&i.str);return r.call(this,e,{isRenderable:o,ignoreBorder:!0})}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){this.container.className="circleAnnotation";var e=this.data,t=E(e.rect),r=t.width,n=t.height,a=this.svgFactory.create(r,n),i=e.borderStyle.width,o=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",r/2),o.setAttribute("cy",n/2),o.setAttribute("rx",r/2-i/2),o.setAttribute("ry",n/2-i/2),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.appendChild(o),this.container.append(a),this._createPopup(o,e),this.container}}]),t}(B),te=function(e){function t(e){var n,a,i,o;P(this,t);var s=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(i=e.data.richText)&&void 0!==i&&i.str);return o=r.call(this,e,{isRenderable:s,ignoreBorder:!0}),o.containerClassName="polylineAnnotation",o.svgElementName="svg:polyline",o}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,r=E(t.rect),n=r.width,a=r.height,i=this.svgFactory.create(n,a),o=[],s=_(t.vertices);try{for(s.s();!(e=s.n()).done;){var l=e.value,u=l.x-t.rect[0],c=t.rect[3]-l.y;o.push(u+","+c)}}catch(e){s.e(e)}finally{s.f()}o=o.join(" ");var f=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",o),f.setAttribute("stroke-width",t.borderStyle.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),i.appendChild(f),this.container.append(i),this._createPopup(f,t),this.container}}]),t}(B),re=function(e){function t(e){var n;return P(this,t),n=r.call(this,e),n.containerClassName="polygonAnnotation",n.svgElementName="svg:polygon",n}d(t,e);var r=v(t);return O(t)}(te),ne=function(e){function t(e){var n,a,i;P(this,t);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(i=e.data.richText)&&void 0!==i&&i.str);return r.call(this,e,{isRenderable:o,ignoreBorder:!0})}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),t}(B),ae=function(e){function t(e){var n,a,i,o;P(this,t);var s=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(i=e.data.richText)&&void 0!==i&&i.str);return o=r.call(this,e,{isRenderable:s,ignoreBorder:!0}),o.containerClassName="inkAnnotation",o.svgElementName="svg:polyline",o}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,r=E(t.rect),n=r.width,a=r.height,i=this.svgFactory.create(n,a),o=_(t.inkLists);try{for(o.s();!(e=o.n()).done;){var s,l=e.value,u=[],c=_(l);try{for(c.s();!(s=c.n()).done;){var f=s.value,h=f.x-t.rect[0],d=t.rect[3]-f.y;u.push("".concat(h,",").concat(d))}}catch(e){c.e(e)}finally{c.f()}u=u.join(" ");var p=this.svgFactory.createElement(this.svgElementName);p.setAttribute("points",u),p.setAttribute("stroke-width",t.borderStyle.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),this._createPopup(p,t),i.appendChild(p)}}catch(e){o.e(e)}finally{o.f()}return this.container.append(i),this.container}}]),t}(B),ie=function(e){function t(e){var n,a,i;P(this,t);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(i=e.data.richText)&&void 0!==i&&i.str);return r.call(this,e,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),t}(B),oe=function(e){function t(e){var n,a,i;P(this,t);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(i=e.data.richText)&&void 0!==i&&i.str);return r.call(this,e,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),t}(B),se=function(e){function t(e){var n,a,i;P(this,t);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(i=e.data.richText)&&void 0!==i&&i.str);return r.call(this,e,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),t}(B),le=function(e){function t(e){var n,a,i;P(this,t);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(i=e.data.richText)&&void 0!==i&&i.str);return r.call(this,e,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),t}(B),ue=function(e){function t(e){var n,a,i;P(this,t);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(a=e.data.contentsObj)&&void 0!==a&&a.str||null!==(i=e.data.richText)&&void 0!==i&&i.str);return r.call(this,e,{isRenderable:o,ignoreBorder:!0})}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),t}(B),ce=function(e){function t(e){var n,a;P(this,t),a=r.call(this,e,{isRenderable:!0});var i=a.data.file,o=i.filename,s=i.content;return a.filename=(0,M.getFilenameFromUrl)(o),a.content=s,null===(n=a.linkService.eventBus)||void 0===n?void 0:n.dispatch("fileattachmentannotation",{source:g(a),filename:o,content:s}),a}d(t,e);var r=v(t);return O(t,[{key:"render",value:function(){var e,t;this.container.className="fileAttachmentAnnotation";var r=document.createElement("div");return r.style.height=this.container.style.height,r.style.width=this.container.style.width,r.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(null!==(e=this.data.titleObj)&&void 0!==e&&e.str||null!==(t=this.data.contentsObj)&&void 0!==t&&t.str||this.data.richText)&&this._createPopup(r,this.data),this.container.appendChild(r),this.container}},{key:"_download",value:function(){var e;null===(e=this.downloadManager)||void 0===e?void 0:e.openOrDownloadData(this.container,this.content,this.filename)}}]),t}(B),fe=function(){function e(){P(this,e)}return O(e,null,[{key:"render",value:function(t){var r,n=[],i=[],o=_(t.annotations);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(s){var l=E(s.rect),u=l.width,c=l.height;u<=0||c<=0||(s.annotationType!==R.AnnotationType.POPUP?n.push(s):i.push(s))}}}catch(e){o.e(e)}finally{o.f()}i.length&&n.push.apply(n,i);for(var f=t.div,h=0,d=n;h<d.length;h++){var p=d[h],v=U.create({data:p,layer:f,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new M.DOMSVGFactory,annotationStorage:t.annotationStorage||new I.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(v.isRenderable){var y=v.render();if(p.hidden&&(y.style.visibility="hidden"),Array.isArray(y)){var g,m=_(y);try{for(m.s();!(g=m.n()).done;){var b=g.value;f.appendChild(b)}}catch(e){m.e(e)}finally{m.f()}}else v instanceof K?f.prepend(y):f.appendChild(y)}}a(this,e,F).call(this,f,t.annotationCanvasMap)}},{key:"update",value:function(t){var r,n,i,o=t.page,s=t.viewport,l=t.annotations,u=t.annotationCanvasMap,c=t.div,f=s.transform,h="matrix(".concat(f.join(","),")"),d=_(l);try{for(d.s();!(i=d.n()).done;){var p=i.value,v=c.querySelectorAll('[data-annotation-id="'.concat(p.id,'"]'));if(v){var y,g=_(v);try{for(g.s();!(y=g.n()).done;){var m=y.value;if(p.hasOwnCanvas){var b=R.Util.normalizeRect([p.rect[0],o.view[3]-p.rect[1]+o.view[1],p.rect[2],o.view[3]-p.rect[3]+o.view[1]]);if(!n){r=Math.abs(f[0]||f[1]);for(var A=f.slice(),S=0;S<4;S++)A[S]=Math.sign(A[S]);n="matrix(".concat(A.join(","),")")}var k=b[0]*r,x=b[1]*r;m.style.left="".concat(k,"px"),m.style.top="".concat(x,"px"),m.style.transformOrigin="".concat(-k,"px ").concat(-x,"px"),m.style.transform=n}else m.style.transform=h}}catch(e){g.e(e)}finally{g.f()}}}}catch(e){d.e(e)}finally{d.f()}a(this,e,F).call(this,c,u),c.hidden=!1}}]),e}();t.AnnotationLayer=fe},function(e,t){"use strict";function r(e,t){return s(e)||o(e,t)||a(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}function s(e){if(Array.isArray(e))return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;var h=function(){function e(){l(this,e)}return c(e,null,[{key:"CMYK_G",value:function(e){var t=r(e,4),n=t[0],a=t[1],i=t[2],o=t[3];return["G",1-Math.min(1,.3*n+.59*i+.11*a+o)]}},{key:"G_CMYK",value:function(e){var t=r(e,1),n=t[0];return["CMYK",0,0,0,1-n]}},{key:"G_RGB",value:function(e){var t=r(e,1),n=t[0];return["RGB",n,n,n]}},{key:"G_HTML",value:function(e){var t=r(e,1),n=t[0],a=f(n);return"#".concat(a).concat(a).concat(a)}},{key:"RGB_G",value:function(e){var t=r(e,3),n=t[0],a=t[1],i=t[2];return["G",.3*n+.59*a+.11*i]}},{key:"RGB_HTML",value:function(e){var t=r(e,3),n=t[0],a=t[1],i=t[2],o=f(n),s=f(a),l=f(i);return"#".concat(o).concat(s).concat(l)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(e){var t=r(e,4),n=t[0],a=t[1],i=t[2],o=t[3];return["RGB",1-Math.min(1,n+o),1-Math.min(1,i+o),1-Math.min(1,a+o)]}},{key:"CMYK_HTML",value:function(e){return this.RGB_HTML(this.CMYK_RGB(e))}},{key:"RGB_CMYK",value:function(e){var t=r(e,3),n=t[0],a=t[1],i=t[2],o=1-n,s=1-a,l=1-i,u=Math.min(o,s,l);return["CMYK",o,s,l,u]}}]),e}();t.ColorConverters=h},function(e,t,r){"use strict";function n(e,t){return o(e)||i(e,t)||l(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}function o(e){if(Array.isArray(e))return e}function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var d=r(171),p=function(){function e(){c(this,e)}return h(e,null,[{key:"setupStorage",value:function(e,t,r,n,a){var i=n.getValue(t,{value:null});switch(r.name){case"textarea":if(null!==i.value&&(e.textContent=i.value),"print"===a)break;e.addEventListener("input",function(e){n.setValue(t,{value:e.target.value})});break;case"input":if("radio"===r.attributes.type||"checkbox"===r.attributes.type){if(i.value===r.attributes.xfaOn?e.setAttribute("checked",!0):i.value===r.attributes.xfaOff&&e.removeAttribute("checked"),"print"===a)break;e.addEventListener("change",function(e){n.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(null!==i.value&&e.setAttribute("value",i.value),"print"===a)break;e.addEventListener("input",function(e){n.setValue(t,{value:e.target.value})})}break;case"select":if(null!==i.value){var o,l=s(r.children);try{for(l.s();!(o=l.n()).done;){var u=o.value;u.attributes.value===i.value&&(u.attributes.selected=!0)}}catch(e){l.e(e)}finally{l.f()}}e.addEventListener("input",function(e){var r=e.target.options,a=r.selectedIndex===-1?"":r[r.selectedIndex].value;n.setValue(t,{value:a})})}}},{key:"setAttributes",value:function(e){var t=e.html,r=e.element,a=e.storage,i=void 0===a?null:a,o=e.intent,s=e.linkService,l=r.attributes,u=t instanceof HTMLAnchorElement;"radio"===l.type&&(l.name="".concat(l.name,"-").concat(o));for(var c=0,f=Object.entries(l);c<f.length;c++){var h=n(f[c],2),d=h[0],p=h[1];if(null!==p&&void 0!==p&&"dataId"!==d)if("style"!==d)if("textContent"===d)t.textContent=p;else if("class"===d)p.length&&t.setAttribute(d,p.join(" "));else{if(u&&("href"===d||"newWindow"===d))continue;t.setAttribute(d,p)}else Object.assign(t.style,p)}u&&s.addLinkAttributes(t,l.href,l.newWindow),i&&l.dataId&&this.setupStorage(t,l.dataId,r,i)}},{key:"render",value:function(e){var t=e.annotationStorage,r=e.linkService,a=e.xfaHtml,i=e.intent||"display",o=document.createElement(a.name);a.attributes&&this.setAttributes({html:o,element:a,intent:i,linkService:r});var l=[[a,-1,o]],u=e.div;if(u.appendChild(o),e.viewport){var c="matrix(".concat(e.viewport.transform.join(","),")");u.style.transform=c}"richText"!==i&&u.setAttribute("class","xfaLayer xfaFont");for(var f=[];l.length>0;){var h,p=n(l[l.length-1],3),v=p[0],y=p[1],g=p[2];if(y+1!==v.children.length){var m=v.children[++l[l.length-1][1]];if(null!==m){var b=m.name;if("#text"!==b){var _=void 0;if(_=null!==m&&void 0!==m&&null!==(h=m.attributes)&&void 0!==h&&h.xmlns?document.createElementNS(m.attributes.xmlns,b):document.createElement(b),g.appendChild(_),m.attributes&&this.setAttributes({html:_,element:m,storage:t,intent:i,linkService:r}),m.children&&m.children.length>0)l.push([m,-1,_]);else if(m.value){var A=document.createTextNode(m.value);d.XfaText.shouldBuildText(b)&&f.push(A),_.appendChild(A)}}else{var S=document.createTextNode(m.value);f.push(S),g.appendChild(S)}}}else l.pop()}var k,x=s(u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(x.s();!(k=x.n()).done;){var w=k.value;w.setAttribute("readOnly",!0)}}catch(e){x.e(e)}finally{x.f()}return{textDivs:f}}},{key:"update",value:function(e){var t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}]),e}();t.XfaLayer=p},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw i}}}}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e){return C.get(e)}function c(e,t){var r=x.get(e);if(r)return r;t.save(),t.font="".concat(S,"px ").concat(e);var n=t.measureText(""),a=n.fontBoundingBoxAscent,i=Math.abs(n.fontBoundingBoxDescent);if(a){t.restore();var o=a/(a+i);return x.set(e,o),C.set(e,[a,i]),o}t.strokeStyle="red",t.clearRect(0,0,S,S),t.strokeText("g",0,0);var s=t.getImageData(0,0,S,S).data;i=0;for(var l=s.length-1-3;l>=0;l-=4)if(s[l]>0){i=Math.ceil(l/4/S);break}t.clearRect(0,0,S,S),t.strokeText("A",0,S),s=t.getImageData(0,0,S,S).data,a=0;for(var u=0,c=s.length;u<c;u+=4)if(s[u]>0){a=S-Math.floor(u/4/S);break}if(t.restore(),a){var f=a/(a+i);return x.set(e,f),C.set(e,[a,i]),f}return x.set(e,k),C.set(e,[null,null]),k}function f(e,t){var r=Math.round(255*(1-t)+t*e),n=r.toString(16);return 1===n.length?"0"+n:n}function h(e,t){return t=t||1,t<0&&(t=0),t>1&&(t=1),"#"+f(e[0],t)+f(e[1],t)+f(e[2],t)}function d(e,t,r,n){var a=document.createElement("div"),i=e._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL};e._textDivs.push(a);var o=_.Util.transform(e._viewport.transform,t.transform),s=Math.atan2(o[1],o[0]),l=r[t.fontName]||{};l.vertical&&(s+=Math.PI/2);var f=Math.hypot(o[2],o[3]),d=f*c(l.fontFamily,n),p=u(l.fontFamily),v=0;if(Number.isNaN(l.ascent)&&Number.isNaN(l.descent)){var y=p[0]+p[1];l.ascent=p[0]/y,l.descent=-p[1]/y}if(l.ascent)if(l.descent&&l.ascent-l.descent>1){var g=(1-l.ascent-l.descent)/2;v=-g*f}else if(l.descent&&l.ascent-l.descent<1){var m=(1-l.ascent-l.descent)/2;v=m*f}var b,A;0===s?(b=o[4],A=o[5]-d):(b=o[4]+d*Math.sin(s),A=o[5]-d*Math.cos(s)),a.style.left="".concat(b,"px"),a.style.top="".concat(A,"px"),a.style.fontSize="".concat(f,"px"),a.style.fontFamily=l.fontFamily,a.setAttribute("role","presentation"),a.textContent=t.str,a.dir=t.dir,e._fontInspectorEnabled&&(a.dataset.fontName=t.fontName),0!==s&&(i.angle=s*(180/Math.PI)),t.fontName&&a.setAttribute("data-font-face",t.fontName),t.fontOriginalName&&a.setAttribute("data-font",t.fontOriginalName),a.setAttribute("data-extra-adjustment",v),l.ascent&&a.setAttribute("data-ascent",l.ascent),l.descent&&a.setAttribute("data-descent",l.descent),t.fontColor&&a.setAttribute("data-font-color",h(t.fontColor,t.fontColorAlpha));var S=!1;if(t.str.length>1||e._enhanceTextSelection&&w.test(t.str))S=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){var k=Math.abs(t.transform[0]),x=Math.abs(t.transform[3]);k!==x&&Math.max(k,x)/Math.min(k,x)>1.5&&(S=!0)}if(S&&(l.vertical?i.canvasWidth=t.height*e._viewport.scale:i.canvasWidth=t.width*e._viewport.scale),e._textDivProperties.set(a,i),e._textContentStream&&e._layoutText(a),e._enhanceTextSelection&&i.hasText){var C=1,P=0;0!==s&&(C=Math.cos(s),P=Math.sin(s));var T,O,E=(l.vertical?t.height:t.width)*e._viewport.scale,F=f;0!==s?(T=[C,P,-P,C,b,A],O=_.Util.getAxialAlignedBoundingBox([0,0,E,F],T)):O=[b,A,b+E,A+F],e._bounds.push({left:O[0],top:O[1],right:O[2],bottom:O[3],div:a,size:[E,F],m:T})}}function p(e){if(!e._canceled){var t=e._textDivs,r=e._capability,n=t.length;if(n>A)return e._renderingDone=!0,void r.resolve();if(!e._textContentStream)for(var a=0;a<n;a++)e._layoutText(t[a]);e._renderingDone=!0,r.resolve()}}function v(e,t,r){for(var n=0,a=0;a<r;a++){var i=e[t++];i>0&&(n=n?Math.min(i,n):i)}return n}function y(e){for(var t=e._bounds,r=e._viewport,n=g(r.width,r.height,t),a=0;a<n.length;a++){var i=t[a].div,o=e._textDivProperties.get(i);if(0!==o.angle){for(var s=n[a],l=t[a],u=l.m,c=u[0],f=u[1],h=[[0,0],[0,l.size[1]],[l.size[0],0],l.size],d=new Float64Array(64),p=0,y=h.length;p<y;p++){var m=_.Util.applyTransform(h[p],u);d[p+0]=c&&(s.left-m[0])/c,d[p+4]=f&&(s.top-m[1])/f,d[p+8]=c&&(s.right-m[0])/c,d[p+12]=f&&(s.bottom-m[1])/f,d[p+16]=f&&(s.left-m[0])/-f,d[p+20]=c&&(s.top-m[1])/c,d[p+24]=f&&(s.right-m[0])/-f,d[p+28]=c&&(s.bottom-m[1])/c,d[p+32]=c&&(s.left-m[0])/-c,d[p+36]=f&&(s.top-m[1])/-f,d[p+40]=c&&(s.right-m[0])/-c,d[p+44]=f&&(s.bottom-m[1])/-f,d[p+48]=f&&(s.left-m[0])/f,d[p+52]=c&&(s.top-m[1])/-c,d[p+56]=f&&(s.right-m[0])/f,d[p+60]=c&&(s.bottom-m[1])/-c}var b=1+Math.min(Math.abs(c),Math.abs(f));o.paddingLeft=v(d,32,16)/b,o.paddingTop=v(d,48,16)/b,o.paddingRight=v(d,0,16)/b,o.paddingBottom=v(d,16,16)/b,e._textDivProperties.set(i,o)}else o.paddingLeft=t[a].left-n[a].left,o.paddingTop=t[a].top-n[a].top,o.paddingRight=n[a].right-t[a].right,o.paddingBottom=n[a].bottom-t[a].bottom,e._textDivProperties.set(i,o)}}function g(e,t,r){var n=r.map(function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}});m(e,n);var a,i=new Array(r.length),s=o(n);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=l.index;i[u]={left:l.x1New,top:0,right:l.x2New,bottom:0}}}catch(e){s.e(e)}finally{s.f()}r.map(function(t,r){var a=i[r],o=n[r];o.x1=t.top,o.y1=e-a.right,o.x2=t.bottom,o.y2=e-a.left,o.index=r,o.x1New=void 0,o.x2New=void 0}),m(t,n);var c,f=o(n);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=h.index;i[d].top=h.x1New,i[d].bottom=h.x2New}}catch(e){f.e(e)}finally{f.f()}return i}function m(e,t){t.sort(function(e,t){return e.x1-t.x1||e.index-t.index});var r,n={x1:-(1/0),y1:-(1/0),x2:0,y2:1/0,index:-1,x1New:0,x2New:0},a=[{start:-(1/0),end:1/0,boundary:n}],i=o(t);try{for(i.s();!(r=i.n()).done;){for(var s=r.value,l=0;l<a.length&&a[l].end<=s.y1;)l++;for(var u=a.length-1;u>=0&&a[u].start>=s.y2;)u--;var c=void 0,f=void 0,h=void 0,d=void 0,p=-(1/0);for(h=l;h<=u;h++){c=a[h],f=c.boundary;var v=void 0;v=f.x2>s.x1?f.index>s.index?f.x1New:s.x1:void 0===f.x2New?(f.x2+s.x1)/2:f.x2New,v>p&&(p=v)}for(s.x1New=p,h=l;h<=u;h++)c=a[h],f=c.boundary,void 0===f.x2New?f.x2>s.x1?f.index>s.index&&(f.x2New=f.x2):f.x2New=p:f.x2New>p&&(f.x2New=Math.max(p,f.x2));var y=[],g=null;for(h=l;h<=u;h++){c=a[h],f=c.boundary;var m=f.x2>s.x2?f:s;g===m?y[y.length-1].end=c.end:(y.push({start:c.start,end:c.end,boundary:m}),g=m)}for(a[l].start<s.y1&&(y[0].start=s.y1,y.unshift({start:a[l].start,end:s.y1,boundary:a[l].boundary})),s.y2<a[u].end&&(y[y.length-1].end=s.y2,y.push({start:s.y2,end:a[u].end,boundary:a[u].boundary})),h=l;h<=u;h++)if(c=a[h],f=c.boundary,void 0===f.x2New){var b=!1;for(d=l-1;!b&&d>=0&&a[d].start>=f.y1;d--)b=a[d].boundary===f;for(d=u+1;!b&&d<a.length&&a[d].end<=f.y2;d++)b=a[d].boundary===f;for(d=0;!b&&d<y.length;d++)b=y[d].boundary===f;b||(f.x2New=p)}Array.prototype.splice.apply(a,[l,u-l+1].concat(y))}}catch(e){i.e(e)}finally{i.f()}for(var _=0,A=a;_<A.length;_++){var S=A[_],k=S.boundary;void 0===k.x2New&&(k.x2New=Math.max(e,k.x2))}}function b(e){var t=new P({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=b;var _=r(1),A=1e5,S=30,k=.8,x=new Map,w=/^\s+$/g,C=new Map,P=function(){function e(t){var r,a=this,i=t.textContent,o=t.textContentStream,s=t.container,l=t.viewport,u=t.textDivs,c=t.textContentItemsStr,f=t.enhanceTextSelection;n(this,e),this._textContent=i,this._textContentStream=o,this._container=s,this._document=s.ownerDocument,this._viewport=l,this._textDivs=u||[],this._textContentItemsStr=c||[],this._enhanceTextSelection=!!f,this._fontInspectorEnabled=!(null===(r=globalThis.FontInspector)||void 0===r||!r.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,_.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){a._enhanceTextSelection||(a._textDivProperties=null),a._layoutTextCtx&&(a._layoutTextCtx.canvas.width=0,a._layoutTextCtx.canvas.height=0,a._layoutTextCtx=null)}).catch(function(){})}return i(e,[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new _.AbortException("TextLayer task cancelled.")).catch(function(){}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(e,t){for(var r=0,n=e.length;r<n;r++)if(void 0!==e[r].str)this._textContentItemsStr.push(e[r].str),d(this,e[r],t,this._layoutTextCtx);else if("beginMarkedContentProps"===e[r].type||"beginMarkedContent"===e[r].type){var a=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==e[r].id&&this._container.setAttribute("id","".concat(e[r].id)),a.appendChild(this._container)}else"endMarkedContent"===e[r].type&&(this._container=this._container.parentNode)}},{key:"_layoutText",value:function(e){var t=this._textDivProperties.get(e),r="";if(0!==t.canvasWidth&&t.hasText){var n=e.style,a=n.fontSize,i=n.fontFamily;a===this._layoutTextLastFontSize&&i===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(a," ").concat(i),this._layoutTextLastFontSize=a,this._layoutTextLastFontFamily=i);var o=this._layoutTextCtx.measureText(e.textContent),s=o.width;if(s>0){var l=t.canvasWidth/s;this._enhanceTextSelection&&(t.scale=l),r="scaleX(".concat(l,")")}}if(0!==t.angle&&(r="rotate(".concat(t.angle,"deg) ").concat(r)),r.length>0&&(this._enhanceTextSelection&&(t.originalTransform=r),e.style.transform=r),t.hasText&&this._container.appendChild(e),t.hasEOL){var u=document.createElement("br");u.setAttribute("role","presentation"),this._container.appendChild(u)}}},{key:"_render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=(0,_.createPromiseCapability)(),n=Object.create(null),a=this._document.createElement("canvas");if(a.height=a.width=S,this._layoutTextCtx=a.getContext("2d",{alpha:!1}),this._textContent){var i=this._textContent.items,o=this._textContent.styles;this._processItems(i,o),r.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');var s=function t(){e._reader.read().then(function(a){var i=a.value,o=a.done;return o?void r.resolve():(Object.assign(n,i.styles),e._processItems(i.items,n),void t())},r.reject)};this._reader=this._textContentStream.getReader(),s()}r.promise.then(function(){n=null,t?e._renderTimer=setTimeout(function(){p(e),e._renderTimer=null},t):p(e)},this._capability.reject)}},{key:"expandTextDivs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(y(this),this._bounds=null);for(var t=[],r=[],n=0,a=this._textDivs.length;n<a;n++){var i=this._textDivs[n],o=this._textDivProperties.get(i);o.hasText&&(e?(t.length=0,r.length=0,o.originalTransform&&t.push(o.originalTransform),o.paddingTop>0?(r.push("".concat(o.paddingTop,"px")),t.push("translateY(".concat(-o.paddingTop,"px)"))):r.push(0),o.paddingRight>0?r.push("".concat(o.paddingRight/o.scale,"px")):r.push(0),o.paddingBottom>0?r.push("".concat(o.paddingBottom,"px")):r.push(0),o.paddingLeft>0?(r.push("".concat(o.paddingLeft/o.scale,"px")),t.push("translateX(".concat(-o.paddingLeft/o.scale,"px)"))):r.push(0),i.style.padding=r.join(" "),t.length&&(i.style.transform=t.join(" "))):(i.style.padding=null,i.style.transform=o.originalTransform))}}}}]),e}()},function(e,t,r){"use strict";function n(e){return o(e)||i(e)||h(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function o(e){if(Array.isArray(e))return d(e)}function s(e,t){return c(e)||u(e,t)||h(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}function c(e){if(Array.isArray(e))return e}function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=h(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();
return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var g=r(1),m=r(158),b=r(3),_=v(function e(){y(this,e),(0,g.unreachable)("Not implemented: SVGGraphics")});t.SVGGraphics=_;var A=function(e){var t,r=[],n=[],a=f(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;"save"!==i.fn?"restore"===i.fn?r=n.pop():r.push(i):(r.push({fnId:92,fn:"group",items:[]}),n.push(r),r=r[r.length-1].items)}}catch(e){a.e(e)}finally{a.f()}return r},S=function(e){if(Number.isInteger(e))return e.toString();var t=e.toFixed(10),r=t.length-1;if("0"!==t[r])return t;do r--;while("0"===t[r]);return t.substring(0,"."===t[r]?r:r+1)},k=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale(".concat(S(e[0])," ").concat(S(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){var t=180*Math.acos(e[0])/Math.PI;return"rotate(".concat(S(t),")")}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate(".concat(S(e[4])," ").concat(S(e[5]),")");return"matrix(".concat(S(e[0])," ").concat(S(e[1])," ").concat(S(e[2])," ").concat(S(e[3])," ").concat(S(e[4])," ")+"".concat(S(e[5]),")")},x={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},w="http://www.w3.org/XML/1998/namespace",C="http://www.w3.org/1999/xlink",P=["butt","round","square"],T=["miter","round","bevel"],O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&"undefined"!=typeof Blob&&!r)return URL.createObjectURL(new Blob([e],{type:t}));for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="data:".concat(t,";base64,"),i=0,o=e.length;i<o;i+=3){var s=255&e[i],l=255&e[i+1],u=255&e[i+2],c=s>>2,f=(3&s)<<4|l>>4,h=i+1<o?(15&l)<<2|u>>6:64,d=i+2<o?63&u:64;a+=n[c]+n[f]+n[h]+n[d]}return a},E=function(){function e(e,t,r){for(var n=-1,a=t;a<r;a++){var i=255&(n^e[a]),o=l[i];n=n>>>8^o}return n^-1}function t(t,r,n,a){var i=a,o=r.length;n[i]=o>>24&255,n[i+1]=o>>16&255,n[i+2]=o>>8&255,n[i+3]=255&o,i+=4,n[i]=255&t.charCodeAt(0),n[i+1]=255&t.charCodeAt(1),n[i+2]=255&t.charCodeAt(2),n[i+3]=255&t.charCodeAt(3),i+=4,n.set(r,i),i+=r.length;var s=e(n,a+4,i);n[i]=s>>24&255,n[i+1]=s>>16&255,n[i+2]=s>>8&255,n[i+3]=255&s}function r(e,t,r){for(var n=1,a=0,i=t;i<r;++i)n=(n+(255&e[i]))%65521,a=(a+n)%65521;return a<<16|n}function n(e){if(!b.isNodeJS)return a(e);try{var t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);var r=require("zlib").deflateSync(t,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(e){(0,g.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return a(e)}function a(e){var t=e.length,n=65535,a=Math.ceil(t/n),i=new Uint8Array(2+t+5*a+4),o=0;i[o++]=120,i[o++]=156;for(var s=0;t>n;)i[o++]=0,i[o++]=255,i[o++]=255,i[o++]=0,i[o++]=0,i.set(e.subarray(s,s+n),o),o+=n,s+=n,t-=n;i[o++]=1,i[o++]=255&t,i[o++]=t>>8&255,i[o++]=65535&~t&255,i[o++]=(65535&~t)>>8&255,i.set(e.subarray(s),o),o+=e.length-s;var l=r(e,0,e.length);return i[o++]=l>>24&255,i[o++]=l>>16&255,i[o++]=l>>8&255,i[o++]=255&l,i}function i(e,r,a,i){var l,u,c,f=e.width,h=e.height,d=e.data;switch(r){case g.ImageKind.GRAYSCALE_1BPP:u=0,l=1,c=f+7>>3;break;case g.ImageKind.RGB_24BPP:u=2,l=8,c=3*f;break;case g.ImageKind.RGBA_32BPP:u=6,l=8,c=4*f;break;default:throw new Error("invalid format")}for(var p=new Uint8Array((1+c)*h),v=0,y=0,m=0;m<h;++m)p[v++]=0,p.set(d.subarray(y,y+c),v),y+=c,v+=c;if(r===g.ImageKind.GRAYSCALE_1BPP&&i){v=0;for(var b=0;b<h;b++){v++;for(var _=0;_<c;_++)p[v++]^=255}}var A=new Uint8Array([f>>24&255,f>>16&255,f>>8&255,255&f,h>>24&255,h>>16&255,h>>8&255,255&h,l,u,0,0,0]),S=n(p),k=o.length+3*s+A.length+S.length,x=new Uint8Array(k),w=0;return x.set(o,w),w+=o.length,t("IHDR",A,x,w),w+=s+A.length,t("IDATA",S,x,w),w+=s+S.length,t("IEND",new Uint8Array(0),x,w),O(x,"image/png",a)}for(var o=new Uint8Array([137,80,78,71,13,10,26,10]),s=12,l=new Int32Array(256),u=0;u<256;u++){for(var c=u,f=0;f<8;f++)c=1&c?3988292384^c>>1&2147483647:c>>1&2147483647;l[u]=c}return function(e,t,r){var n=void 0===e.kind?g.ImageKind.GRAYSCALE_1BPP:e.kind;return i(e,n,t,r)}}(),F=function(){function e(){y(this,e),this.fontSizeScale=1,this.fontWeight=x.fontWeight,this.fontSize=0,this.textMatrix=g.IDENTITY_MATRIX,this.fontMatrix=g.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=g.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=x.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return v(e,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}}]),e}(),R=0,M=0,I=0;t.SVGGraphics=_=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];y(this,e),this.svgFactory=new m.DOMSVGFactory,this.current=new F,this.transformMatrix=g.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=r,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n,this._operatorIdMapping=[];for(var a in g.OPS)this._operatorIdMapping[g.OPS[a]]=a}return v(e,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(e){this.save(),this.executeOpTree(e),this.restore()}},{key:"loadDependencies",value:function(e){for(var t=this,r=e.fnArray,n=e.argsArray,a=0,i=r.length;a<i;a++)if(r[a]===g.OPS.dependency){var o,s=f(n[a]);try{var l=function(){var e=o.value,r=e.startsWith("g_")?t.commonObjs:t.objs,n=new Promise(function(t){r.get(e,t)});t.current.dependencies.push(n)};for(s.s();!(o=s.n()).done;)l()}catch(e){s.e(e)}finally{s.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(e,t,r,n,a,i){var o=[e,t,r,n,a,i];this.transformMatrix=g.Util.transform(this.transformMatrix,o),this.tgrp=null}},{key:"getSVG",value:function(e,t){var r=this;this.viewport=t;var n=this._initialize(t);return this.loadDependencies(e).then(function(){return r.transformMatrix=g.IDENTITY_MATRIX,r.executeOpTree(r.convertOpList(e)),n})}},{key:"convertOpList",value:function(e){for(var t=this._operatorIdMapping,r=e.argsArray,n=e.fnArray,a=[],i=0,o=n.length;i<o;i++){var s=n[i];a.push({fnId:s,fn:t[s],args:r[i]})}return A(a)}},{key:"executeOpTree",value:function(e){var t,r=f(e);try{for(r.s();!(t=r.n()).done;){var n=t.value,a=n.fn,i=n.fnId,o=n.args;switch(0|i){case g.OPS.beginText:this.beginText();break;case g.OPS.dependency:break;case g.OPS.setLeading:this.setLeading(o);break;case g.OPS.setLeadingMoveText:this.setLeadingMoveText(o[0],o[1]);break;case g.OPS.setFont:this.setFont(o);break;case g.OPS.showText:this.showText(o[0]);break;case g.OPS.showSpacedText:this.showText(o[0]);break;case g.OPS.endText:this.endText();break;case g.OPS.moveText:this.moveText(o[0],o[1]);break;case g.OPS.setCharSpacing:this.setCharSpacing(o[0]);break;case g.OPS.setWordSpacing:this.setWordSpacing(o[0]);break;case g.OPS.setHScale:this.setHScale(o[0]);break;case g.OPS.setTextMatrix:this.setTextMatrix(o[0],o[1],o[2],o[3],o[4],o[5]);break;case g.OPS.setTextRise:this.setTextRise(o[0]);break;case g.OPS.setTextRenderingMode:this.setTextRenderingMode(o[0]);break;case g.OPS.setLineWidth:this.setLineWidth(o[0]);break;case g.OPS.setLineJoin:this.setLineJoin(o[0]);break;case g.OPS.setLineCap:this.setLineCap(o[0]);break;case g.OPS.setMiterLimit:this.setMiterLimit(o[0]);break;case g.OPS.setFillRGBColor:this.setFillRGBColor(o[0],o[1],o[2]);break;case g.OPS.setStrokeRGBColor:this.setStrokeRGBColor(o[0],o[1],o[2]);break;case g.OPS.setStrokeColorN:this.setStrokeColorN(o);break;case g.OPS.setFillColorN:this.setFillColorN(o);break;case g.OPS.shadingFill:this.shadingFill(o[0]);break;case g.OPS.setDash:this.setDash(o[0],o[1]);break;case g.OPS.setRenderingIntent:this.setRenderingIntent(o[0]);break;case g.OPS.setFlatness:this.setFlatness(o[0]);break;case g.OPS.setGState:this.setGState(o[0]);break;case g.OPS.fill:this.fill();break;case g.OPS.eoFill:this.eoFill();break;case g.OPS.stroke:this.stroke();break;case g.OPS.fillStroke:this.fillStroke();break;case g.OPS.eoFillStroke:this.eoFillStroke();break;case g.OPS.clip:this.clip("nonzero");break;case g.OPS.eoClip:this.clip("evenodd");break;case g.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case g.OPS.paintImageXObject:this.paintImageXObject(o[0]);break;case g.OPS.paintInlineImageXObject:this.paintInlineImageXObject(o[0]);break;case g.OPS.paintImageMaskXObject:this.paintImageMaskXObject(o[0]);break;case g.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(o[0],o[1]);break;case g.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case g.OPS.closePath:this.closePath();break;case g.OPS.closeStroke:this.closeStroke();break;case g.OPS.closeFillStroke:this.closeFillStroke();break;case g.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case g.OPS.nextLine:this.nextLine();break;case g.OPS.transform:this.transform(o[0],o[1],o[2],o[3],o[4],o[5]);break;case g.OPS.constructPath:this.constructPath(o[0],o[1]);break;case g.OPS.endPath:this.endPath();break;case 92:this.group(n.items);break;default:(0,g.warn)("Unimplemented operator ".concat(a))}}}catch(e){r.e(e)}finally{r.f()}}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(e,t,r,n,a,i){var o=this.current;o.textMatrix=o.lineMatrix=[e,t,r,n,a,i],o.textMatrixScale=Math.hypot(e,t),o.x=o.lineX=0,o.y=o.lineY=0,o.xcoords=[],o.ycoords=[],o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size","".concat(S(o.fontSize),"px")),o.tspan.setAttributeNS(null,"y",S(-o.y)),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtElement.appendChild(o.tspan)}},{key:"beginText",value:function(){var e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=g.IDENTITY_MATRIX,e.lineMatrix=g.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}},{key:"moveText",value:function(e,t){var r=this.current;r.x=r.lineX+=e,r.y=r.lineY+=t,r.xcoords=[],r.ycoords=[],r.tspan=this.svgFactory.createElement("svg:tspan"),r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size","".concat(S(r.fontSize),"px")),r.tspan.setAttributeNS(null,"y",S(-r.y))}},{key:"showText",value:function(e){var t=this.current,r=t.font,n=t.fontSize;if(0!==n){var a,i=t.fontSizeScale,o=t.charSpacing,s=t.wordSpacing,l=t.fontDirection,u=t.textHScale*l,c=r.vertical,h=c?1:-1,d=r.defaultVMetrics,p=n*t.fontMatrix[0],v=0,y=f(e);try{for(y.s();!(a=y.n()).done;){var m=a.value;if(null!==m)if("number"!=typeof m){var b=(m.isSpace?s:0)+o,_=m.fontChar,A=void 0,C=void 0,P=m.width;if(c){var T=void 0,O=m.vmetric||d;T=m.vmetric?O[1]:.5*P,T=-T*p;var E=O[2]*p;P=O?-O[0]:P,A=T/i,C=(v+E)/i}else A=v/i,C=0;(m.isInFont||r.missingFile)&&(t.xcoords.push(t.x+A),c&&t.ycoords.push(-t.y+C),t.tspan.textContent+=_);var F=void 0;F=c?P*p-b*l:P*p+b*l,v+=F}else v+=h*m*n/1e3;else v+=l*s}}catch(e){y.e(e)}finally{y.f()}t.tspan.setAttributeNS(null,"x",t.xcoords.map(S).join(" ")),c?t.tspan.setAttributeNS(null,"y",t.ycoords.map(S).join(" ")):t.tspan.setAttributeNS(null,"y",S(-t.y)),c?t.y-=v:t.x+=v*u,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(S(t.fontSize),"px")),t.fontStyle!==x.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==x.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);var R=t.textRenderingMode&g.TextRenderingMode.FILL_STROKE_MASK;if(R===g.TextRenderingMode.FILL||R===g.TextRenderingMode.FILL_STROKE?(t.fillColor!==x.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===g.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),R===g.TextRenderingMode.STROKE||R===g.TextRenderingMode.FILL_STROKE){var M=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,M)}var I=t.textMatrix;0!==t.textRise&&(I=I.slice(),I[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform","".concat(k(I)," scale(").concat(S(u),", -1)")),t.txtElement.setAttributeNS(w,"xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"addFontStyle",value:function(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=O(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(e.loadedName,'";')+" src: url(".concat(t,"); }\n")}},{key:"setFont",value:function(e){var t=this.current,r=this.commonObjs.get(e[0]),n=e[1];t.font=r,!this.embedFonts||r.missingFile||this.embeddedFonts[r.loadedName]||(this.addFontStyle(r),this.embeddedFonts[r.loadedName]=r),t.fontMatrix=r.fontMatrix||g.FONT_IDENTITY_MATRIX;var a="normal";r.black?a="900":r.bold&&(a="bold");var i=r.italic?"italic":"normal";n<0?(n=-n,t.fontDirection=-1):t.fontDirection=1,t.fontSize=n,t.fontFamily=r.loadedName,t.fontWeight=a,t.fontStyle=i,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",S(-t.y)),t.xcoords=[],t.ycoords=[]}},{key:"endText",value:function(){var e,t=this.current;t.textRenderingMode&g.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(e=t.txtElement)&&void 0!==e&&e.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(e){e>0&&(this.current.lineWidth=e)}},{key:"setLineCap",value:function(e){this.current.lineCap=P[e]}},{key:"setLineJoin",value:function(e){this.current.lineJoin=T[e]}},{key:"setMiterLimit",value:function(e){this.current.miterLimit=e}},{key:"setStrokeAlpha",value:function(e){this.current.strokeAlpha=e}},{key:"setStrokeRGBColor",value:function(e,t,r){this.current.strokeColor=g.Util.makeHexColor(e,t,r)}},{key:"setFillAlpha",value:function(e){this.current.fillAlpha=e}},{key:"setFillRGBColor",value:function(e,t,r){this.current.fillColor=g.Util.makeHexColor(e,t,r),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(e){this.current.strokeColor=this._makeColorN_Pattern(e)}},{key:"setFillColorN",value:function(e){this.current.fillColor=this._makeColorN_Pattern(e)}},{key:"shadingFill",value:function(e){var t=this.viewport.width,r=this.viewport.height,n=g.Util.inverseTransform(this.transformMatrix),a=g.Util.applyTransform([0,0],n),i=g.Util.applyTransform([0,r],n),o=g.Util.applyTransform([t,0],n),s=g.Util.applyTransform([t,r],n),l=Math.min(a[0],i[0],o[0],s[0]),u=Math.min(a[1],i[1],o[1],s[1]),c=Math.max(a[0],i[0],o[0],s[0]),f=Math.max(a[1],i[1],o[1],s[1]),h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x",l),h.setAttributeNS(null,"y",u),h.setAttributeNS(null,"width",c-l),h.setAttributeNS(null,"height",f-u),h.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&h.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(h)}},{key:"_makeColorN_Pattern",value:function(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}},{key:"_makeTilingPattern",value:function(e){var t=e[1],r=e[2],a=e[3]||g.IDENTITY_MATRIX,i=s(e[4],4),o=i[0],l=i[1],u=i[2],c=i[3],f=e[5],h=e[6],d=e[7],p="shading".concat(I++),v=g.Util.normalizeRect([].concat(n(g.Util.applyTransform([o,l],a)),n(g.Util.applyTransform([u,c],a)))),y=s(v,4),m=y[0],b=y[1],_=y[2],A=y[3],S=g.Util.singularValueDecompose2dScale(a),k=s(S,2),x=k[0],w=k[1],C=f*x,P=h*w,T=this.svgFactory.createElement("svg:pattern");T.setAttributeNS(null,"id",p),T.setAttributeNS(null,"patternUnits","userSpaceOnUse"),T.setAttributeNS(null,"width",C),T.setAttributeNS(null,"height",P),T.setAttributeNS(null,"x","".concat(m)),T.setAttributeNS(null,"y","".concat(b));var O=this.svg,E=this.transformMatrix,F=this.current.fillColor,R=this.current.strokeColor,M=this.svgFactory.create(_-m,A-b);if(this.svg=M,this.transformMatrix=a,2===d){var D=g.Util.makeHexColor.apply(g.Util,n(t));this.current.fillColor=D,this.current.strokeColor=D}return this.executeOpTree(this.convertOpList(r)),this.svg=O,this.transformMatrix=E,this.current.fillColor=F,this.current.strokeColor=R,T.appendChild(M.childNodes[0]),this.defs.appendChild(T),"url(#".concat(p,")")}},{key:"_makeShadingPattern",value:function(e){switch("string"==typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":var t,r="shading".concat(I++),n=e[3];switch(e[1]){case"axial":var a=e[4],i=e[5];t=this.svgFactory.createElement("svg:linearGradient"),t.setAttributeNS(null,"id",r),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"x1",a[0]),t.setAttributeNS(null,"y1",a[1]),t.setAttributeNS(null,"x2",i[0]),t.setAttributeNS(null,"y2",i[1]);break;case"radial":var o=e[4],s=e[5],l=e[6],u=e[7];t=this.svgFactory.createElement("svg:radialGradient"),t.setAttributeNS(null,"id",r),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"cx",s[0]),t.setAttributeNS(null,"cy",s[1]),t.setAttributeNS(null,"r",u),t.setAttributeNS(null,"fx",o[0]),t.setAttributeNS(null,"fy",o[1]),t.setAttributeNS(null,"fr",l);break;default:throw new Error("Unknown RadialAxial type: ".concat(e[1]))}var c,h=f(n);try{for(h.s();!(c=h.n()).done;){var d=c.value,p=this.svgFactory.createElement("svg:stop");p.setAttributeNS(null,"offset",d[0]),p.setAttributeNS(null,"stop-color",d[1]),t.appendChild(p)}}catch(e){h.e(e)}finally{h.f()}return this.defs.appendChild(t),"url(#".concat(r,")");case"Mesh":return(0,g.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(e[0]))}}},{key:"setDash",value:function(e,t){this.current.dashArray=e,this.current.dashPhase=t}},{key:"constructPath",value:function(e,t){var r,n=this.current,a=n.x,i=n.y,o=[],s=0,l=f(e);try{for(l.s();!(r=l.n()).done;){var u=r.value;switch(0|u){case g.OPS.rectangle:a=t[s++],i=t[s++];var c=t[s++],h=t[s++],d=a+c,p=i+h;o.push("M",S(a),S(i),"L",S(d),S(i),"L",S(d),S(p),"L",S(a),S(p),"Z");break;case g.OPS.moveTo:a=t[s++],i=t[s++],o.push("M",S(a),S(i));break;case g.OPS.lineTo:a=t[s++],i=t[s++],o.push("L",S(a),S(i));break;case g.OPS.curveTo:a=t[s+4],i=t[s+5],o.push("C",S(t[s]),S(t[s+1]),S(t[s+2]),S(t[s+3]),S(a),S(i)),s+=6;break;case g.OPS.curveTo2:o.push("C",S(a),S(i),S(t[s]),S(t[s+1]),S(t[s+2]),S(t[s+3])),a=t[s+2],i=t[s+3],s+=4;break;case g.OPS.curveTo3:a=t[s+2],i=t[s+3],o.push("C",S(t[s]),S(t[s+1]),S(a),S(i),S(a),S(i)),s+=4;break;case g.OPS.closePath:o.push("Z")}}}catch(e){l.e(e)}finally{l.f()}o=o.join(" "),n.path&&e.length>0&&e[0]!==g.OPS.rectangle&&e[0]!==g.OPS.moveTo?o=n.path.getAttributeNS(null,"d")+o:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(n.path)),n.path.setAttributeNS(null,"d",o),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(a,i)}},{key:"endPath",value:function(){var e=this.current;if(e.path=null,this.pendingClip){if(!e.element)return void(this.pendingClip=null);var t="clippath".concat(R++),r=this.svgFactory.createElement("svg:clipPath");r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"transform",k(this.transformMatrix));var n=e.element.cloneNode(!0);if("evenodd"===this.pendingClip?n.setAttributeNS(null,"clip-rule","evenodd"):n.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,r.appendChild(n),this.defs.appendChild(r),e.activeClipUrl){e.clipGroup=null;var a,i=f(this.extraStack);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.clipGroup=null}}catch(e){i.e(e)}finally{i.f()}r.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl="url(#".concat(t,")"),this.tgrp=null}}},{key:"clip",value:function(e){this.pendingClip=e}},{key:"closePath",value:function(){var e=this.current;if(e.path){var t="".concat(e.path.getAttributeNS(null,"d"),"Z");e.path.setAttributeNS(null,"d",t)}}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){var t,r=f(e);try{for(r.s();!(t=r.n()).done;){var n=s(t.value,2),a=n[0],i=n[1];switch(a){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i);break;case"CA":this.setStrokeAlpha(i);break;case"ca":this.setFillAlpha(i);break;default:(0,g.warn)("Unimplemented graphic state operator ".concat(a))}}}catch(e){r.e(e)}finally{r.f()}}},{key:"fill",value:function(){var e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.current,n=r.dashArray;1!==t&&n.length>0&&(n=n.map(function(e){return t*e})),e.setAttributeNS(null,"stroke",r.strokeColor),e.setAttributeNS(null,"stroke-opacity",r.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",S(r.miterLimit)),e.setAttributeNS(null,"stroke-linecap",r.lineCap),e.setAttributeNS(null,"stroke-linejoin",r.lineJoin),e.setAttributeNS(null,"stroke-width",S(t*r.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",n.map(S).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",S(t*r.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}},{key:"paintImageXObject",value:function(e){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);return t?void this.paintInlineImageXObject(t):void(0,g.warn)("Dependent image with object ID ".concat(e," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(e,t){var r=e.width,n=e.height,a=E(e,this.forceDataSchema,!!t),i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width",S(r)),i.setAttributeNS(null,"height",S(n)),this.current.element=i,this.clip("nonzero");var o=this.svgFactory.createElement("svg:image");o.setAttributeNS(C,"xlink:href",a),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y",S(-n)),o.setAttributeNS(null,"width",S(r)+"px"),o.setAttributeNS(null,"height",S(n)+"px"),o.setAttributeNS(null,"transform","scale(".concat(S(1/r)," ").concat(S(-1/n),")")),t?t.appendChild(o):this._ensureTransformGroup().appendChild(o)}},{key:"paintImageMaskXObject",value:function(e){var t=this.current,r=e.width,n=e.height,a=t.fillColor;t.maskId="mask".concat(M++);var i=this.svgFactory.createElement("svg:mask");i.setAttributeNS(null,"id",t.maskId);var o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",S(r)),o.setAttributeNS(null,"height",S(n)),o.setAttributeNS(null,"fill",a),o.setAttributeNS(null,"mask","url(#".concat(t.maskId,")")),this.defs.appendChild(i),this._ensureTransformGroup().appendChild(o),this.paintInlineImageXObject(e,i)}},{key:"paintFormXObjectBegin",value:function(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){var r=t[2]-t[0],n=t[3]-t[1],a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x",t[0]),a.setAttributeNS(null,"y",t[1]),a.setAttributeNS(null,"width",S(r)),a.setAttributeNS(null,"height",S(n)),this.current.element=a,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(e){var t=this.svgFactory.create(e.width,e.height),r=this.svgFactory.createElement("svg:defs");t.appendChild(r),this.defs=r;var n=this.svgFactory.createElement("svg:g");return n.setAttributeNS(null,"transform",k(e.transform)),t.appendChild(n),this.svg=n,t}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",k(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),e}()},function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.FormFunctionality=void 0;var a=r(1),i=function(){function e(e){for(var t=0,r=e.attributes.length;t<r;t++)try{if("multiple"===e.attributes[t].name)return!0}catch(e){}return!1}function t(e,t,r,n){var a,i,o=r.pageInfo.view[2],s=r.pageInfo.view[3];return"number"==typeof e&&"number"!=typeof t?(a=e/o,i=r.getViewport(a*n)):"number"!=typeof e&&"number"==typeof t?(a=t/s,i=r.getViewport(a*n)):"number"==typeof e&&"number"==typeof t?(a=t/s,a*o>e?(a=e/o,i=r.getViewport(a*n)):i=r.getViewport(a*n)):i=r.getViewport(n)}function r(e,t){var r,n={};for(r in e)n[r]=e[r];for(r in t)"undefined"!=typeof t[r]&&(n[r]=t[r]);return n}function i(e,t){try{return"number"==typeof e?e<=0?0!==Number(_)&&Number(_)>0?i(_,t):"80%":String(Math.round(e*t.fontScale)):"string"==typeof e?e.includes("%")?e:String(Math.round(Number(e)*t.fontScale)):"80%"}catch(e){return"80%"}}function o(e,t){var r={id:e.fullName,originalName:e.originalName,tabindex:b++,type:v(e),fieldFlags:e.fieldFlags};try{"fontSize"in e&&("number"==typeof e.fontSize||"string"==typeof e.fontSize)?r.fontSize=i(e.fontSize,t):r.fontSize=i(_,t)}catch(e){r.fontSize="60%"}switch(e.textAlignment){case 0:r.textAlignment="left";break;case 1:r.textAlignment="center";break;case 2:r.textAlignment="right";break;default:r.textAlignment=""}return r}function s(e,t){var r=t.convertToViewportRectangle(e.rect),n=a.Util.normalizeRect(r);return{x:Math.floor(n[0]),y:Math.floor(n[1]),width:Math.ceil(n[2]-n[0])+.5,height:Math.ceil(n[3]-n[1])+.5}}function l(e,t,r,a){var i=e.selected,o=r[a.id];switch(n(o)){case"string":i=e.options.indexOf(o)>0;break;case"boolean":i=o}return{options:e.options,selected:i,readOnly:e.readOnly}}function u(e,t,r,n){return{}}function c(e,t,r,n){var a=e.selected;if(n.id in r){var i=r[n.id];a=e.options.indexOf(i)>0}return{options:e.options,selected:a,readOnly:e.readOnly}}function f(e,t,r,n){var a=e.fieldValue;return e.fullName in r&&(a=r[e.fullName]),{value:a,multiLine:e.multiLine,password:e.password,fileUpload:e.fileUpload,richText:e.richText,readOnly:e.readOnly,maxlen:e.maxlen}}function h(e,t,r,n){var a=e.fieldValue;return e.fullName in r&&(a=r[e.fullName]),{value:a,options:e.options,multiSelect:e.multiSelect,allowTextEntry:e.allowTextEntry,readOnly:e.readOnly}}function d(e,t,n){var a=o(e,t);if(a=r(s(e,t),a),a.fontSize.includes("%")){var i=a.fontSize.substring(0,a.fontSize.indexOf("%"))/100;a.fontSize=Math.round(a.height*i),a.fontSizeControl=Math.round(a.height*i-Math.ceil(4*t.scale))}else a.fontSizeControl=a.fontSize;switch(a.type){case k.CHECK_BOX:a=r(a,l(e,t,n,a));break;case k.DROP_DOWN:a=r(a,h(e,t,n,a));break;case k.PUSH_BUTTON:a=r(a,u(e,t,n,a));break;case k.RADIO_BUTTON:a=r(a,c(e,t,n,a));break;case k.TEXT:a=r(a,f(e,t,n,a))}return a}function p(e,t){var r=document.createElement("div");return r.style.left=e.x+"px",r.style.top=e.y+"px",r.style.width=Math.floor(e.width)+"px",r.style.height=Math.floor(e.height)+"px",r.style.fontSize=e.fontSize+"px",r.style.textAlign=e.textAlignment,r.style.position="absolute",r.style.border="0 none",r}function v(e){if("Widget"===e.subtype)switch(e.fieldType){case"Tx":if(e.paperMetaData)break;return k.TEXT;case"Btn":return 32768&e.fieldFlags||49152&e.fieldFlags?k.RADIO_BUTTON:65536&e.fieldFlags?k.PUSH_BUTTON:k.CHECK_BOX;case"Ch":return k.DROP_DOWN}return k.UNSUPPORTED}function y(e){var t=e.nodeName.toLowerCase();if("input"===t)switch(e.type.toLowerCase()){case"radio":return k.RADIO_BUTTON;case"checkbox":return k.CHECK_BOX}else{if("textarea"===t)return k.TEXT;if("select"===t)return k.DROP_DOWN}return k.TEXT}function g(e,t,r,n,i){t.getAnnotations().then(function(t){t.forEach(function(t){if(t.hiddenForForms!==!0){t.fullName=t.fieldName;var i=v(t);if(i){var o=d(t,r,n),s=x[i],l=s?s(o,r):void 0;if(l){var u=a.Base64.encode(o.id);if(l.setAttribute("data-field-id",u),l.setAttribute("data-name",t.fieldName),l.setAttribute("data-obj-id",t.id),t.hasAA&&l.setAttribute("data-has-aa","true"),t.comb){var c=t.rect[2]-t.rect[0],f=c/t.maxLen;l.classList.add("comb"),l.setAttribute("data-comb-width",f),l.setAttribute("maxlength",t.maxLen);
}A&&A(i,o.id,l);var h=p(o,r);switch(h.appendChild(l),i=y(l)){case k.CHECK_BOX:case k.RADIO_BUTTON:S[i][o.id]=S[i][o.id]||[],S[i][o.id].push(l);break;default:S[i][o.id]=S[i][o.id]||[],S[i][o.id].push(l)}e.appendChild(h)}}}}),i&&i()},function(e){i&&i(e)})}var m=!1,b=1,_="80%",A=!1,S={CHECK_BOX:{},TEXT:{},RADIO_BUTTON:{},DROP_DOWN:{}},k={UNSUPPORTED:!1,CHECK_BOX:"CHECK_BOX",DROP_DOWN:"DROP_DOWN",PUSH_BUTTON:"PUSH_BUTTON",RADIO_BUTTON:"RADIO_BUTTON",TEXT:"TEXT"},x={};return x[k.CHECK_BOX]=function(e,t){var r=document.createElement("input");return r.type="checkbox",r.value=e.options[1],r.style.padding="0",r.style.margin="0",r.style.marginLeft=e.width/2-Math.ceil(4*t.scale)+"px",e.selected&&(r.checked="checked"),e.readOnly&&(r.disabled="disabled"),r},x[k.RADIO_BUTTON]=function(e,t){var r=document.createElement("input");return r.type="radio",r.value=e.options[1],r.style.padding="0",r.style.margin="0",r.style.marginLeft=e.width/2-Math.ceil(4*t.scale)+"px",e.selected&&(r.checked="checked"),e.readOnly&&(r.disabled="disabled"),r},x[k.TEXT]=function(e,t){var r;return e.multiLine?(r=document.createElement("textarea"),r.style.resize="none"):(r=document.createElement("input"),e.fileUpload?r.type="file":e.password?r.type="password":r.type="text",r.type="text"),r.style.width=Math.floor(e.width-3)+"px",r.style.height=Math.floor(e.height)+"px",r.style.textAlign=e.textAlignment,e.multiLine?m?r.style.fontSize=Math.min(e.fontSizeControl,40)+"px":r.style.fontSize=Math.min(e.fontSize,40)+"px":m&&Math.floor(e.fontSizeControl)>=Math.floor(e.height-2)?r.style.fontSize=Math.floor(e.height-3)+"px":m?r.style.fontSize=e.fontSizeControl+"px":r.style.fontSize=e.fontSize+"px",r.style.padding="0",r.style.margin="0",r.style.display="block",e.maxlen&&(r.maxLength=e.maxlen),e.readOnly&&(r.readOnly=!0,r.style.cursor="not-allowed"),r.value=e.value,r},x[k.DROP_DOWN]=function(e,t){var r=document.createElement("select");if(e.multiSelect&&(r.multiple=!0),r.style.width=Math.floor(e.width-3)+"px",r.style.height=Math.floor(e.height)+"px",r.style.textAlign=e.textAlignment,Math.floor(e.fontSizeControl)>=Math.floor(e.height-2)?r.style.fontSize=Math.floor(e.height-3)+"px":r.style.fontSize=e.fontSizeControl+"px",r.style.border="1px solid #E6E6E6",r.style.display="block",e.options)for(var a in e.options){var i=document.createElement("option");i.value=e.options[a].value,i.innerHTML=e.options[a].text,"object"===n(e.value)?Array.isArray(e.value)&&(i.selected=e.value.indexOf(i.value)>-1||e.value.indexOf(i.innerHTML)>-1):e.value!==i.value&&e.value!==i.innerHTML||(i.selected=!0),r.appendChild(i)}return e.readOnly&&(r.disabled="disabled",r.style.cursor="not-allowed"),r},{setPostCreationTweak:function(e){A=e},getFormValues:function(t){function r(e,t,r){var n=r.getAttribute("type");if("checkbox"===n||"radio"===n){var a=t;a===!1&&"checkbox"===n&&(a="Off");var i=r.getAttribute("data-obj-id"),l=o[i];if(l!==a&&"undefined"!=typeof l){var u={code:"WIDGET_MULTIPLE_VALUES",objId:i,values:[l,a],message:"Multiple values for widget:"+i+". Values are: "+[l,a].join(", ")};s.push(u)}o[i]=a}}function n(e,t,n){var a=i[e];if(a!==t&&"undefined"!=typeof a&&a!==!1){var o={code:"FIELD_MULTIPLE_VALUES",fieldName:e,values:[a,t],message:"Multiple values for field:"+e+". Values are: "+[a,t].join(", ")};s.push(o)}i[e]=t,r(e,t,n)}function a(e,t){var r=Object.keys(e);r.forEach(function(r){var n=e[r];n&&t(r,n)})}t=t||function(e){return!0};var i={},o={},s=[];return a(S[k.CHECK_BOX],function(e,a){a.forEach(function(a){t(a)&&(a.checked?(a.value||""===a.value||(a.value=""),n(e,a.value,a)):("undefined"==typeof i[e]&&n(e,!1,a),r(e,!1,a)))})}),a(S[k.TEXT],function(e,r){r.forEach(function(r){t(r)&&n(e,r.value,r)})}),a(S[k.DROP_DOWN],function(r,a){a.forEach(function(a){if(t(a))if(e(a)){for(var i={},o=0;o<a.length;o++)a[o].selected&&(i[a[o].value]=a[o].value);n(r,i,a)}else{var s=a.options[a.selectedIndex];n(r,s?s.value:void 0,a)}})}),a(S[k.RADIO_BUTTON],function(e,r){r.forEach(function(r){t(r)&&r.checked&&n(e,r.value,r)})}),{values:i,widgets:o,errors:s}},render:function(e,r,a,i,o,s){if(b=1,"boolean"!=typeof o&&(o=!0),"object"!==n(s)&&(s={}),"number"!=typeof e&&"number"!=typeof r)throw new Error("at least one parameter must be specified as a number: width, height");var l=t(e,r,a,1),u=document.createElement("div");u.style.width=l.width+"px",u.style.height=l.height+"px",i.appendChild(u),i.style.position="relative";var c=document.createElement("canvas");c.style.position="absolute",c.style.top="0",c.style.left="0",u.appendChild(c),c.height=l.height,c.width=l.width;var f=c.getContext("2d"),h=window.devicePixelRatio||1,d=f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1,p=h/d;c.style.width=c.width+"px",c.style.height=c.height+"px",c.width=c.width*p,c.height=c.height*p;var v={canvasContext:f,viewport:t(e,r,a,p),intent:o?"display":"print"};if(a.render(v),o){var y=document.createElement("form");y.style.position="absolute",y.style.top="0",y.style.left="0",y.height=l.height,y.width=l.width,u.appendChild(y),g(y,a,l,s)}},renderForm:function(e,t,r,n,a){g(e,t,r,n,a)},returnFormElementsOnPage:function(e){var t=[];return e.getAnnotations().then(function(e){e.forEach(function(e){v(e)!==k.UNSUPPORTED&&t.push(e.fullName)})}),t}}}();t.FormFunctionality=i},function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=c();return function(){var r,n=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function d(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){function i(e){h(s,n,a,i,o,"next",e)}function o(e){h(s,n,a,i,o,"throw",e)}var s=e.apply(t,r);i(void 0)})}}function p(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function v(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e){var t=T.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?T.parse("file:///".concat(e)):(t.host||(t.protocol="file:"),t)}function A(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var S=a(r(156)),k=r(1),x=r(180),w=require("fs"),C=require("http"),P=require("https"),T=require("url"),O=/^file:\/\/\/[a-zA-Z]:\//,E=function(){function e(t){g(this,e),this.source=t,this.url=_(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return b(e,[{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"getFullReader",value:function(){return(0,k.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new D(this):new M(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var r=this.isFsUrl?new j(this,e,t):new I(this,e,t);return this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t,r=p(this._rangeRequestReaders.slice(0));try{for(r.s();!(t=r.n()).done;){var n=t.value;n.cancel(e)}}catch(e){r.e(e)}finally{r.f()}}}]),e}();t.PDFNodeStream=E;var F=function(){function e(t){g(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;var r=t.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=(0,k.createPromiseCapability)(),this._headersCapability=(0,k.createPromiseCapability)()}return b(e,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){function e(){return t.apply(this,arguments)}var t=d(S.default.mark(function e(){var t,r;return S.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(t=this._readableStream.read(),null!==t){e.next=10;break}return this._readCapability=(0,k.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),r=new Uint8Array(t).buffer,e.abrupt("return",{value:r,done:!1});case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancel",value:function(e){return this._readableStream?void this._readableStream.destroy(e):void this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",function(){t._readCapability.resolve()}),e.on("end",function(){e.destroy(),t._done=!0,t._readCapability.resolve()}),e.on("error",function(e){t._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new k.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),e}(),R=function(){function e(t){g(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,k.createPromiseCapability)();var r=t.source;this._isStreamingSupported=!r.disableStream}return b(e,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){function e(){return t.apply(this,arguments)}var t=d(S.default.mark(function e(){var t,r;return S.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(t=this._readableStream.read(),null!==t){e.next=10;break}return this._readCapability=(0,k.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),r=new Uint8Array(t).buffer,e.abrupt("return",{value:r,done:!1});case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancel",value:function(e){return this._readableStream?void this._readableStream.destroy(e):void this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",function(){t._readCapability.resolve()}),e.on("end",function(){e.destroy(),t._done=!0,t._readCapability.resolve()}),e.on("error",function(e){t._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),e}(),M=function(e){function t(e){var n;g(this,t),n=r.call(this,e);var a=function(t){if(404===t.statusCode){var r=new k.MissingPDFException('Missing PDF "'.concat(n._url,'".'));return n._storedError=r,void n._headersCapability.reject(r)}n._headersCapability.resolve(),n._setReadableStream(t);var a=function(e){return n._readableStream.headers[e.toLowerCase()]},i=(0,x.validateRangeRequestCapabilities)({getResponseHeader:a,isHttp:e.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),o=i.allowRangeRequests,s=i.suggestedLength;n._isRangeSupported=o,n._contentLength=s||n._contentLength,n._filename=(0,x.extractFilenameFromHeader)(a)};return n._request=null,"http:"===n._url.protocol?n._request=C.request(A(n._url,e.httpHeaders),a):n._request=P.request(A(n._url,e.httpHeaders),a),n._request.on("error",function(e){n._storedError=e,n._headersCapability.reject(e)}),n._request.end(),n}i(t,e);var r=s(t);return b(t)}(F),I=function(e){function t(e,n,a){var i;g(this,t),i=r.call(this,e),i._httpHeaders={};for(var o in e.httpHeaders){var s=e.httpHeaders[o];"undefined"!=typeof s&&(i._httpHeaders[o]=s)}i._httpHeaders.Range="bytes=".concat(n,"-").concat(a-1);var l=function(e){if(404===e.statusCode){var t=new k.MissingPDFException('Missing PDF "'.concat(i._url,'".'));return void(i._storedError=t)}i._setReadableStream(e)};return i._request=null,"http:"===i._url.protocol?i._request=C.request(A(i._url,i._httpHeaders),l):i._request=P.request(A(i._url,i._httpHeaders),l),i._request.on("error",function(e){i._storedError=e}),i._request.end(),i}i(t,e);var r=s(t);return b(t)}(R),D=function(e){function t(e){var n;g(this,t),n=r.call(this,e);var a=decodeURIComponent(n._url.path);return O.test(n._url.href)&&(a=a.replace(/^\//,"")),w.lstat(a,function(e,t){return e?("ENOENT"===e.code&&(e=new k.MissingPDFException('Missing PDF "'.concat(a,'".'))),n._storedError=e,void n._headersCapability.reject(e)):(n._contentLength=t.size,n._setReadableStream(w.createReadStream(a)),void n._headersCapability.resolve())}),n}i(t,e);var r=s(t);return b(t)}(F),j=function(e){function t(e,n,a){var i;g(this,t),i=r.call(this,e);var o=decodeURIComponent(i._url.path);return O.test(i._url.href)&&(o=o.replace(/^\//,"")),i._setReadableStream(w.createReadStream(o,{start:n,end:a-1})),i}i(t,e);var r=s(t);return b(t)}(R)},function(e,t,r){"use strict";function n(e){var t=e.getResponseHeader,r=e.isHttp,n=e.rangeChunkSize,a=e.disableRange,i={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(t("Content-Length"),10);if(!Number.isInteger(o))return i;if(i.suggestedLength=o,o<=2*n)return i;if(a||!r)return i;if("bytes"!==t("Accept-Ranges"))return i;var s=t("Content-Encoding")||"identity";return"identity"!==s?i:(i.allowRangeRequests=!0,i)}function a(e){var t=e("Content-Disposition");if(t){var r=(0,l.getFilenameFromContentDispositionHeader)(t);if(r.includes("%"))try{r=decodeURIComponent(r)}catch(e){}if((0,u.isPdfFile)(r))return r}return null}function i(e,t){return 404===e||0===e&&t.startsWith("file:")?new s.MissingPDFException('Missing PDF "'+t+'".'):new s.UnexpectedResponseException("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)}function o(e){return 200===e||206===e}Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=i,t.extractFilenameFromHeader=a,t.validateRangeRequestCapabilities=n,t.validateResponseStatus=o;var s=r(1),l=r(181),u=r(158)},function(e,t,r){"use strict";function n(e,t){return l(e)||s(e,t)||i(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}function l(e){if(Array.isArray(e))return e}function u(e){function t(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function r(e,t){if(e){if(!/^[\x00-\xFF]+$/.test(t))return t;try{var r=new TextDecoder(e,{fatal:!0}),n=(0,c.stringToBytes)(t);t=r.decode(n),u=!1}catch(e){}}return t}function a(e){return u&&/[\x80-\xff]/.test(e)&&(e=r("utf-8",e),u&&(e=r("iso-8859-1",e))),e}function i(e){for(var r,a=[],i=t("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(r=i.exec(e));){var l=r,u=n(l,4),c=u[1],f=u[2],h=u[3];if(c=parseInt(c,10),c in a){if(0===c)break}else a[c]=[f,h]}for(var d=[],p=0;p<a.length&&p in a;++p){var v=n(a[p],2),y=v[0],g=v[1];g=o(g),y&&(g=unescape(g),0===p&&(g=s(g))),d.push(g)}return d.join("")}function o(e){if(e.startsWith('"')){for(var t=e.slice(1).split('\\"'),r=0;r<t.length;++r){var n=t[r].indexOf('"');n!==-1&&(t[r]=t[r].slice(0,n),t.length=r+1),t[r]=t[r].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function s(e){var t=e.indexOf("'");if(t===-1)return e;var n=e.slice(0,t),a=e.slice(t+1),i=a.replace(/^[^']*'/,"");return r(n,i)}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,n,a){if("q"===n||"Q"===n)return a=a.replace(/_/g," "),a=a.replace(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}),r(t,a);try{a=atob(a)}catch(e){}return r(t,a)})}var u=!0,f=t("filename\\*","i").exec(e);if(f){f=f[1];var h=o(f);return h=unescape(h),h=s(h),h=l(h),a(h)}if(f=i(e)){var d=l(f);return a(d)}if(f=t("filename","i").exec(e)){f=f[1];var p=o(f);return p=l(p),a(p)}return""}Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=u;var c=r(1)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){function o(e){a(l,n,i,o,s,"next",e)}function s(e){a(l,n,i,o,s,"throw",e)}var l=e.apply(t,r);o(void 0)})}}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw i}}}}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=e.response;if("string"!=typeof t)return t;var r=(0,p.stringToBytes)(t);return r.buffer}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var d=n(r(156)),p=r(1),v=r(180),y=200,g=206,m=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,e),this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&r.httpHeaders||Object.create(null),this.withCredentials=r.withCredentials||!1,this.getXhr=r.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return f(e,[{key:"requestRange",value:function(e,t,r){var n={begin:e,end:t};for(var a in r)n[a]=r[a];return this.request(n)}},{key:"requestFull",value:function(e){return this.request(e)}},{key:"request",value:function(e){var t=this.getXhr(),r=this.currXhrId++,n=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(var a in this.httpHeaders){var i=this.httpHeaders[a];"undefined"!=typeof i&&t.setRequestHeader(a,i)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),n.expectedStatus=g):n.expectedStatus=y,t.responseType="arraybuffer",e.onError&&(t.onerror=function(r){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),n.onHeadersReceived=e.onHeadersReceived,n.onDone=e.onDone,n.onError=e.onError,n.onProgress=e.onProgress,t.send(null),r}},{key:"onProgress",value:function(e,t){var r,n=this.pendingRequests[e];n&&(null===(r=n.onProgress)||void 0===r?void 0:r.call(n,t))}},{key:"onStateChange",value:function(e,t){var r=this.pendingRequests[e];if(r){var n=r.xhr;if(n.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4===n.readyState&&e in this.pendingRequests){if(delete this.pendingRequests[e],0===n.status&&this.isHttp){var a;return void(null===(a=r.onError)||void 0===a?void 0:a.call(r,n.status))}var i=n.status||y,o=i===y&&r.expectedStatus===g;if(!o&&i!==r.expectedStatus){var s;return void(null===(s=r.onError)||void 0===s?void 0:s.call(r,n.status))}var l=h(n);if(i===g){var u=n.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);r.onDone({begin:parseInt(c[1],10),chunk:l})}else if(l)r.onDone({begin:0,chunk:l});else{var f;null===(f=r.onError)||void 0===f?void 0:f.call(r,n.status)}}}}},{key:"getRequestXhr",value:function(e){return this.pendingRequests[e].xhr}},{key:"isPendingRequest",value:function(e){return e in this.pendingRequests}},{key:"abortRequest",value:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}]),e}(),b=function(){function e(t){u(this,e),this._source=t,this._manager=new m(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return f(e,[{key:"_onRangeRequestReaderClosed",value:function(e){var t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}},{key:"getFullReader",value:function(){return(0,p.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var r=new A(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(e){var t;null===(t=this._fullRequestReader)||void 0===t?void 0:t.cancel(e);var r,n=o(this._rangeRequestReaders.slice(0));try{for(n.s();!(r=n.n()).done;){var a=r.value;a.cancel(e)}}catch(e){n.e(e)}finally{n.f()}}}]),e}();t.PDFNetworkStream=b;var _=function(){function e(t,r){u(this,e),this._manager=t;var n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url,this._fullRequestId=t.requestFull(n),this._headersReceivedCapability=(0,p.createPromiseCapability)(),this._disableRange=r.disableRange||!1,this._contentLength=r.length,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return f(e,[{key:"_onHeadersReceived",value:function(){var e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=function(e){return t.getResponseHeader(e)},n=(0,v.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),a=n.allowRangeRequests,i=n.suggestedLength;a&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=(0,v.extractFilenameFromHeader)(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(e){if(e)if(this._requests.length>0){var t=this._requests.shift();t.resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){var r,n=o(this._requests);try{for(n.s();!(r=n.n()).done;){var a=r.value;a.resolve({value:void 0,done:!0})}}catch(e){n.e(e)}finally{n.f()}this._requests.length=0}}},{key:"_onError",value:function(e){this._storedError=(0,v.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);var t,r=o(this._requests);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.reject(this._storedError)}}catch(e){r.e(e)}finally{r.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(e){var t;null===(t=this.onProgress)||void 0===t?void 0:t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:function(){function e(){return t.apply(this,arguments)}var t=i(d.default.mark(function e(){var t,r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._storedError){e.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){e.next=5;break}return t=this._cachedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 5:if(!this._done){e.next=7;break}return e.abrupt("return",{value:void 0,done:!0});case 7:return r=(0,p.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancel",value:function(e){this._done=!0,this._headersReceivedCapability.reject(e);var t,r=o(this._requests);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.resolve({value:void 0,done:!0})}}catch(e){r.e(e)}finally{r.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),e}(),A=function(){function e(t,r,n){u(this,e),this._manager=t;var a={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(r,n,a),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}return f(e,[{key:"_close",value:function(){var e;null===(e=this.onClosed)||void 0===e?void 0:e.call(this,this)}},{key:"_onDone",value:function(e){var t=e.chunk;if(this._requests.length>0){var r=this._requests.shift();r.resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;var n,a=o(this._requests);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.resolve({value:void 0,done:!0})}}catch(e){a.e(e)}finally{a.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(e){this._storedError=(0,v.createResponseStatusError)(e,this._url);var t,r=o(this._requests);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.reject(this._storedError)}}catch(e){r.e(e)}finally{r.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(e){if(!this.isStreamingSupported){var t;null===(t=this.onProgress)||void 0===t?void 0:t.call(this,{loaded:e.loaded})}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){function e(){return t.apply(this,arguments)}var t=i(d.default.mark(function e(){var t,r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._storedError){e.next=2;break}throw this._storedError;case 2:if(null===this._queuedChunk){e.next=6;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 6:if(!this._done){e.next=8;break}return e.abrupt("return",{value:void 0,done:!0});case 8:return r=(0,p.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancel",value:function(e){this._done=!0;var t,r=o(this._requests);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.resolve({value:void 0,done:!0})}}catch(e){r.e(e)}finally{r.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),e}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){function o(e){a(l,n,i,o,s,"next",e)}function s(e){a(l,n,i,o,s,"throw",e);
}var l=e.apply(t,r);o(void 0)})}}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw i}}}}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t,r){return{method:"GET",headers:e,signal:null===r||void 0===r?void 0:r.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function d(e){var t=new Headers;for(var r in e){var n=e[r];"undefined"!=typeof n&&t.append(r,n)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var p=n(r(156)),v=r(1),y=r(180),g=function(){function e(t){u(this,e),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return f(e,[{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"getFullReader",value:function(){return(0,v.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new m(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var r=new b(this,e,t);return this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t,r=o(this._rangeRequestReaders.slice(0));try{for(r.s();!(t=r.n()).done;){var n=t.value;n.cancel(e)}}catch(e){r.e(e)}finally{r.f()}}}]),e}();t.PDFFetchStream=g;var m=function(){function e(t){var r=this;u(this,e),this._stream=t,this._reader=null,this._loaded=0,this._filename=null;var n=t.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=(0,v.createPromiseCapability)(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._headers=d(this._stream.httpHeaders);var a=n.url;fetch(a,h(this._headers,this._withCredentials,this._abortController)).then(function(e){if(!(0,y.validateResponseStatus)(e.status))throw(0,y.createResponseStatusError)(e.status,a);r._reader=e.body.getReader(),r._headersCapability.resolve();var t=function(t){return e.headers.get(t)},n=(0,y.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:r._stream.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),i=n.allowRangeRequests,o=n.suggestedLength;r._isRangeSupported=i,r._contentLength=o||r._contentLength,r._filename=(0,y.extractFilenameFromHeader)(t),!r._isStreamingSupported&&r._isRangeSupported&&r.cancel(new v.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}return f(e,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){function e(){return t.apply(this,arguments)}var t=i(p.default.mark(function e(){var t,r,n,a;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,r=t.value,n=t.done,!n){e.next=9;break}return e.abrupt("return",{value:r,done:n});case 9:return this._loaded+=r.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),a=new Uint8Array(r).buffer,e.abrupt("return",{value:a,done:!1});case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}]),e}(),b=function(){function e(t,r,n){var a=this;u(this,e),this._stream=t,this._reader=null,this._loaded=0;var i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=(0,v.createPromiseCapability)(),this._isStreamingSupported=!i.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=d(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(r,"-").concat(n-1));var o=i.url;fetch(o,h(this._headers,this._withCredentials,this._abortController)).then(function(e){if(!(0,y.validateResponseStatus)(e.status))throw(0,y.createResponseStatusError)(e.status,o);a._readCapability.resolve(),a._reader=e.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}return f(e,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){function e(){return t.apply(this,arguments)}var t=i(p.default.mark(function e(){var t,r,n,a;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,r=t.value,n=t.done,!n){e.next=9;break}return e.abrupt("return",{value:r,done:n});case 9:return this._loaded+=r.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),a=new Uint8Array(r).buffer,e.abrupt("return",{value:a,done:!1});case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}]),e}()}],__webpack_module_cache__={};!function(){__w_pdfjs_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}();var __webpack_exports__={};return!function(){"use strict";var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return a.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"FormFunctionality",{enumerable:!0,get:function(){return c.FormFunctionality}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return i.GlobalWorkerOptions}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"LoopbackPort",{enumerable:!0,get:function(){return r.LoopbackPort}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return l.SVGGraphics}}),Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return t.UNSUPPORTED_FEATURES}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return u.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return t.createPromiseCapability}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),e.pdfjsBuild=void 0,Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return s.renderTextLayer}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return r.version}});var t=__w_pdfjs_require__(1),r=__w_pdfjs_require__(155),n=__w_pdfjs_require__(158),a=__w_pdfjs_require__(173),i=__w_pdfjs_require__(166),o=__w_pdfjs_require__(3),s=__w_pdfjs_require__(176),l=__w_pdfjs_require__(177),u=__w_pdfjs_require__(175),c=__w_pdfjs_require__(178);"undefined"==typeof globalThis&&(globalThis=global||self||window||void 0);var f="ecaa9f5e3";if(e.pdfjsBuild=f,o.isNodeJS){var h=__w_pdfjs_require__(179),d=h.PDFNodeStream;(0,r.setPDFNetworkStreamFactory)(function(e){return new d(e)})}else{var p=__w_pdfjs_require__(182),v=p.PDFNetworkStream,y=__w_pdfjs_require__(183),g=y.PDFFetchStream;(0,r.setPDFNetworkStreamFactory)(function(e){return(0,n.isValidFetchUrl)(e.url)?new g(e):new v(e)})}}(),__webpack_exports__}()});