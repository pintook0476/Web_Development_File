if(!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e,n){var i,r,o=(n=n||ht).createElement("script");if(o.text=t,e)for(i in ft)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function i(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?it[rt.call(t)]||"object":typeof t}function r(t){var e=!!t&&"length"in t&&t.length,n=i(t);return!ct(t)&&!ut(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function o(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function s(t,e,n){return ct(e)?pt.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?pt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?pt.grep(t,function(t){return-1<nt.call(e,t)!==n}):pt.filter(e,t,n)}function a(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t){return t}function c(t){throw t}function u(t,e,n,i){var r;try{t&&ct(r=t.promise)?r.call(t).done(e).fail(n):t&&ct(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}function h(){ht.removeEventListener("DOMContentLoaded",h),t.removeEventListener("load",h),pt.ready()}function f(t,e){return e.toUpperCase()}function d(t){return t.replace(At,"ms-").replace(Pt,f)}function p(){this.expando=pt.expando+p.uid++}function m(t,e,n){var i,r;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Nt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:jt.test(r)?JSON.parse(r):r)}catch(t){}Ot.set(t,e,n)}else n=void 0;return n}function g(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return pt.css(t,e,"")},l=a(),c=n&&n[3]||(pt.cssNumber[e]?"":"px"),u=t.nodeType&&(pt.cssNumber[e]||"px"!==c&&+l)&&Mt.exec(pt.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)pt.style(t,e,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;u*=2,pt.style(t,e,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}function v(t,e){for(var n,i,r,o,s,a,l,c=[],u=0,h=t.length;u<h;u++)(i=t[u]).style&&(n=i.style.display,e?("none"===n&&(c[u]=Dt.get(i,"display")||null,c[u]||(i.style.display="")),""===i.style.display&&zt(i)&&(c[u]=(l=s=o=void 0,s=(r=i).ownerDocument,a=r.nodeName,(l=Bt[a])||(o=s.body.appendChild(s.createElement(a)),l=pt.css(o,"display"),o.parentNode.removeChild(o),"none"===l&&(l="block"),Bt[a]=l)))):"none"!==n&&(c[u]="none",Dt.set(i,"display",n)));for(u=0;u<h;u++)null!=c[u]&&(t[u].style.display=c[u]);return t}function y(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&o(t,e)?pt.merge([t],n):n}function b(t,e){for(var n=0,i=t.length;n<i;n++)Dt.set(t[n],"globalEval",!e||Dt.get(e[n],"globalEval"))}function w(t,e,n,r,o){for(var s,a,l,c,u,h,f=e.createDocumentFragment(),d=[],p=0,m=t.length;p<m;p++)if((s=t[p])||0===s)if("object"===i(s))pt.merge(d,s.nodeType?[s]:s);else if(Vt.test(s)){for(a=a||f.appendChild(e.createElement("div")),l=(Xt.exec(s)||["",""])[1].toLowerCase(),c=Yt[l]||Yt._default,a.innerHTML=c[1]+pt.htmlPrefilter(s)+c[2],h=c[0];h--;)a=a.lastChild;pt.merge(d,a.childNodes),(a=f.firstChild).textContent=""}else d.push(e.createTextNode(s));for(f.textContent="",p=0;s=d[p++];)if(r&&-1<pt.inArray(s,r))o&&o.push(s);else if(u=Ht(s),a=y(f.appendChild(s),"script"),u&&b(a),n)for(h=0;s=a[h++];)Qt.test(s.type||"")&&n.push(s);return f}function x(){return!0}function _(){return!1}function C(t,e){return t===function(){try{return ht.activeElement}catch(t){}}()==("focus"===e)}function S(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)S(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=_;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return pt().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=pt.guid++)),t.each(function(){pt.event.add(this,e,r,i,n)})}function k(t,e,n){n?(Dt.set(t,e,!1),pt.event.add(t,e,{namespace:!1,handler:function(t){var i,r,o=Dt.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(pt.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=Z.call(arguments),Dt.set(this,e,o),i=n(this,e),this[e](),o!==(r=Dt.get(this,e))||i?Dt.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else o.length&&(Dt.set(this,e,{value:pt.event.trigger(pt.extend(o[0],pt.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Dt.get(t,e)&&pt.event.add(t,e,x)}function E(t,e){return o(t,"table")&&o(11!==e.nodeType?e:e.firstChild,"tr")&&pt(t).children("tbody")[0]||t}function T(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function A(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function P(t,e){var n,i,r,o,s,a;if(1===e.nodeType){if(Dt.hasData(t)&&(a=Dt.get(t).events))for(r in Dt.remove(e,"handle events"),a)for(n=0,i=a[r].length;n<i;n++)pt.event.add(e,r,a[r][n]);Ot.hasData(t)&&(o=Ot.access(t),s=pt.extend({},o),Ot.set(e,s))}}function I(t,e,i,r){e=tt(e);var o,s,a,l,c,u,h=0,f=t.length,d=f-1,p=e[0],m=ct(p);if(m||1<f&&"string"==typeof p&&!lt.checkClone&&te.test(p))return t.each(function(n){var o=t.eq(n);m&&(e[0]=p.call(this,n,o.html())),I(o,e,i,r)});if(f&&(s=(o=w(e,t[0].ownerDocument,!1,t,r)).firstChild,1===o.childNodes.length&&(o=s),s||r)){for(l=(a=pt.map(y(o,"script"),T)).length;h<f;h++)c=o,h!==d&&(c=pt.clone(c,!0,!0),l&&pt.merge(a,y(c,"script"))),i.call(t[h],c,h);if(l)for(u=a[a.length-1].ownerDocument,pt.map(a,A),h=0;h<l;h++)c=a[h],Qt.test(c.type||"")&&!Dt.access(c,"globalEval")&&pt.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?pt._evalUrl&&!c.noModule&&pt._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):n(c.textContent.replace(ee,""),c,u))}return t}function D(t,e,n){for(var i,r=e?pt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||pt.cleanData(y(i)),i.parentNode&&(n&&Ht(i)&&b(y(i,"script")),i.parentNode.removeChild(i));return t}function O(t,e,n){var i,r,o,s,a=t.style;return(n=n||ie(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||Ht(t)||(s=pt.style(t,e)),!lt.pixelBoxStyles()&&ne.test(s)&&oe.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function j(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function N(t){var e=pt.cssProps[t]||le[t];return e||(t in ae?t:le[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=se.length;n--;)if((t=se[n]+e)in ae)return t}(t)||t)}function R(t,e,n){var i=Mt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function M(t,e,n,i,r,o){var s="width"===e?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=pt.css(t,n+$t[s],!0,r)),i?("content"===n&&(l-=pt.css(t,"padding"+$t[s],!0,r)),"margin"!==n&&(l-=pt.css(t,"border"+$t[s]+"Width",!0,r))):(l+=pt.css(t,"padding"+$t[s],!0,r),"padding"!==n?l+=pt.css(t,"border"+$t[s]+"Width",!0,r):a+=pt.css(t,"border"+$t[s]+"Width",!0,r));return!i&&0<=o&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-a-.5))||0),l}function $(t,e,n){var i=ie(t),r=(!lt.boxSizingReliable()||n)&&"border-box"===pt.css(t,"boxSizing",!1,i),s=r,a=O(t,e,i),l="offset"+e[0].toUpperCase()+e.slice(1);if(ne.test(a)){if(!n)return a;a="auto"}return(!lt.boxSizingReliable()&&r||!lt.reliableTrDimensions()&&o(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===pt.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===pt.css(t,"boxSizing",!1,i),(s=l in t)&&(a=t[l])),(a=parseFloat(a)||0)+M(t,e,n||(r?"border":"content"),s,i,a)+"px"}function L(t,e,n,i,r){return new L.prototype.init(t,e,n,i,r)}function H(){pe&&(!1===ht.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(H):t.setTimeout(H,pt.fx.interval),pt.fx.tick())}function F(){return t.setTimeout(function(){de=void 0}),de=Date.now()}function z(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=$t[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function B(t,e,n){for(var i,r=(q.tweeners[e]||[]).concat(q.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function q(t,e,n){var i,r,o=0,s=q.prefilters.length,a=pt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=de||F(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(i);return a.notifyWith(t,[c,i,n]),i<1&&s?n:(s||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:pt.extend({},e),opts:pt.extend(!0,{specialEasing:{},easing:pt.easing._default},n),originalProperties:e,originalOptions:n,startTime:de||F(),duration:n.duration,tweens:[],createTween:function(e,n){var i=pt.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),u=c.props;for((!function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=d(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=pt.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(u,c.opts.specialEasing));o<s;o++)if(i=q.prefilters[o].call(c,t,u,c.opts))return ct(i.stop)&&(pt._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return pt.map(u,B,c),ct(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),pt.fx.timer(pt.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}function W(t){return(t.match(St)||[]).join(" ")}function U(t){return t.getAttribute&&t.getAttribute("class")||""}function X(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(St)||[]}function Q(t,e,n,r){var o;if(Array.isArray(e))pt.each(e,function(e,i){n||Pe.test(t)?r(t,i):Q(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==i(e))r(t,e);else for(o in e)Q(t+"["+o+"]",e[o],n,r)}function Y(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(St)||[];if(ct(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function V(t,e,n,i){function r(a){var l;return o[a]=!0,pt.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}var o={},s=t===Fe;return r(e.dataTypes[0])||!o["*"]&&r("*")}function K(t,e){var n,i,r=pt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&pt.extend(!0,t,i),t}var G=[],J=Object.getPrototypeOf,Z=G.slice,tt=G.flat?function(t){return G.flat.call(t)}:function(t){return G.concat.apply([],t)},et=G.push,nt=G.indexOf,it={},rt=it.toString,ot=it.hasOwnProperty,st=ot.toString,at=st.call(Object),lt={},ct=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},ut=function(t){return null!=t&&t===t.window},ht=t.document,ft={type:!0,src:!0,nonce:!0,noModule:!0},dt="3.5.1",pt=function(t,e){return new pt.fn.init(t,e)};pt.fn=pt.prototype={jquery:dt,constructor:pt,length:0,toArray:function(){return Z.call(this)},get:function(t){return null==t?Z.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return pt.each(this,t)},map:function(t){return this.pushStack(pt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(Z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(pt.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(pt.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:et,sort:G.sort,splice:G.splice},pt.extend=pt.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||ct(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(c&&i&&(pt.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[e],o=r&&!Array.isArray(n)?[]:r||pt.isPlainObject(n)?n:{},r=!1,s[e]=pt.extend(c,o,i)):void 0!==i&&(s[e]=i));return s},pt.extend({expando:"jQuery"+(dt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==rt.call(t)||(e=J(t))&&("function"!=typeof(n=ot.call(e,"constructor")&&e.constructor)||st.call(n)!==at))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,i){n(t,{nonce:e&&e.nonce},i)},each:function(t,e){var n,i=0;if(r(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(r(Object(t))?pt.merge(n,"string"==typeof t?[t]:t):et.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:nt.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,o,s=0,a=[];if(r(t))for(i=t.length;s<i;s++)null!=(o=e(t[s],s,n))&&a.push(o);else for(s in t)null!=(o=e(t[s],s,n))&&a.push(o);return tt(a)},guid:1,support:lt}),"function"==typeof Symbol&&(pt.fn[Symbol.iterator]=G[Symbol.iterator]),pt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){it["[object "+e+"]"]=e.toLowerCase()});var mt=function(t){function e(t,e,n,i){var r,o,s,a,l,c,u,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!i&&(I(e),e=e||D,j)){if(11!==p&&(l=vt.exec(t)))if(r=l[1]){if(9===p){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(f&&(s=f.getElementById(r))&&$(e,s)&&s.id===r)return n.push(s),n}else{if(l[2])return G.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&w.getElementsByClassName&&e.getElementsByClassName)return G.apply(n,e.getElementsByClassName(r)),n}if(w.qsa&&!U[t+" "]&&(!N||!N.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(u=t,f=e,1===p&&(ct.test(t)||lt.test(t))){for((f=yt.test(t)&&h(e.parentNode)||e)===e&&w.scope||((a=e.getAttribute("id"))?a=a.replace(xt,_t):e.setAttribute("id",a=L)),o=(c=S(t)).length;o--;)c[o]=(a?"#"+a:":scope")+" "+d(c[o]);u=c.join(",")}try{return G.apply(n,f.querySelectorAll(u)),n}catch(e){U(t,!0)}finally{a===L&&e.removeAttribute("id")}}}return E(t.replace(st,"$1"),e,n,i)}function n(){var t=[];return function e(n,i){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function i(t){return t[L]=!0,t}function r(t){var e=D.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&St(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function f(){}function d(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=z++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,l){var c,u,h,f=[F,a];if(l){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(u=(h=e[L]||(e[L]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=u[o])&&c[0]===F&&c[1]===a)return f[2]=c[2];if((u[o]=f)[2]=t(e,n,l))return!0}return!1}}function m(t){return 1<t.length?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),c&&e.push(a)));return s}function v(t,n,r,o,s,a){return o&&!o[L]&&(o=v(o)),s&&!s[L]&&(s=v(s,a)),i(function(i,a,l,c){var u,h,f,d=[],p=[],m=a.length,v=i||function(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}(n||"*",l.nodeType?[l]:l,[]),y=!t||!i&&n?v:g(v,d,t,l,c),b=r?s||(i?t:m||o)?[]:a:y;if(r&&r(y,b,l,c),o)for(u=g(b,p),o(u,[],l,c),h=u.length;h--;)(f=u[h])&&(b[p[h]]=!(y[p[h]]=f));if(i){if(s||t){if(s){for(u=[],h=b.length;h--;)(f=b[h])&&u.push(y[h]=f);s(null,b=[],u,c)}for(h=b.length;h--;)(f=b[h])&&-1<(u=s?Z(i,f):d[h])&&(i[u]=!(a[u]=f))}}else b=g(b===a?b.splice(m,b.length):b),s?s(null,a,b,c):G.apply(a,b)})}function y(t){for(var e,n,i,r=t.length,o=x.relative[t[0].type],s=o||x.relative[" "],a=o?1:0,l=p(function(t){return t===e},s,!0),c=p(function(t){return-1<Z(e,t)},s,!0),u=[function(t,n,i){var r=!o&&(i||n!==T)||((e=n).nodeType?l(t,n,i):c(t,n,i));return e=null,r}];a<r;a++)if(n=x.relative[t[a].type])u=[p(m(u),n)];else{if((n=x.filter[t[a].type].apply(null,t[a].matches))[L]){for(i=++a;i<r&&!x.relative[t[i].type];i++);return v(1<a&&m(u),1<a&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(st,"$1"),n,a<i&&y(t.slice(a,i)),i<r&&y(t=t.slice(i)),i<r&&d(t))}u.push(n)}return m(u)}var b,w,x,_,C,S,k,E,T,A,P,I,D,O,j,N,R,M,$,L="sizzle"+1*new Date,H=t.document,F=0,z=0,B=n(),q=n(),W=n(),U=n(),X=function(t,e){return t===e&&(P=!0),0},Q={}.hasOwnProperty,Y=[],V=Y.pop,K=Y.push,G=Y.push,J=Y.slice,Z=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",et="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\[\\da-fA-F]{1,6}"+et+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",it="\\["+et+"*("+nt+")(?:"+et+"*([*^$|!~]?=)"+et+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+et+"*\\]",rt=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",ot=new RegExp(et+"+","g"),st=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),at=new RegExp("^"+et+"*,"+et+"*"),lt=new RegExp("^"+et+"*([>+~]|"+et+")"+et+"*"),ct=new RegExp(et+"|>"),ut=new RegExp(rt),ht=new RegExp("^"+nt+"$"),ft={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},dt=/HTML$/i,pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=new RegExp("\\\\[\\da-fA-F]{1,6}"+et+"?|\\\\([^\\r\\n\\f])","g"),wt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},xt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,_t=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Ct=function(){I()},St=p(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{G.apply(Y=J.call(H.childNodes),H.childNodes),Y[H.childNodes.length].nodeType}catch(t){G={apply:Y.length?function(t,e){K.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(b in w=e.support={},C=e.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!dt.test(e||n&&n.nodeName||"HTML")},I=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:H;return i!=D&&9===i.nodeType&&i.documentElement&&(O=(D=i).documentElement,j=!C(D),H!=D&&(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),w.scope=r(function(t){return O.appendChild(t).appendChild(D.createElement("div")),"undefined"!=typeof t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(D.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=gt.test(D.getElementsByClassName),w.getById=r(function(t){return O.appendChild(t).id=L,!D.getElementsByName||!D.getElementsByName(L).length}),w.getById?(x.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){return t.getAttribute("id")===e}},x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&j){var n=e.getElementById(t);return n?[n]:[]}}):(x.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&j){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),x.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=w.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&j)return e.getElementsByClassName(t)},R=[],N=[],(w.qsa=gt.test(D.querySelectorAll))&&(r(function(t){var e;O.appendChild(t).innerHTML="<a id='"+L+"'></a><select id='"+L+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+et+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+et+"*(?:value|"+tt+")"),t.querySelectorAll("[id~="+L+"-]").length||N.push("~="),(e=D.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||N.push("\\["+et+"*name"+et+"*="+et+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+L+"+*").length||N.push(".#.+[+~]"),t.querySelectorAll("\\\f"),N.push("[\\r\\n\\f]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=D.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+et+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&N.push(":enabled",":disabled"),O.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(w.matchesSelector=gt.test(M=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(t){w.disconnectedMatch=M.call(t,"*"),M.call(t,"[s!='']:x"),R.push("!=",rt)}),N=N.length&&new RegExp(N.join("|")),R=R.length&&new RegExp(R.join("|")),e=gt.test(O.compareDocumentPosition),$=e||gt.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},X=e?function(t,e){if(t===e)return P=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!w.sortDetached&&e.compareDocumentPosition(t)===n?t==D||t.ownerDocument==H&&$(H,t)?-1:e==D||e.ownerDocument==H&&$(H,e)?1:A?Z(A,t)-Z(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return P=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t==D?-1:e==D?1:r?-1:o?1:A?Z(A,t)-Z(A,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]==H?-1:l[i]==H?1:0}),D},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if(I(t),w.matchesSelector&&j&&!U[n+" "]&&(!R||!R.test(n))&&(!N||!N.test(n)))try{var i=M.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){U(n,!0)}return 0<e(n,D,null,[t]).length},e.contains=function(t,e){return(t.ownerDocument||t)!=D&&I(t),$(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!=D&&I(t);var n=x.attrHandle[e.toLowerCase()],i=n&&Q.call(x.attrHandle,e.toLowerCase())?n(t,e,!j):void 0;return void 0!==i?i:w.attributes||!j?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(xt,_t)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(P=!w.detectDuplicates,A=!w.sortStable&&t.slice(0),t.sort(X),P){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},_=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=_(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=_(e);return n},(x=e.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ut.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=B[t+" "];return e||(e=new RegExp("(^|"+et+")"+t+"("+et+"|$)"))&&B(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&-1<o.indexOf(i):"$="===n?i&&o.slice(-i.length)===i:"~="===n?-1<(" "+o.replace(ot," ")+" ").indexOf(i):"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,f,d,p,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(g){if(o){for(;m;){for(f=e;f=f[m];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(b=(d=(c=(u=(h=(f=g)[L]||(f[L]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===F&&c[1])&&c[2],f=d&&g.childNodes[d];f=++d&&f&&f[m]||(b=d=0)||p.pop();)if(1===f.nodeType&&++b&&f===e){u[t]=[F,d,b];break}}else if(y&&(b=d=(c=(u=(h=(f=e)[L]||(f[L]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===F&&c[1]),!1===b)for(;(f=++d&&f&&f[m]||(b=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((u=(h=f[L]||(f[L]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[F,b]),f!==e)););return(b-=r)===i||b%i==0&&0<=b/i}}},PSEUDO:function(t,n){var r,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[L]?o(n):1<o.length?(r=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)t[i=Z(t,r[s])]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=k(t.replace(st,"$1"));return r[L]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return 0<e(t,n).length}}),contains:i(function(t){return t=t.replace(bt,wt),function(e){return-1<(e.textContent||_(e)).indexOf(t)}}),lang:i(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,wt).toLowerCase(),function(e){var n;do if(n=j?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[n<0?n+e:n]}),even:u(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=n<0?n+e:e<n?e:n;0<=--i;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})x.pseudos[b]=l(b);return f.prototype=x.filters=x.pseudos,x.setFilters=new f,S=e.tokenize=function(t,n){var i,r,o,s,a,l,c,u=q[t+" "];if(u)return n?0:u.slice(0);for(a=t,l=[],c=x.preFilter;a;){for(s in i&&!(r=at.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=lt.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(st," ")}),a=a.slice(i.length)),x.filter)!(r=ft[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):q(t,l).slice(0)},k=e.compile=function(t,n){var r,o,s,a,l,c,u=[],h=[],f=W[t+" "];
if(!f){for(n||(n=S(t)),r=n.length;r--;)(f=y(n[r]))[L]?u.push(f):h.push(f);(f=W(t,(o=h,a=0<(s=u).length,l=0<o.length,c=function(t,n,i,r,c){var u,h,f,d=0,p="0",m=t&&[],v=[],y=T,b=t||l&&x.find.TAG("*",c),w=F+=null==y?1:Math.random()||.1,_=b.length;for(c&&(T=n==D||n||c);p!==_&&null!=(u=b[p]);p++){if(l&&u){for(h=0,n||u.ownerDocument==D||(I(u),i=!j);f=o[h++];)if(f(u,n||D,i)){r.push(u);break}c&&(F=w)}a&&((u=!f&&u)&&d--,t&&m.push(u))}if(d+=p,a&&p!==d){for(h=0;f=s[h++];)f(m,v,n,i);if(t){if(0<d)for(;p--;)m[p]||v[p]||(v[p]=V.call(r));v=g(v)}G.apply(r,v),c&&!t&&0<v.length&&1<d+s.length&&e.uniqueSort(r)}return c&&(F=w,T=y),m},a?i(c):c))).selector=t}return f},E=e.select=function(t,e,n,i){var r,o,s,a,l,c="function"==typeof t&&t,u=!i&&S(t=c.selector||t);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(s=o[0]).type&&9===e.nodeType&&j&&x.relative[o[1].type]){if(!(e=(x.find.ID(s.matches[0].replace(bt,wt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((l=x.find[a])&&(i=l(s.matches[0].replace(bt,wt),yt.test(o[0].type)&&h(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&d(o)))return G.apply(n,i),n;break}}return(c||k(t,u))(i,e,!j,n,!e||yt.test(t)&&h(e.parentNode)||e),n},w.sortStable=L.split("").sort(X).join("")===L,w.detectDuplicates=!!P,I(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(D.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(tt,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);pt.find=mt,pt.expr=mt.selectors,pt.expr[":"]=pt.expr.pseudos,pt.uniqueSort=pt.unique=mt.uniqueSort,pt.text=mt.getText,pt.isXMLDoc=mt.isXML,pt.contains=mt.contains,pt.escapeSelector=mt.escape;var gt=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&pt(t).is(n))break;i.push(t)}return i},vt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},yt=pt.expr.match.needsContext,bt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;pt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?pt.find.matchesSelector(i,t)?[i]:[]:pt.find.matches(t,pt.grep(e,function(t){return 1===t.nodeType}))},pt.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(pt(t).filter(function(){for(e=0;e<i;e++)if(pt.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)pt.find(t,r[e],n);return 1<i?pt.uniqueSort(n):n},filter:function(t){return this.pushStack(s(this,t||[],!1))},not:function(t){return this.pushStack(s(this,t||[],!0))},is:function(t){return!!s(this,"string"==typeof t&&yt.test(t)?pt(t):t||[],!1).length}});var wt,xt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(pt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||wt,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:xt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:ht,!0)),bt.test(i[1])&&pt.isPlainObject(e))for(i in e)ct(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=ht.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):ct(t)?void 0!==n.ready?n.ready(t):t(pt):pt.makeArray(t,this)}).prototype=pt.fn,wt=pt(ht);var _t=/^(?:parents|prev(?:Until|All))/,Ct={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({has:function(t){var e=pt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(pt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&pt(t);if(!yt.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&pt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?pt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?nt.call(pt(t),this[0]):nt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(pt.uniqueSort(pt.merge(this.get(),pt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return gt(t,"parentNode")},parentsUntil:function(t,e,n){return gt(t,"parentNode",n)},next:function(t){return a(t,"nextSibling")},prev:function(t){return a(t,"previousSibling")},nextAll:function(t){return gt(t,"nextSibling")},prevAll:function(t){return gt(t,"previousSibling")},nextUntil:function(t,e,n){return gt(t,"nextSibling",n)},prevUntil:function(t,e,n){return gt(t,"previousSibling",n)},siblings:function(t){return vt((t.parentNode||{}).firstChild,t)},children:function(t){return vt(t.firstChild)},contents:function(t){return null!=t.contentDocument&&J(t.contentDocument)?t.contentDocument:(o(t,"template")&&(t=t.content||t),pt.merge([],t.childNodes))}},function(t,e){pt.fn[t]=function(n,i){var r=pt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=pt.filter(i,r)),1<this.length&&(Ct[t]||pt.uniqueSort(r),_t.test(t)&&r.reverse()),this.pushStack(r)}});var St=/[^\x20\t\r\n\f]+/g;pt.Callbacks=function(t){var e,n;t="string"==typeof t?(e=t,n={},pt.each(e.match(St)||[],function(t,e){n[e]=!0}),n):pt.extend({},t);var r,o,s,a,l=[],c=[],u=-1,h=function(){for(a=a||t.once,s=r=!0;c.length;u=-1)for(o=c.shift();++u<l.length;)!1===l[u].apply(o[0],o[1])&&t.stopOnFalse&&(u=l.length,o=!1);t.memory||(o=!1),r=!1,a&&(l=o?[]:"")},f={add:function(){return l&&(o&&!r&&(u=l.length-1,c.push(o)),function e(n){pt.each(n,function(n,r){ct(r)?t.unique&&f.has(r)||l.push(r):r&&r.length&&"string"!==i(r)&&e(r)})}(arguments),o&&!r&&h()),this},remove:function(){return pt.each(arguments,function(t,e){for(var n;-1<(n=pt.inArray(e,l,n));)l.splice(n,1),n<=u&&u--}),this},has:function(t){return t?-1<pt.inArray(t,l):0<l.length},empty:function(){return l&&(l=[]),this},disable:function(){return a=c=[],l=o="",this},disabled:function(){return!l},lock:function(){return a=c=[],o||r||(l=o=""),this},locked:function(){return!!a},fireWith:function(t,e){return a||(e=[t,(e=e||[]).slice?e.slice():e],c.push(e),r||h()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!s}};return f},pt.extend({Deferred:function(e){var n=[["notify","progress",pt.Callbacks("memory"),pt.Callbacks("memory"),2],["resolve","done",pt.Callbacks("once memory"),pt.Callbacks("once memory"),0,"resolved"],["reject","fail",pt.Callbacks("once memory"),pt.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return pt.Deferred(function(e){pt.each(n,function(n,i){var r=ct(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&ct(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,i,r){function o(e,n,i,r){return function(){var a=this,u=arguments,h=function(){var t,h;if(!(e<s)){if((t=i.apply(a,u))===n.promise())throw new TypeError("Thenable self-resolution");h=t&&("object"==typeof t||"function"==typeof t)&&t.then,ct(h)?r?h.call(t,o(s,n,l,r),o(s,n,c,r)):(s++,h.call(t,o(s,n,l,r),o(s,n,c,r),o(s,n,l,n.notifyWith))):(i!==l&&(a=void 0,u=[t]),(r||n.resolveWith)(a,u))}},f=r?h:function(){try{h()}catch(t){pt.Deferred.exceptionHook&&pt.Deferred.exceptionHook(t,f.stackTrace),s<=e+1&&(i!==c&&(a=void 0,u=[t]),n.rejectWith(a,u))}};e?f():(pt.Deferred.getStackHook&&(f.stackTrace=pt.Deferred.getStackHook()),t.setTimeout(f))}}var s=0;return pt.Deferred(function(t){n[0][3].add(o(0,t,ct(r)?r:l,t.notifyWith)),n[1][3].add(o(0,t,ct(e)?e:l)),n[2][3].add(o(0,t,ct(i)?i:c))}).promise()},promise:function(t){return null!=t?pt.extend(t,r):r}},o={};return pt.each(n,function(t,e){var s=e[2],a=e[5];r[e[1]]=s.add,a&&s.add(function(){i=a},n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=Z.call(arguments),o=pt.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=1<arguments.length?Z.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(u(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||ct(r[n]&&r[n].then)))return o.then();for(;n--;)u(r[n],s(n),o.reject);return o.promise()}});var kt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;pt.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&kt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},pt.readyException=function(e){t.setTimeout(function(){throw e})};var Et=pt.Deferred();pt.fn.ready=function(t){return Et.then(t).catch(function(t){pt.readyException(t)}),this},pt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--pt.readyWait:pt.isReady)||(pt.isReady=!0)!==t&&0<--pt.readyWait||Et.resolveWith(ht,[pt])}}),pt.ready.then=Et.then,"complete"===ht.readyState||"loading"!==ht.readyState&&!ht.documentElement.doScroll?t.setTimeout(pt.ready):(ht.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h));var Tt=function(t,e,n,r,o,s,a){var l=0,c=t.length,u=null==n;if("object"===i(n))for(l in o=!0,n)Tt(t,e,l,n[l],!0,s,a);else if(void 0!==r&&(o=!0,ct(r)||(a=!0),u&&(a?(e.call(t,r),e=null):(u=e,e=function(t,e,n){return u.call(pt(t),n)})),e))for(;l<c;l++)e(t[l],n,a?r:r.call(t[l],l,e(t[l],n)));return o?t:u?e.call(t):c?e(t[0],n):s},At=/^-ms-/,Pt=/-([a-z])/g,It=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};p.uid=1,p.prototype={cache:function(t){var e=t[this.expando];return e||(e={},It(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[d(e)]=n;else for(i in e)r[d(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][d(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(d):(e=d(e))in i?[e]:e.match(St)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||pt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!pt.isEmptyObject(e)}};var Dt=new p,Ot=new p,jt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nt=/[A-Z]/g;pt.extend({hasData:function(t){return Ot.hasData(t)||Dt.hasData(t)},data:function(t,e,n){return Ot.access(t,e,n)},removeData:function(t,e){Ot.remove(t,e)},_data:function(t,e,n){return Dt.access(t,e,n)},_removeData:function(t,e){Dt.remove(t,e)}}),pt.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Ot.get(o),1===o.nodeType&&!Dt.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=d(i.slice(5)),m(o,i,r[i]));Dt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Ot.set(this,t)}):Tt(this,function(e){var n;return o&&void 0===e?void 0!==(n=Ot.get(o,t))?n:void 0!==(n=m(o,t))?n:void 0:void this.each(function(){Ot.set(this,t,e)})},null,e,1<arguments.length,null,!0)},removeData:function(t){return this.each(function(){Ot.remove(this,t)})}}),pt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Dt.get(t,e),n&&(!i||Array.isArray(n)?i=Dt.access(t,e,pt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=pt.queue(t,e),i=n.length,r=n.shift(),o=pt._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){pt.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Dt.get(t,n)||Dt.access(t,n,{empty:pt.Callbacks("once memory").add(function(){Dt.remove(t,[e+"queue",n])})})}}),pt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?pt.queue(this[0],t):void 0===e?this:this.each(function(){var n=pt.queue(this,t,e);pt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&pt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=pt.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Dt.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var Rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mt=new RegExp("^(?:([+-])=|)("+Rt+")([a-z%]*)$","i"),$t=["Top","Right","Bottom","Left"],Lt=ht.documentElement,Ht=function(t){return pt.contains(t.ownerDocument,t)},Ft={composed:!0};Lt.getRootNode&&(Ht=function(t){return pt.contains(t.ownerDocument,t)||t.getRootNode(Ft)===t.ownerDocument});var zt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&Ht(t)&&"none"===pt.css(t,"display")},Bt={};pt.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){zt(this)?pt(this).show():pt(this).hide()})}});var qt,Wt,Ut=/^(?:checkbox|radio)$/i,Xt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Qt=/^$|^module$|\/(?:java|ecma)script/i;qt=ht.createDocumentFragment().appendChild(ht.createElement("div")),(Wt=ht.createElement("input")).setAttribute("type","radio"),Wt.setAttribute("checked","checked"),Wt.setAttribute("name","t"),qt.appendChild(Wt),lt.checkClone=qt.cloneNode(!0).cloneNode(!0).lastChild.checked,qt.innerHTML="<textarea>x</textarea>",lt.noCloneChecked=!!qt.cloneNode(!0).lastChild.defaultValue,qt.innerHTML="<option></option>",lt.option=!!qt.lastChild;var Yt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td,lt.option||(Yt.optgroup=Yt.option=[1,"<select multiple='multiple'>","</select>"]);var Vt=/<|&#?\w+;/,Kt=/^key/,Gt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Jt=/^([^.]*)(?:\.(.+)|)/;pt.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,c,u,h,f,d,p,m,g=Dt.get(t);if(It(t))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&pt.find.matchesSelector(Lt,r),n.guid||(n.guid=pt.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(e){return"undefined"!=typeof pt&&pt.event.triggered!==e.type?pt.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(St)||[""]).length;c--;)d=m=(a=Jt.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),d&&(h=pt.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=pt.event.special[d]||{},u=pt.extend({type:d,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&pt.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=l[d])||((f=l[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,p,s)||t.addEventListener&&t.addEventListener(d,s)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,u):f.push(u),pt.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,c,u,h,f,d,p,m,g=Dt.hasData(t)&&Dt.get(t);if(g&&(l=g.events)){for(c=(e=(e||"").match(St)||[""]).length;c--;)if(d=m=(a=Jt.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),d){for(h=pt.event.special[d]||{},f=l[d=(i?h.delegateType:h.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)u=f[o],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,h.remove&&h.remove.call(t,u));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,p,g.handle)||pt.removeEvent(t,d,g.handle),delete l[d])}else for(d in l)pt.event.remove(t,d+e[c],n,i,!0);pt.isEmptyObject(l)&&Dt.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=new Array(arguments.length),l=pt.event.fix(t),c=(Dt.get(this,"events")||Object.create(null))[l.type]||[],u=pt.event.special[l.type]||{};for(a[0]=l,e=1;e<arguments.length;e++)a[e]=arguments[e];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=pt.event.handlers.call(this,l,c),e=0;(r=s[e++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(i=((pt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,i,r,o,s,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&1<=t.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?-1<pt(r,this).index(c):pt.find(r,this,null,[c]).length),s[r]&&o.push(i);o.length&&a.push({elem:c,handlers:o})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(pt.Event.prototype,t,{enumerable:!0,configurable:!0,get:ct(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[pt.expando]?t:new pt.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return Ut.test(e.type)&&e.click&&o(e,"input")&&k(e,"click",x),!1},trigger:function(t){var e=this||t;return Ut.test(e.type)&&e.click&&o(e,"input")&&k(e,"click"),!0},_default:function(t){var e=t.target;return Ut.test(e.type)&&e.click&&o(e,"input")&&Dt.get(e,"click")||o(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},pt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},pt.Event=function(t,e){return this instanceof pt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?x:_,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[pt.expando]=!0,void 0):new pt.Event(t,e)},pt.Event.prototype={constructor:pt.Event,isDefaultPrevented:_,isPropagationStopped:_,isImmediatePropagationStopped:_,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=x,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=x,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=x,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},pt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Kt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Gt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},pt.event.addProp),pt.each({focus:"focusin",blur:"focusout"},function(t,e){pt.event.special[t]={setup:function(){return k(this,t,C),!1},trigger:function(){return k(this,t),!0},delegateType:e}}),pt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){pt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||pt.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),pt.fn.extend({on:function(t,e,n,i){return S(this,t,e,n,i)},one:function(t,e,n,i){return S(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,pt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=_),this.each(function(){pt.event.remove(this,t,n,e)})}});var Zt=/<script|<style|<link/i,te=/checked\s*(?:[^=]|=\s*.checked.)/i,ee=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;pt.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,o,s,a,l,c,u=t.cloneNode(!0),h=Ht(t);if(!(lt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(s=y(u),i=0,r=(o=y(t)).length;i<r;i++)a=o[i],l=s[i],"input"===(c=l.nodeName.toLowerCase())&&Ut.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(e)if(n)for(o=o||y(t),s=s||y(u),i=0,r=o.length;i<r;i++)P(o[i],s[i]);else P(t,u);return 0<(s=y(u,"script")).length&&b(s,!h&&y(t,"script")),u},cleanData:function(t){for(var e,n,i,r=pt.event.special,o=0;void 0!==(n=t[o]);o++)if(It(n)){if(e=n[Dt.expando]){if(e.events)for(i in e.events)r[i]?pt.event.remove(n,i):pt.removeEvent(n,i,e.handle);n[Dt.expando]=void 0}n[Ot.expando]&&(n[Ot.expando]=void 0)}}}),pt.fn.extend({detach:function(t){return D(this,t,!0)},remove:function(t){return D(this,t)},text:function(t){return Tt(this,function(t){return void 0===t?pt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return I(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||E(this,t).appendChild(t)})},prepend:function(){return I(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=E(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return I(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return I(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(pt.cleanData(y(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return Tt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Zt.test(t)&&!Yt[(Xt.exec(t)||["",""])[1].toLowerCase()]){t=pt.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(pt.cleanData(y(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return I(this,arguments,function(e){var n=this.parentNode;pt.inArray(this,t)<0&&(pt.cleanData(y(this)),n&&n.replaceChild(e,this))},t)}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){pt.fn[t]=function(t){for(var n,i=[],r=pt(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),pt(r[s])[e](n),et.apply(i,n.get());return this.pushStack(i)}});var ne=new RegExp("^("+Rt+")(?!px)[a-z%]+$","i"),ie=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},re=function(t,e,n){var i,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=o[r];return i},oe=new RegExp($t.join("|"),"i");!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Lt.appendChild(c).appendChild(u);var e=t.getComputedStyle(u);i="1%"!==e.top,l=12===n(e.marginLeft),u.style.right="60%",s=36===n(e.right),r=36===n(e.width),u.style.position="absolute",o=12===n(u.offsetWidth/3),Lt.removeChild(c),u=null}}function n(t){return Math.round(parseFloat(t))}var i,r,o,s,a,l,c=ht.createElement("div"),u=ht.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",lt.clearCloneStyle="content-box"===u.style.backgroundClip,pt.extend(lt,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,n,i,r;return null==a&&(e=ht.createElement("table"),n=ht.createElement("tr"),i=ht.createElement("div"),e.style.cssText="position:absolute;left:-11111px",n.style.height="1px",i.style.height="9px",Lt.appendChild(e).appendChild(n).appendChild(i),r=t.getComputedStyle(n),a=3<parseInt(r.height),Lt.removeChild(e)),a}}))}();var se=["Webkit","Moz","ms"],ae=ht.createElement("div").style,le={},ce=/^(none|table(?!-c[ea]).+)/,ue=/^--/,he={position:"absolute",visibility:"hidden",display:"block"},fe={letterSpacing:"0",fontWeight:"400"};pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=O(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=d(e),l=ue.test(e),c=t.style;if(l||(e=N(a)),s=pt.cssHooks[e]||pt.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:c[e];"string"==(o=typeof n)&&(r=Mt.exec(n))&&r[1]&&(n=g(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(pt.cssNumber[a]?"":"px")),lt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var r,o,s,a=d(e);return ue.test(e)||(e=N(a)),(s=pt.cssHooks[e]||pt.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=O(t,e,i)),"normal"===r&&e in fe&&(r=fe[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),pt.each(["height","width"],function(t,e){pt.cssHooks[e]={get:function(t,n,i){if(n)return!ce.test(pt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?$(t,e,i):re(t,he,function(){return $(t,e,i)})},set:function(t,n,i){var r,o=ie(t),s=!lt.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===pt.css(t,"boxSizing",!1,o),l=i?M(t,e,i,a,o):0;return a&&s&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-M(t,e,"border",!1,o)-.5)),l&&(r=Mt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=pt.css(t,e)),R(0,n,l)}}}),pt.cssHooks.marginLeft=j(lt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(O(t,"marginLeft"))||t.getBoundingClientRect().left-re(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),pt.each({margin:"",padding:"",border:"Width"},function(t,e){pt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+$t[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(pt.cssHooks[t+e].set=R)}),pt.fn.extend({css:function(t,e){return Tt(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=ie(t),r=e.length;s<r;s++)o[e[s]]=pt.css(t,e[s],!1,i);return o}return void 0!==n?pt.style(t,e,n):pt.css(t,e)},t,e,1<arguments.length)}}),((pt.Tween=L).prototype={constructor:L,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||pt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(pt.cssNumber[n]?"":"px")},cur:function(){var t=L.propHooks[this.prop];return t&&t.get?t.get(this):L.propHooks._default.get(this)},run:function(t){var e,n=L.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):L.propHooks._default.set(this),this}}).init.prototype=L.prototype,(L.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=pt.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):1!==t.elem.nodeType||!pt.cssHooks[t.prop]&&null==t.elem.style[N(t.prop)]?t.elem[t.prop]=t.now:pt.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=L.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},pt.fx=L.prototype.init,pt.fx.step={};var de,pe,me,ge,ve=/^(?:toggle|show|hide)$/,ye=/queueHooks$/;pt.Animation=pt.extend(q,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return g(n.elem,t,Mt.exec(e),n),n}]},tweener:function(t,e){ct(t)?(e=t,t=["*"]):t=t.match(St);for(var n,i=0,r=t.length;i<r;i++)n=t[i],q.tweeners[n]=q.tweeners[n]||[],q.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,l,c,u,h="width"in e||"height"in e,f=this,d={},p=t.style,m=t.nodeType&&zt(t),g=Dt.get(t,"fxshow");for(i in n.queue||(null==(s=pt._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,pt.queue(t,"fx").length||s.empty.fire()})})),e)if(r=e[i],ve.test(r)){if(delete e[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}d[i]=g&&g[i]||pt.style(t,i)}if((l=!pt.isEmptyObject(e))||!pt.isEmptyObject(d))for(i in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=Dt.get(t,"display")),"none"===(u=pt.css(t,"display"))&&(c?u=c:(v([t],!0),c=t.style.display||c,u=pt.css(t,"display"),v([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===pt.css(t,"float")&&(l||(f.done(function(){p.display=c}),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,d)l||(g?"hidden"in g&&(m=g.hidden):g=Dt.access(t,"fxshow",{display:c}),o&&(g.hidden=!m),m&&v([t],!0),f.done(function(){for(i in m||v([t]),Dt.remove(t,"fxshow"),d)pt.style(t,i,d[i])})),l=B(m?g[i]:0,i,f),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?q.prefilters.unshift(t):q.prefilters.push(t)}}),pt.speed=function(t,e,n){var i=t&&"object"==typeof t?pt.extend({},t):{complete:n||!n&&e||ct(t)&&t,duration:t,easing:n&&e||e&&!ct(e)&&e};return pt.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in pt.fx.speeds?i.duration=pt.fx.speeds[i.duration]:i.duration=pt.fx.speeds._default),
null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ct(i.old)&&i.old.call(this),i.queue&&pt.dequeue(this,i.queue)},i},pt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(zt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=pt.isEmptyObject(t),o=pt.speed(e,n,i),s=function(){var e=q(this,pt.extend({},t),o);(r||Dt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=pt.timers,s=Dt.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ye.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||pt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Dt.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=pt.timers,s=i?i.length:0;for(n.finish=!0,pt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),pt.each(["toggle","show","hide"],function(t,e){var n=pt.fn[e];pt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(z(e,!0),t,i,r)}}),pt.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){pt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),pt.timers=[],pt.fx.tick=function(){var t,e=0,n=pt.timers;for(de=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||pt.fx.stop(),de=void 0},pt.fx.timer=function(t){pt.timers.push(t),pt.fx.start()},pt.fx.interval=13,pt.fx.start=function(){pe||(pe=!0,H())},pt.fx.stop=function(){pe=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fn.delay=function(e,n){return e=pt.fx&&pt.fx.speeds[e]||e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},me=ht.createElement("input"),ge=ht.createElement("select").appendChild(ht.createElement("option")),me.type="checkbox",lt.checkOn=""!==me.value,lt.optSelected=ge.selected,(me=ht.createElement("input")).value="t",me.type="radio",lt.radioValue="t"===me.value;var be,we=pt.expr.attrHandle;pt.fn.extend({attr:function(t,e){return Tt(this,pt.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})}}),pt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?pt.prop(t,e,n):(1===o&&pt.isXMLDoc(t)||(r=pt.attrHooks[e.toLowerCase()]||(pt.expr.match.bool.test(e)?be:void 0)),void 0!==n?null===n?void pt.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=pt.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!lt.radioValue&&"radio"===e&&o(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(St);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),be={set:function(t,e,n){return!1===e?pt.removeAttr(t,n):t.setAttribute(n,n),n}},pt.each(pt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=we[e]||pt.find.attr;we[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=we[s],we[s]=r,r=null!=n(t,e,i)?s:null,we[s]=o),r}});var xe=/^(?:input|select|textarea|button)$/i,_e=/^(?:a|area)$/i;pt.fn.extend({prop:function(t,e){return Tt(this,pt.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[pt.propFix[t]||t]})}}),pt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&pt.isXMLDoc(t)||(e=pt.propFix[e]||e,r=pt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=pt.find.attr(t,"tabindex");return e?parseInt(e,10):xe.test(t.nodeName)||_e.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),lt.optSelected||(pt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pt.propFix[this.toLowerCase()]=this}),pt.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(ct(t))return this.each(function(e){pt(this).addClass(t.call(this,e,U(this)))});if((e=X(t)).length)for(;n=this[l++];)if(r=U(n),i=1===n.nodeType&&" "+W(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=W(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(ct(t))return this.each(function(e){pt(this).removeClass(t.call(this,e,U(this)))});if(!arguments.length)return this.attr("class","");if((e=X(t)).length)for(;n=this[l++];)if(r=U(n),i=1===n.nodeType&&" "+W(r)+" "){for(s=0;o=e[s++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(a=W(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):ct(t)?this.each(function(n){pt(this).toggleClass(t.call(this,n,U(this),e),e)}):this.each(function(){var e,r,o,s;if(i)for(r=0,o=pt(this),s=X(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=U(this))&&Dt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Dt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+W(U(n))+" ").indexOf(e))return!0;return!1}});var Ce=/\r/g;pt.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=ct(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,pt(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=pt.map(r,function(t){return null==t?"":t+""})),(e=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=pt.valHooks[r.type]||pt.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(Ce,""):null==n?"":n:void 0}}),pt.extend({valHooks:{option:{get:function(t){var e=pt.find.attr(t,"value");return null!=e?e:W(pt.text(t))}},select:{get:function(t){var e,n,i,r=t.options,s=t.selectedIndex,a="select-one"===t.type,l=a?null:[],c=a?s+1:r.length;for(i=s<0?c:a?s:0;i<c;i++)if(((n=r[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!o(n.parentNode,"optgroup"))){if(e=pt(n).val(),a)return e;l.push(e)}return l},set:function(t,e){for(var n,i,r=t.options,o=pt.makeArray(e),s=r.length;s--;)((i=r[s]).selected=-1<pt.inArray(pt.valHooks.option.get(i),o))&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<pt.inArray(pt(t).val(),e)}},lt.checkOn||(pt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),lt.focusin="onfocusin"in t;var Se=/^(?:focusinfocus|focusoutblur)$/,ke=function(t){t.stopPropagation()};pt.extend(pt.event,{trigger:function(e,n,i,r){var o,s,a,l,c,u,h,f,d=[i||ht],p=ot.call(e,"type")?e.type:e,m=ot.call(e,"namespace")?e.namespace.split("."):[];if(s=f=a=i=i||ht,3!==i.nodeType&&8!==i.nodeType&&!Se.test(p+pt.event.triggered)&&(-1<p.indexOf(".")&&(p=(m=p.split(".")).shift(),m.sort()),c=p.indexOf(":")<0&&"on"+p,(e=e[pt.expando]?e:new pt.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:pt.makeArray(n,[e]),h=pt.event.special[p]||{},r||!h.trigger||!1!==h.trigger.apply(i,n))){if(!r&&!h.noBubble&&!ut(i)){for(l=h.delegateType||p,Se.test(l+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),a=s;a===(i.ownerDocument||ht)&&d.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=d[o++])&&!e.isPropagationStopped();)f=s,e.type=1<o?l:h.bindType||p,(u=(Dt.get(s,"events")||Object.create(null))[e.type]&&Dt.get(s,"handle"))&&u.apply(s,n),(u=c&&s[c])&&u.apply&&It(s)&&(e.result=u.apply(s,n),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),n)||!It(i)||c&&ct(i[p])&&!ut(i)&&((a=i[c])&&(i[c]=null),pt.event.triggered=p,e.isPropagationStopped()&&f.addEventListener(p,ke),i[p](),e.isPropagationStopped()&&f.removeEventListener(p,ke),pt.event.triggered=void 0,a&&(i[c]=a)),e.result}},simulate:function(t,e,n){var i=pt.extend(new pt.Event,n,{type:t,isSimulated:!0});pt.event.trigger(i,null,e)}}),pt.fn.extend({trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return pt.event.trigger(t,e,n,!0)}}),lt.focusin||pt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){pt.event.simulate(e,t.target,pt.event.fix(t))};pt.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=Dt.access(i,e);r||i.addEventListener(t,n,!0),Dt.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=Dt.access(i,e)-1;r?Dt.access(i,e,r):(i.removeEventListener(t,n,!0),Dt.remove(i,e))}}});var Ee=t.location,Te={guid:Date.now()},Ae=/\?/;pt.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+e),n};var Pe=/\[\]$/,Ie=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,Oe=/^(?:input|select|textarea|keygen)/i;pt.param=function(t,e){var n,i=[],r=function(t,e){var n=ct(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){r(this.name,this.value)});else for(n in t)Q(n,t[n],e,r);return i.join("&")},pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&Oe.test(this.nodeName)&&!De.test(t)&&(this.checked||!Ut.test(t))}).map(function(t,e){var n=pt(this).val();return null==n?null:Array.isArray(n)?pt.map(n,function(t){return{name:e.name,value:t.replace(Ie,"\r\n")}}):{name:e.name,value:n.replace(Ie,"\r\n")}}).get()}});var je=/%20/g,Ne=/#.*$/,Re=/([?&])_=[^&]*/,Me=/^(.*?):[ \t]*([^\r\n]*)$/gm,$e=/^(?:GET|HEAD)$/,Le=/^\/\//,He={},Fe={},ze="*/".concat("*"),Be=ht.createElement("a");Be.href=Ee.href,pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ee.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ee.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?K(K(t,pt.ajaxSettings),e):K(pt.ajaxSettings,t)},ajaxPrefilter:Y(He),ajaxTransport:Y(Fe),ajax:function(e,n){function i(e,n,i,a){var c,f,d,w,x,_=n;u||(u=!0,l&&t.clearTimeout(l),r=void 0,s=a||"",C.readyState=0<e?4:0,c=200<=e&&e<300||304===e,i&&(w=function(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,C,i)),!c&&-1<pt.inArray("script",p.dataTypes)&&(p.converters["text script"]=function(){}),w=function(t,e,n,i){var r,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(p,w,C,c),c?(p.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(pt.lastModified[o]=x),(x=C.getResponseHeader("etag"))&&(pt.etag[o]=x)),204===e||"HEAD"===p.type?_="nocontent":304===e?_="notmodified":(_=w.state,f=w.data,c=!(d=w.error))):(d=_,!e&&_||(_="error",e<0&&(e=0))),C.status=e,C.statusText=(n||_)+"",c?v.resolveWith(m,[f,_,C]):v.rejectWith(m,[C,_,d]),C.statusCode(b),b=void 0,h&&g.trigger(c?"ajaxSuccess":"ajaxError",[C,p,c?f:d]),y.fireWith(m,[C,_]),h&&(g.trigger("ajaxComplete",[C,p]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,s,a,l,c,u,h,f,d,p=pt.ajaxSetup({},n),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?pt(m):pt.event,v=pt.Deferred(),y=pt.Callbacks("once memory"),b=p.statusCode||{},w={},x={},_="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(u){if(!a)for(a={};e=Me.exec(s);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(t,e){return null==u&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==u&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)C.always(t[C.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||_;return r&&r.abort(e),i(0,e),this}};if(v.promise(C),p.url=((e||p.url||Ee.href)+"").replace(Le,Ee.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(St)||[""],null==p.crossDomain){c=ht.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Be.protocol+"//"+Be.host!=c.protocol+"//"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=pt.param(p.data,p.traditional)),V(He,p,n,C),u)return C;for(f in(h=pt.event&&p.global)&&0==pt.active++&&pt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!$e.test(p.type),o=p.url.replace(Ne,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(je,"+")):(d=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(Ae.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Re,"$1"),d=(Ae.test(o)?"&":"?")+"_="+Te.guid++ +d),p.url=o+d),p.ifModified&&(pt.lastModified[o]&&C.setRequestHeader("If-Modified-Since",pt.lastModified[o]),pt.etag[o]&&C.setRequestHeader("If-None-Match",pt.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+ze+"; q=0.01":""):p.accepts["*"]),p.headers)C.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(m,C,p)||u))return C.abort();if(_="abort",y.add(p.complete),C.done(p.success),C.fail(p.error),r=V(Fe,p,n,C)){if(C.readyState=1,h&&g.trigger("ajaxSend",[C,p]),u)return C;p.async&&0<p.timeout&&(l=t.setTimeout(function(){C.abort("timeout")},p.timeout));try{u=!1,r.send(w,i)}catch(t){if(u)throw t;i(-1,t)}}else i(-1,"No Transport");return C},getJSON:function(t,e,n){return pt.get(t,e,n,"json")},getScript:function(t,e){return pt.get(t,void 0,e,"script")}}),pt.each(["get","post"],function(t,e){pt[e]=function(t,n,i,r){return ct(n)&&(r=r||i,i=n,n=void 0),pt.ajax(pt.extend({url:t,type:e,dataType:r,data:n,success:i},pt.isPlainObject(t)&&t))}}),pt.ajaxPrefilter(function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),pt._evalUrl=function(t,e,n){return pt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){pt.globalEval(t,e,n)}})},pt.fn.extend({wrapAll:function(t){var e;return this[0]&&(ct(t)&&(t=t.call(this[0])),e=pt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return ct(t)?this.each(function(e){pt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=pt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ct(t);return this.each(function(n){pt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){pt(this).replaceWith(this.childNodes)}),this}}),pt.expr.pseudos.hidden=function(t){return!pt.expr.pseudos.visible(t)},pt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},pt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var qe={0:200,1223:204},We=pt.ajaxSettings.xhr();lt.cors=!!We&&"withCredentials"in We,lt.ajax=We=!!We,pt.ajaxTransport(function(e){var n,i;if(lt.cors||We&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(qe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),pt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),pt.ajaxTransport("script",function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=pt("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),ht.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ue,Xe=[],Qe=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xe.pop()||pt.expando+"_"+Te.guid++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=!1!==e.jsonp&&(Qe.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qe.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=ct(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Qe,"$1"+r):!1!==e.jsonp&&(e.url+=(Ae.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||pt.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){void 0===o?pt(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Xe.push(r)),s&&ct(o)&&o(s[0]),s=o=void 0}),"script"}),lt.createHTMLDocument=((Ue=ht.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ue.childNodes.length),pt.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(lt.createHTMLDocument?((i=(e=ht.implementation.createHTMLDocument("")).createElement("base")).href=ht.location.href,e.head.appendChild(i)):e=ht),o=!n&&[],(r=bt.exec(t))?[e.createElement(r[1])]:(r=w([t],e,o),o&&o.length&&pt(o).remove(),pt.merge([],r.childNodes)));var i,r,o},pt.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return-1<a&&(i=W(t.slice(a)),t=t.slice(0,a)),ct(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<s.length&&pt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?pt("<div>").append(pt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},pt.expr.pseudos.animated=function(t){return pt.grep(pt.timers,function(e){return t===e.elem}).length},pt.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,c=pt.css(t,"position"),u=pt(t),h={};"static"===c&&(t.style.position="relative"),a=u.offset(),o=pt.css(t,"top"),l=pt.css(t,"left"),("absolute"===c||"fixed"===c)&&-1<(o+l).indexOf("auto")?(s=(i=u.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),ct(e)&&(e=e.call(t,n,pt.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):("number"==typeof h.top&&(h.top+="px"),"number"==typeof h.left&&(h.left+="px"),u.css(h))}},pt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){pt.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===pt.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===pt.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=pt(t).offset()).top+=pt.css(t,"borderTopWidth",!0),r.left+=pt.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-pt.css(i,"marginTop",!0),left:e.left-r.left-pt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||Lt})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;pt.fn[t]=function(i){return Tt(this,function(t,i,r){var o;return ut(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),pt.each(["top","left"],function(t,e){pt.cssHooks[e]=j(lt.pixelPosition,function(t,n){if(n)return n=O(t,e),ne.test(n)?pt(t).position()[e]+"px":n})}),pt.each({Height:"height",Width:"width"},function(t,e){pt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){pt.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return Tt(this,function(e,n,r){var o;return ut(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?pt.css(e,n,a):pt.style(e,n,r,a)},e,s?r:void 0,s)}})}),pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),pt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){pt.fn[e]=function(t,n){return 0<arguments.length?this.on(e,null,t,n):this.trigger(e)}});var Ye=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;pt.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),ct(t))return i=Z.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(Z.call(arguments)))}).guid=t.guid=t.guid||pt.guid++,r},pt.holdReady=function(t){t?pt.readyWait++:pt.ready(!0)},pt.isArray=Array.isArray,pt.parseJSON=JSON.parse,pt.nodeName=o,pt.isFunction=ct,pt.isWindow=ut,pt.camelCase=d,pt.type=i,pt.now=Date.now,pt.isNumeric=function(t){var e=pt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},pt.trim=function(t){return null==t?"":(t+"").replace(Ye,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return pt});var Ve=t.jQuery,Ke=t.$;return pt.noConflict=function(e){return t.$===pt&&(t.$=Ke),e&&t.jQuery===pt&&(t.jQuery=Ve),pt},"undefined"==typeof e&&(t.jQuery=t.$=pt),pt}),void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(t){"function"==typeof define&&define.amd?define(["jquery"],window,t):"object"==typeof module&&module.exports?module.exports=t(require("jquery"),window):t(jQuery,window)}(function(t,e){"use strict";function n(n){var i=e.console;o[n]||(o[n]=!0,t.migrateWarnings.push(n),i&&i.warn&&!t.migrateMute&&(i.warn("JQMIGRATE: "+n),t.migrateTrace&&i.trace&&i.trace()))}function i(t,e,i,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return n(r),i},set:function(t){n(r),i=t}})}function r(t,e,i,r){t[e]=function(){return n(r),i.apply(this,arguments)}}t.migrateVersion="3.0.1",function(){var n=/^[12]\./;e.console&&e.console.log&&(t&&!n.test(t.fn.jquery)||e.console.log("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),t.migrateWarnings&&e.console.log("JQMIGRATE: Migrate plugin loaded multiple times"),e.console.log("JQMIGRATE: Migrate is installed"+(t.migrateMute?"":" with logging active")+", version "+t.migrateVersion))}();var o={};t.migrateWarnings=[],void 0===t.migrateTrace&&(t.migrateTrace=!0),t.migrateReset=function(){o={},t.migrateWarnings.length=0},"BackCompat"===e.document.compatMode&&n("jQuery is not compatible with Quirks Mode");var s=t.fn.init,a=t.isNumeric,l=t.find,c=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,u=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g;t.fn.init=function(t){var e=Array.prototype.slice.call(arguments);return"string"==typeof t&&"#"===t&&(n("jQuery( '#' ) is not a valid selector"),e[0]=[]),s.apply(this,e)},t.fn.init.prototype=t.fn,t.find=function(t){var i=Array.prototype.slice.call(arguments);if("string"==typeof t&&c.test(t))try{e.document.querySelector(t)}catch(r){t=t.replace(u,function(t,e,n,i){return"["+e+n+'"'+i+'"]'});try{e.document.querySelector(t),n("Attribute selector with '#' must be quoted: "+i[0]),i[0]=t}catch(t){n("Attribute selector with '#' was not fixed: "+i[0])}}return l.apply(this,i)};var h;for(h in l)Object.prototype.hasOwnProperty.call(l,h)&&(t.find[h]=l[h]);t.fn.size=function(){return n("jQuery.fn.size() is deprecated and removed; use the .length property"),this.length},t.parseJSON=function(){return n("jQuery.parseJSON is deprecated; use JSON.parse"),JSON.parse.apply(null,arguments)},t.isNumeric=function(e){var i=a(e),r=function(e){var n=e&&e.toString();return!t.isArray(e)&&n-parseFloat(n)+1>=0}(e);return i!==r&&n("jQuery.isNumeric() should not be called on constructed objects"),r},r(t,"holdReady",t.holdReady,"jQuery.holdReady is deprecated"),r(t,"unique",t.uniqueSort,"jQuery.unique is deprecated; use jQuery.uniqueSort"),i(t.expr,"filters",t.expr.pseudos,"jQuery.expr.filters is deprecated; use jQuery.expr.pseudos"),i(t.expr,":",t.expr.pseudos,"jQuery.expr[':'] is deprecated; use jQuery.expr.pseudos");var f=t.ajax;t.ajax=function(){var t=f.apply(this,arguments);return t.promise&&(r(t,"success",t.done,"jQXHR.success is deprecated and removed"),r(t,"error",t.fail,"jQXHR.error is deprecated and removed"),r(t,"complete",t.always,"jQXHR.complete is deprecated and removed")),t};var d=t.fn.removeAttr,p=t.fn.toggleClass,m=/\S+/g;t.fn.removeAttr=function(e){var i=this;return t.each(e.match(m),function(e,r){t.expr.match.bool.test(r)&&(n("jQuery.fn.removeAttr no longer sets boolean properties: "+r),i.prop(r,!1))}),d.apply(this,arguments)},t.fn.toggleClass=function(e){return void 0!==e&&"boolean"!=typeof e?p.apply(this,arguments):(n("jQuery.fn.toggleClass( boolean ) is deprecated"),this.each(function(){var n=this.getAttribute&&this.getAttribute("class")||"";n&&t.data(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===e?"":t.data(this,"__className__")||"")}))};var g=!1;t.swap&&t.each(["height","width","reliableMarginRight"],function(e,n){var i=t.cssHooks[n]&&t.cssHooks[n].get;i&&(t.cssHooks[n].get=function(){var t;return g=!0,t=i.apply(this,arguments),g=!1,t})}),t.swap=function(t,e,i,r){var o,s,a={};g||n("jQuery.swap() is undocumented and deprecated");for(s in e)a[s]=t.style[s],t.style[s]=e[s];o=i.apply(t,r||[]);for(s in e)t.style[s]=a[s];return o};var v=t.data;t.data=function(e,i,r){var o;if(i&&"object"==typeof i&&2===arguments.length){o=t.hasData(e)&&v.call(this,e);var s={};for(var a in i)a!==t.camelCase(a)?(n("jQuery.data() always sets/gets camelCased names: "+a),o[a]=i[a]):s[a]=i[a];return v.call(this,e,s),i}return i&&"string"==typeof i&&i!==t.camelCase(i)&&(o=t.hasData(e)&&v.call(this,e))&&i in o?(n("jQuery.data() always sets/gets camelCased names: "+i),arguments.length>2&&(o[i]=r),o[i]):v.apply(this,arguments)};var y=t.Tween.prototype.run,b=function(t){return t};t.Tween.prototype.run=function(){t.easing[this.easing].length>1&&(n("'jQuery.easing."+this.easing.toString()+"' should use only one argument"),t.easing[this.easing]=b),y.apply(this,arguments)},t.fx.interval=t.fx.interval||13,e.requestAnimationFrame&&i(t.fx,"interval",t.fx.interval,"jQuery.fx.interval is deprecated");var w=t.fn.load,x=t.event.add,_=t.event.fix;t.event.props=[],t.event.fixHooks={},i(t.event.props,"concat",t.event.props.concat,"jQuery.event.props.concat() is deprecated and removed"),t.event.fix=function(e){var i,r=e.type,o=this.fixHooks[r],s=t.event.props;if(s.length)for(n("jQuery.event.props are deprecated and removed: "+s.join());s.length;)t.event.addProp(s.pop());if(o&&!o._migrated_&&(o._migrated_=!0,n("jQuery.event.fixHooks are deprecated and removed: "+r),(s=o.props)&&s.length))for(;s.length;)t.event.addProp(s.pop());return i=_.call(this,e),o&&o.filter?o.filter(i,e):i},t.event.add=function(t,i){return t===e&&"load"===i&&"complete"===e.document.readyState&&n("jQuery(window).on('load'...) called after load event occurred"),x.apply(this,arguments)},t.each(["load","unload","error"],function(e,i){t.fn[i]=function(){var t=Array.prototype.slice.call(arguments,0);return"load"===i&&"string"==typeof t[0]?w.apply(this,t):(n("jQuery.fn."+i+"() is deprecated"),t.splice(0,0,i),arguments.length?this.on.apply(this,t):(this.triggerHandler.apply(this,t),this))}}),t.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,i){
t.fn[i]=function(t,e){return n("jQuery.fn."+i+"() event shorthand is deprecated"),arguments.length>0?this.on(i,null,t,e):this.trigger(i)}}),t(function(){t(e.document).triggerHandler("ready")}),t.event.special.ready={setup:function(){this===e.document&&n("'ready' event is deprecated")}},t.fn.extend({bind:function(t,e,i){return n("jQuery.fn.bind() is deprecated"),this.on(t,null,e,i)},unbind:function(t,e){return n("jQuery.fn.unbind() is deprecated"),this.off(t,null,e)},delegate:function(t,e,i,r){return n("jQuery.fn.delegate() is deprecated"),this.on(e,t,i,r)},undelegate:function(t,e,i){return n("jQuery.fn.undelegate() is deprecated"),1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return n("jQuery.fn.hover() is deprecated"),this.on("mouseenter",t).on("mouseleave",e||t)}});var C=t.fn.offset;t.fn.offset=function(){var i,r=this[0],o={top:0,left:0};return r&&r.nodeType?(i=(r.ownerDocument||e.document).documentElement,t.contains(i,r)?C.apply(this,arguments):(n("jQuery.fn.offset() requires an element connected to a document"),o)):(n("jQuery.fn.offset() requires a valid DOM element"),o)};var S=t.param;t.param=function(e,i){var r=t.ajaxSettings&&t.ajaxSettings.traditional;return void 0===i&&r&&(n("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),i=r),S.call(this,e,i)};var k=t.fn.andSelf||t.fn.addBack;t.fn.andSelf=function(){return n("jQuery.fn.andSelf() is deprecated and removed, use jQuery.fn.addBack()"),k.apply(this,arguments)};var E=t.Deferred,T=[["resolve","done",t.Callbacks("once memory"),t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),t.Callbacks("once memory"),"rejected"],["notify","progress",t.Callbacks("memory"),t.Callbacks("memory")]];return t.Deferred=function(e){var i=E(),r=i.promise();return i.pipe=r.pipe=function(){var e=arguments;return n("deferred.pipe() is deprecated"),t.Deferred(function(n){t.each(T,function(o,s){var a=t.isFunction(e[o])&&e[o];i[s[1]](function(){var e=a&&a.apply(this,arguments);e&&t.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},e&&e.call(i,i),i},t.Deferred.exceptionHook=E.exceptionHook,t}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.ui=t.ui||{},t.ui.version="1.12.1";var e=0,n=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=t._data(r,"events"),i&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,s,a={},l=e.split(".")[0];e=e.split(".")[1];var c=l+"-"+e;return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),s=new n,s.options=t.widget.extend({},s.options),t.each(i,function(e,i){return t.isFunction(i)?void(a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(a[e]=i)}),o.prototype=t.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix||e:e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:c}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,r,o=n.call(arguments,1),s=0,a=o.length;a>s;s++)for(i in o[s])r=o[s][i],o[s].hasOwnProperty(i)&&void 0!==r&&(e[i]=t.isPlainObject(r)?t.isPlainObject(e[i])?t.widget.extend({},e[i],r):t.widget.extend({},r):r);return e},t.widget.bridge=function(e,i){var r=i.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=n.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each(function(){var n,i=t.data(this,r);return"instance"===o?(l=i,!1):i?t.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,a),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new i(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;i.length-1>o;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function n(n,o){var s,a;for(a=0;n.length>a;a++)s=r.classesElementLookup[n[a]]||t(),s=t(e.add?t.unique(s.get().concat(e.element.get())):s.not(e.element).get()),r.classesElementLookup[n[a]]=s,i.push(n[a]),o&&e.classes[n[a]]&&i.push(e.classes[n[a]])}var i=[],r=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.on(c,u,a):n.on(c,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var i=!1;t(document).on("mouseup",function(){i=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!i){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,r=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),i=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,i=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;o.length>r;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]),i=t(e.target);i.closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),i=n[0],void(i&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,s,a,l,c,u,h,f,d,p=i.options,m=p.snapTolerance,g=n.offset.left,v=g+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)l=i.snapElements[f].left-i.margins.left,c=l+i.snapElements[f].width,u=i.snapElements[f].top-i.margins.top,h=u+i.snapElements[f].height,l-m>v||g>c+m||u-m>b||y>h+m||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==p.snapMode&&(r=m>=Math.abs(u-b),o=m>=Math.abs(h-y),s=m>=Math.abs(l-v),a=m>=Math.abs(c-g),r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),d=r||o||s||a,"outer"!==p.snapMode&&(r=m>=Math.abs(u-y),o=m>=Math.abs(h-b),s=m>=Math.abs(l-g),a=m>=Math.abs(c-v),r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,
left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(r||o||s||a||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=r||o||s||a||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,s=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,o=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&r(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e)?(o=!0,!1):void 0}),!o&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var r=t.ui.intersect=function(){function t(t,e,n){return t>=e&&e+n>t}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,a=o+e.helperProportions.width,l=s+e.helperProportions.height,c=n.offset.left,u=n.offset.top,h=c+n.proportions().width,f=u+n.proportions().height;switch(i){case"fit":return o>=c&&h>=a&&s>=u&&f>=l;case"intersect":return o+e.helperProportions.width/2>c&&h>a-e.helperProportions.width/2&&s+e.helperProportions.height/2>u&&f>l-e.helperProportions.height/2;case"pointer":return t(r.pageY,u,n.proportions().height)&&t(r.pageX,c,n.proportions().width);case"touch":return(s>=u&&f>=s||l>=u&&f>=l||u>s&&l>f)&&(o>=c&&h>=o||a>=c&&h>=a||c>o&&a>h);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;o.length>i;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;a.length>r;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&r(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,o,s,a=r(e,this,this.options.tolerance,n),l=!a&&this.isover?"isout":a&&!this.isover?"isover":null;l&&(this.options.greedy&&(o=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===o}),s.length&&(i=t(s[0]).droppable("instance"),i.greedyChild="isover"===l)),i&&"isover"===l&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,n),i&&"isout"===l&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0||(e[i]=1,r=e[i]>0,e[i]=0,r)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,n,i,r,o,s=this.options,a=this;if(this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;i.length>n;n++)e=t.trim(i[n]),r="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:s.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var n,i,r,o;e=e||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)i=t(this.handles[n])[0],(i===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,s,a,l,c=this.options,u=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,o=i?0:u.sizeDiff.width,s={width:u.helper.width()-o,height:u.helper.height()-r},a=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(t.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),o.maxWidth>n&&(o.maxWidth=n),o.maxHeight>r&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&c&&(t.left=a-e.minWidth),i&&c&&(t.left=a-e.maxWidth),s&&u&&(t.top=l-e.minHeight),r&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize,i=this.originalPosition;return{left:i.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,s,a,l=t(this).resizable("instance"),c=l.options,u=l.element,h=c.containment,f=h instanceof t?h.get(0):/parent/.test(h)?u.parent().get(0):h;f&&(l.containerElement=t(f),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(f),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(f,"left")?f.scrollWidth:o,a=l._hasScroll(f)?f.scrollHeight:r,l.parentData={element:f,left:i.left,top:i.top,width:s,height:a}))},resize:function(e){var n,i,r,o,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||e.shiftKey,h={top:0,left:0},f=s.containerElement,d=!0;f[0]!==document&&/static/.test(f.css("position"))&&(h=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),u&&(s.size.height=s.size.width/s.aspectRatio,d=!1),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,d=!1),s.position.top=s._helper?l.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-l.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,u&&(s.size.height=s.size.width/s.aspectRatio,d=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,u&&(s.size.width=s.size.height*s.aspectRatio,d=!1)),d||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,c=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:c}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),n=e.options;t(n.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};t(r.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(a[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,h=Math.round((r.width-o.width)/c)*c,f=Math.round((r.height-o.height)/u)*u,d=o.width+h,p=o.height+f,m=i.maxWidth&&d>i.maxWidth,g=i.maxHeight&&p>i.maxHeight,v=i.minWidth&&i.minWidth>d,y=i.minHeight&&i.minHeight>p;i.grid=l,v&&(d+=c),y&&(p+=u),m&&(d-=c),g&&(p-=u),/^(se|s|e)$/.test(a)?(n.size.width=d,n.size.height=p):/^(ne)$/.test(a)?(n.size.width=d,n.size.height=p,n.position.top=s.top-f):/^(sw)$/.test(a)?(n.size.width=d,n.size.height=p,n.position.left=s.left-h):((0>=p-u||0>=d-c)&&(e=n._getPaddingPlusBorderDimensions(this)),p-u>0?(n.size.height=p,n.position.top=s.top-f):(p=u-e.height,n.size.height=p,n.position.top=s.top+o.height-p),d-c>0?(n.size.width=d,n.position.left=s.left-h):(d=c-e.width,n.size.width=d,n.position.left=s.left+o.width-d))}}),t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var n=t(this),i=n.offset(),r={left:i.left-e.elementPos.left,top:i.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");return r?(i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return o>a&&(n=a,a=o,o=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),c=!1,u={};n&&n.element!==i.element[0]&&(u.left=n.left+i.elementPos.left,u.right=n.right+i.elementPos.left,u.top=n.top+i.elementPos.top,u.bottom=n.bottom+i.elementPos.top,"touch"===r.tolerance?c=!(u.left>a||o>u.right||u.top>l||s>u.bottom):"fit"===r.tolerance&&(c=u.left>o&&a>u.right&&u.top>s&&l>u.bottom),c?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&e+n>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(i=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,
top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||i+c>a&&l>i+c,f="y"===this.options.axis||e+u>o&&s>e+u,d=h&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:e+this.helperProportions.width/2>o&&s>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>a&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=i&&r;return!!o&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,r,o,s,a=[],l=[],c=this._connectWith();if(c&&e)for(i=c.length-1;i>=0;i--)for(o=t(c[i],this.document[0]),r=o.length-1;r>=0;r--)s=t.data(o[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;e.length>n;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,c,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(r=t(f[n],this.document[0]),i=r.length-1;i>=0;i--)o=t.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],a=h[n][0],i=0,c=a.length;c>i;i++)l=t(a[i]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,s,a,l,c,u,h,f=null,d=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],d=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(r=1e4,o=null,u=f.floating||this._isFloating(this.currentItem),s=u?"left":"top",a=u?"width":"height",h=u?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[d].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],c=!1,e[h]-l>this.items[i][a]/2&&(c=!0),r>Math.abs(e[h]-l)&&(r=Math.abs(e[h]-l),o=this.items[i],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;r.length>i;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}});var o="ui-effects-",s="ui-effects-style",a="ui-effects-animated",l=t;t.effects={effect:{}},function(t,e){function n(t,e,n){var i=h[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:t>i.max?i.max:t)}function i(n){var i=c(),r=i._rgba=[];return n=n.toLowerCase(),p(l,function(t,o){var s,a=o.re.exec(n),l=a&&o.parse(a),c=o.space||"rgba";return l?(s=i[c](l),i[u[c].cache]=s[u[c].cache],r=i._rgba=s._rgba,!1):e}),r.length?("0,0,0,0"===r.join()&&t.extend(r,o.transparent),i):o[n]}function r(t,e,n){return n=(n+1)%1,1>6*n?t+6*(e-t)*n:1>2*n?e:2>3*n?t+6*(e-t)*(2/3-n):t}var o,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],c=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},f=c.support={},d=t("<p>")[0],p=t.each;d.style.cssText="background-color:rgba(1,1,1,.5)",f.rgba=d.style.backgroundColor.indexOf("rgba")>-1,p(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),c.fn=t.extend(c.prototype,{parse:function(r,s,a,l){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(s),s=e);var h=this,f=t.type(r),d=this._rgba=[];return s!==e&&(r=[r,s,a,l],f="array"),"string"===f?this.parse(i(r)||o._default):"array"===f?(p(u.rgba.props,function(t,e){d[e.idx]=n(r[e.idx],e)}),this):"object"===f?(r instanceof c?p(u,function(t,e){r[e.cache]&&(h[e.cache]=r[e.cache].slice())}):p(u,function(e,i){var o=i.cache;p(i.props,function(t,e){if(!h[o]&&i.to){if("alpha"===t||null==r[t])return;h[o]=i.to(h._rgba)}h[o][e.idx]=n(r[t],e,!0)}),h[o]&&0>t.inArray(null,h[o].slice(0,3))&&(h[o][3]=1,i.from&&(h._rgba=i.from(h[o])))}),this):e},is:function(t){var n=c(t),i=!0,r=this;return p(u,function(t,o){var s,a=n[o.cache];return a&&(s=r[o.cache]||o.to&&o.to(r._rgba)||[],p(o.props,function(t,n){return null!=a[n.idx]?i=a[n.idx]===s[n.idx]:e})),i}),i},_space:function(){var t=[],e=this;return p(u,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=c(t),r=i._space(),o=u[r],s=0===this.alpha()?c("transparent"):this,a=s[o.cache]||o.to(s._rgba),l=a.slice();return i=i[o.cache],p(o.props,function(t,r){var o=r.idx,s=a[o],c=i[o],u=h[r.type]||{};null!==c&&(null===s?l[o]=c:(u.mod&&(c-s>u.mod/2?s+=u.mod:s-c>u.mod/2&&(s-=u.mod)),l[o]=n((c-s)*e+s,r)))}),this[r](l)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=c(e)._rgba;return c(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(i,r,o),l=Math.min(i,r,o),c=a-l,u=a+l,h=.5*u;return e=l===a?0:i===a?60*(r-o)/c+360:r===a?60*(o-i)/c+120:60*(i-r)/c+240,n=0===c?0:.5>=h?c/u:c/(2-u),[Math.round(e)%360,n,h,null==s?1:s]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],s=.5>=i?i*(1+n):i+n-i*n,a=2*i-s;return[Math.round(255*r(a,s,e+1/3)),Math.round(255*r(a,s,e)),Math.round(255*r(a,s,e-1/3)),o]},p(u,function(i,r){var o=r.props,s=r.cache,l=r.to,u=r.from;c.fn[i]=function(i){if(l&&!this[s]&&(this[s]=l(this._rgba)),i===e)return this[s].slice();var r,a=t.type(i),h="array"===a||"object"===a?i:arguments,f=this[s].slice();return p(o,function(t,e){var i=h["object"===a?t:e.idx];null==i&&(i=f[e.idx]),f[e.idx]=n(i,e)}),u?(r=c(u(f)),r[s]=f,r):c(f)},p(o,function(e,n){c.fn[e]||(c.fn[e]=function(r){var o,s=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":i,c=this[l](),u=c[n.idx];return"undefined"===s?u:("function"===s&&(r=r.call(this,u),s=t.type(r)),null==r&&n.empty?this:("string"===s&&(o=a.exec(r),o&&(r=u+parseFloat(o[2])*("+"===o[1]?1:-1))),c[n.idx]=r,this[l](c)))})})}),c.hook=function(e){var n=e.split(" ");p(n,function(e,n){t.cssHooks[n]={set:function(e,r){var o,s,a="";if("transparent"!==r&&("string"!==t.type(r)||(o=i(r)))){if(r=c(o||r),!f.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(t){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=c(e.elem,n),e.end=c(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},c.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(l),function(){function e(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function n(e,n){var i,o,s={};for(i in n)o=n[i],e[i]!==o&&(r[i]||(t.fx.step[i]||!isNaN(parseFloat(o)))&&(s[i]=o));return s}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(l.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,o,s,a){var l=t.speed(o,s,a);return this.queue(function(){var o,s=t(this),a=s.attr("class")||"",c=l.children?s.find("*").addBack():s;c=c.map(function(){var n=t(this);return{el:n,start:e(this)}}),o=function(){t.each(i,function(t,e){r[e]&&s[e+"Class"](r[e])})},o(),c=c.map(function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this}),s.attr("class",a),c=c.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,c.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,s){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function e(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}function i(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=r.exec(t)||["",0,n,i,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?n:parseFloat(o[2]),bottom:"auto"===o[3]?i:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){
return function(n){return!!t(n).data(a)||e(n)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var n=0,i=e.length;i>n;n++)null!==e[n]&&t.data(o+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,r=e.length;r>i;i++)null!==e[i]&&(n=t.data(o+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,n,i){return i||(i=n,n="effect"),t.effects.effect[e]=i,t.effects.effect[e].mode=n,i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,r="vertical"!==n?(e||100)/100:1;return{height:t.height()*r,width:t.width()*i,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data(s,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(s)||"",t.removeData(s)},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var n,i=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(o+"placeholder",n)),e.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function(t){var e=o+"placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){function n(e){function n(){l.removeData(a),t.effects.cleanUp(l),"hide"===i.mode&&l.hide(),s()}function s(){t.isFunction(c)&&c.call(l[0]),t.isFunction(e)&&e()}var l=t(this);i.mode=h.shift(),t.uiBackCompat===!1||o?"none"===i.mode?(l[u](),s()):r.call(l[0],i,n):(l.is(":hidden")?"hide"===u:"show"===u)?(l[u](),s()):r.call(l[0],i,s)}var i=e.apply(this,arguments),r=t.effects.effect[i.effect],o=r.mode,s=i.queue,l=s||"fx",c=i.complete,u=i.mode,h=[],f=function(e){var n=t(this),i=t.effects.mode(n,u)||o;n.data(a,!0),h.push(i),o&&("show"===i||i===o&&"hide"===i)&&n.show(),o&&"none"===i||t.effects.saveStyle(n),t.isFunction(e)&&e()};return t.fx.off||!r?u?this[u](i.duration,c):this.each(function(){c&&c.call(this)}):s===!1?this.each(f).each(n):this.queue(l,f).queue(l,n)},show:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"==typeof i)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):i(this.css("clip"),this)},transfer:function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,c=r.offset(),u={top:c.top-a,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},h=i.offset(),f=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:h.top-a,left:h.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){f.remove(),t.isFunction(n)&&n()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=i(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;((e=Math.pow(2,--n))-1)/11>t;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:1-n(-2*t+2)/2}})}();var c=t.effects;t.effects.define("blind","hide",function(e,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),o=e.direction||"up",s=r.cssClip(),a={clip:t.extend({},s)},l=t.effects.createPlaceholder(r);a.clip[i[o][0]]=a.clip[i[o][1]],"show"===e.mode&&(r.cssClip(a.clip),l&&l.css(t.effects.clipToBox(a)),a.clip=s),l&&l.animate(t.effects.clipToBox(a),e.duration,e.easing),r.animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("bounce",function(e,n){var i,r,o,s=t(this),a=e.mode,l="hide"===a,c="show"===a,u=e.direction||"up",h=e.distance,f=e.times||5,d=2*f+(c||l?1:0),p=e.duration/d,m=e.easing,g="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,y=0,b=s.queue().length;for(t.effects.createPlaceholder(s),o=s.css(g),h||(h=s["top"===g?"outerHeight":"outerWidth"]()/3),c&&(r={opacity:1},r[g]=o,s.css("opacity",0).css(g,v?2*-h:2*h).animate(r,p,m)),l&&(h/=Math.pow(2,f-1)),r={},r[g]=o;f>y;y++)i={},i[g]=(v?"-=":"+=")+h,s.animate(i,p,m).animate(r,p,m),h=l?2*h:h/2;l&&(i={opacity:0},i[g]=(v?"-=":"+=")+h,s.animate(i,p,m)),s.queue(n),t.effects.unshift(s,b,d+1)}),t.effects.define("clip","hide",function(e,n){var i,r={},o=t(this),s=e.direction||"vertical",a="both"===s,l=a||"horizontal"===s,c=a||"vertical"===s;i=o.cssClip(),r.clip={top:c?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:c?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(r.clip),r.clip=i),o.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("drop","hide",function(e,n){var i,r=t(this),o=e.mode,s="show"===o,a=e.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a?"-=":"+=",u="+="===c?"-=":"+=",h={opacity:0};t.effects.createPlaceholder(r),i=e.distance||r["top"===l?"outerHeight":"outerWidth"](!0)/2,h[l]=c+i,s&&(r.css(h),h[l]=u+i,h.opacity=1),r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("explode","hide",function(e,n){function i(){b.push(this),b.length===h*f&&r()}function r(){d.css({visibility:"visible"}),t(b).remove(),n()}var o,s,a,l,c,u,h=e.pieces?Math.round(Math.sqrt(e.pieces)):3,f=h,d=t(this),p=e.mode,m="show"===p,g=d.show().css("visibility","hidden").offset(),v=Math.ceil(d.outerWidth()/f),y=Math.ceil(d.outerHeight()/h),b=[];for(o=0;h>o;o++)for(l=g.top+o*y,u=o-(h-1)/2,s=0;f>s;s++)a=g.left+s*v,c=s-(f-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(m?c*v:0),top:l+(m?u*y:0),opacity:m?0:1}).animate({left:a+(m?0:c*v),top:l+(m?0:u*y),opacity:m?1:0},e.duration||500,e.easing,i)}),t.effects.define("fade","toggle",function(e,n){var i="show"===e.mode;t(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("fold","hide",function(e,n){var i=t(this),r=e.mode,o="show"===r,s="hide"===r,a=e.size||15,l=/([0-9]+)%/.exec(a),c=!!e.horizFirst,u=c?["right","bottom"]:["bottom","right"],h=e.duration/2,f=t.effects.createPlaceholder(i),d=i.cssClip(),p={clip:t.extend({},d)},m={clip:t.extend({},d)},g=[d[u[0]],d[u[1]]],v=i.queue().length;l&&(a=parseInt(l[1],10)/100*g[s?0:1]),p.clip[u[0]]=a,m.clip[u[0]]=a,m.clip[u[1]]=0,o&&(i.cssClip(m.clip),f&&f.css(t.effects.clipToBox(m)),m.clip=d),i.queue(function(n){f&&f.animate(t.effects.clipToBox(p),h,e.easing).animate(t.effects.clipToBox(m),h,e.easing),n()}).animate(p,h,e.easing).animate(m,h,e.easing).queue(n),t.effects.unshift(i,v,4)}),t.effects.define("highlight","show",function(e,n){var i=t(this),r={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("size",function(e,n){var i,r,o,s=t(this),a=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=e.mode,h="effect"!==u,f=e.scale||"both",d=e.origin||["middle","center"],p=s.css("position"),m=s.position(),g=t.effects.scaledDimensions(s),v=e.from||g,y=e.to||t.effects.scaledDimensions(s,0);t.effects.createPlaceholder(s),"show"===u&&(o=v,v=y,y=o),r={from:{y:v.height/g.height,x:v.width/g.width},to:{y:y.height/g.height,x:y.width/g.width}},("box"===f||"both"===f)&&(r.from.y!==r.to.y&&(v=t.effects.setTransition(s,l,r.from.y,v),y=t.effects.setTransition(s,l,r.to.y,y)),r.from.x!==r.to.x&&(v=t.effects.setTransition(s,c,r.from.x,v),y=t.effects.setTransition(s,c,r.to.x,y))),("content"===f||"both"===f)&&r.from.y!==r.to.y&&(v=t.effects.setTransition(s,a,r.from.y,v),y=t.effects.setTransition(s,a,r.to.y,y)),d&&(i=t.effects.getBaseline(d,g),v.top=(g.outerHeight-v.outerHeight)*i.y+m.top,v.left=(g.outerWidth-v.outerWidth)*i.x+m.left,y.top=(g.outerHeight-y.outerHeight)*i.y+m.top,y.left=(g.outerWidth-y.outerWidth)*i.x+m.left),s.css(v),("content"===f||"both"===f)&&(l=l.concat(["marginTop","marginBottom"]).concat(a),c=c.concat(["marginLeft","marginRight"]),s.find("*[width]").each(function(){var n=t(this),i=t.effects.scaledDimensions(n),o={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},s={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(o=t.effects.setTransition(n,l,r.from.y,o),s=t.effects.setTransition(n,l,r.to.y,s)),r.from.x!==r.to.x&&(o=t.effects.setTransition(n,c,r.from.x,o),s=t.effects.setTransition(n,c,r.to.x,s)),h&&t.effects.saveStyle(n),n.css(o),n.animate(s,e.duration,e.easing,function(){h&&t.effects.restoreStyle(n)})})),s.animate(y,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=s.offset();0===y.opacity&&s.css("opacity",v.opacity),h||(s.css("position","static"===p?"relative":p).offset(e),t.effects.saveStyle(s)),n()}})}),t.effects.define("scale",function(e,n){var i=t(this),r=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==r?0:100),s=t.extend(!0,{from:t.effects.scaledDimensions(i),to:t.effects.scaledDimensions(i,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(s.from.opacity=1,s.to.opacity=0),t.effects.effect.size.call(this,s,n)}),t.effects.define("puff","hide",function(e,n){var i=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,i,n)}),t.effects.define("pulsate","show",function(e,n){var i=t(this),r=e.mode,o="show"===r,s="hide"===r,a=o||s,l=2*(e.times||5)+(a?1:0),c=e.duration/l,u=0,h=1,f=i.queue().length;for((o||!i.is(":visible"))&&(i.css("opacity",0).show(),u=1);l>h;h++)i.animate({opacity:u},c,e.easing),u=1-u;i.animate({opacity:u},c,e.easing),i.queue(n),t.effects.unshift(i,f,l+1)}),t.effects.define("shake",function(e,n){var i=1,r=t(this),o=e.direction||"left",s=e.distance||20,a=e.times||3,l=2*a+1,c=Math.round(e.duration/l),u="up"===o||"down"===o?"top":"left",h="up"===o||"left"===o,f={},d={},p={},m=r.queue().length;for(t.effects.createPlaceholder(r),f[u]=(h?"-=":"+=")+s,d[u]=(h?"+=":"-=")+2*s,p[u]=(h?"-=":"+=")+2*s,r.animate(f,c,e.easing);a>i;i++)r.animate(d,c,e.easing).animate(p,c,e.easing);r.animate(d,c,e.easing).animate(f,c/2,e.easing).queue(n),t.effects.unshift(r,m,l+1)}),t.effects.define("slide","show",function(e,n){var i,r,o=t(this),s={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=e.mode,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,h=e.distance||o["top"===c?"outerHeight":"outerWidth"](!0),f={};t.effects.createPlaceholder(o),i=o.cssClip(),r=o.position()[c],f[c]=(u?-1:1)*h+r,f.clip=o.cssClip(),f.clip[s[l][1]]=f.clip[s[l][0]],"show"===a&&(o.cssClip(f.clip),o.css(c,f[c]),f.clip=i,f[c]=r),o.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:n})});var c;t.uiBackCompat!==!1&&(c=t.effects.define("transfer",function(e,n){t(this).transfer(e,n)}))}),!function(t){"use strict";function e(){function t(i){var r=this;return r instanceof t?(i instanceof t?(r.s=i.s,r.e=i.e,r.c=i.c.slice()):n(r,i),void(r.constructor=t)):i===y?e():new t(i)}return t.prototype=v,t.DP=s,t.RM=a,t.NE=u,t.PE=h,t.version="5.0.2",t}function n(t,e){var n,i,r;if(0===e&&0>1/e)e="-0";else if(!b.test(e+=""))throw Error(d+"number");for(t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(0>n&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):0>n&&(n=e.length),r=e.length,i=0;r>i&&"0"==e.charAt(i);)++i;if(i==r)t.c=[t.e=0];else{for(;r>0&&"0"==e.charAt(--r););for(t.e=n-i-1,t.c=[],n=0;r>=i;)t.c[n++]=+e.charAt(i++)}return t}function i(t,e,n,i){var r=t.c,o=t.e+e+1;if(o<r.length){if(1===n)i=r[o]>=5;else if(2===n)i=r[o]>5||5==r[o]&&(i||0>o||r[o+1]!==y||1&r[o-1]);else if(3===n)i=i||r[o]!==y||0>o;else if(i=!1,0!==n)throw Error(m);if(1>o)r.length=1,i?(t.e=-e,r[0]=1):r[0]=t.e=0;else{if(r.length=o--,i)for(;++r[o]>9;)r[o]=0,o--||(++t.e,r.unshift(1));for(o=r.length;!r[--o];)r.pop()}}else if(0>n||n>3||n!==~~n)throw Error(m);return t}function r(t,e,n,r){var o,s,a=t.constructor,c=!t.c[0];if(n!==y){if(n!==~~n||(3==e)>n||n>l)throw Error(3==e?d+"precision":p);for(t=new a(t),n=r-t.e,t.c.length>++r&&i(t,n,a.RM),2==e&&(r=t.e+n+1);t.c.length<r;)t.c.push(0)}if(o=t.e,s=t.c.join(""),n=s.length,2!=e&&(1==e||3==e&&o>=r||o<=a.NE||o>=a.PE))s=s.charAt(0)+(n>1?"."+s.slice(1):"")+(0>o?"e":"e+")+o;else if(0>o){for(;++o;)s="0"+s;s="0."+s}else if(o>0)if(++o>n)for(o-=n;o--;)s+="0";else n>o&&(s=s.slice(0,o)+"."+s.slice(o));else n>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&(!c||4==e)?"-"+s:s}var o,s=20,a=1,l=1e6,c=1e6,u=-7,h=21,f="[big.js] ",d=f+"Invalid ",p=d+"decimal places",m=d+"rounding mode",g=f+"Division by zero",v={},y=void 0,b=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;v.abs=function(){var t=new this.constructor(this);return t.s=1,t},v.cmp=function(t){var e,n=this,i=n.c,r=(t=new n.constructor(t)).c,o=n.s,s=t.s,a=n.e,l=t.e;if(!i[0]||!r[0])return i[0]?o:r[0]?-s:0;if(o!=s)return o;if(e=0>o,a!=l)return a>l^e?1:-1;for(s=(a=i.length)<(l=r.length)?a:l,o=-1;++o<s;)if(i[o]!=r[o])return i[o]>r[o]^e?1:-1;return a==l?0:a>l^e?1:-1},v.div=function(t){var e=this,n=e.constructor,r=e.c,o=(t=new n(t)).c,s=e.s==t.s?1:-1,a=n.DP;if(a!==~~a||0>a||a>l)throw Error(p);if(!o[0])throw Error(g);if(!r[0])return new n(0*s);var c,u,h,f,d,m=o.slice(),v=c=o.length,b=r.length,w=r.slice(0,c),x=w.length,_=t,C=_.c=[],S=0,k=a+(_.e=e.e-t.e)+1;for(_.s=s,s=0>k?0:k,m.unshift(0);x++<c;)w.push(0);do{for(h=0;10>h;h++){if(c!=(x=w.length))f=c>x?1:-1;else for(d=-1,f=0;++d<c;)if(o[d]!=w[d]){f=o[d]>w[d]?1:-1;break}if(!(0>f))break;for(u=x==c?o:m;x;){if(w[--x]<u[x]){for(d=x;d&&!w[--d];)w[d]=9;--w[d],w[x]+=10}w[x]-=u[x]}for(;!w[0];)w.shift()}C[S++]=f?h:++h,w[0]&&f?w[x]=r[v]||0:w=[r[v]]}while((v++<b||w[0]!==y)&&s--);return C[0]||1==S||(C.shift(),_.e--),S>k&&i(_,a,n.RM,w[0]!==y),_},v.eq=function(t){return!this.cmp(t)},v.gt=function(t){return this.cmp(t)>0},v.gte=function(t){return this.cmp(t)>-1},v.lt=function(t){return this.cmp(t)<0},v.lte=function(t){return this.cmp(t)<1},v.minus=v.sub=function(t){var e,n,i,r,o=this,s=o.constructor,a=o.s,l=(t=new s(t)).s;if(a!=l)return t.s=-l,o.plus(t);var c=o.c.slice(),u=o.e,h=t.c,f=t.e;if(!c[0]||!h[0])return h[0]?(t.s=-l,t):new s(c[0]?o:0);if(a=u-f){for((r=0>a)?(a=-a,i=c):(f=u,i=h),i.reverse(),l=a;l--;)i.push(0);i.reverse()}else for(n=((r=c.length<h.length)?c:h).length,a=l=0;n>l;l++)if(c[l]!=h[l]){r=c[l]<h[l];break}if(r&&(i=c,c=h,h=i,t.s=-t.s),(l=(n=h.length)-(e=c.length))>0)for(;l--;)c[e++]=0;for(l=e;n>a;){if(c[--n]<h[n]){for(e=n;e&&!c[--e];)c[e]=9;--c[e],c[n]+=10}c[n]-=h[n]}for(;0===c[--l];)c.pop();for(;0===c[0];)c.shift(),--f;return c[0]||(t.s=1,c=[f=0]),t.c=c,t.e=f,t},v.mod=function(t){var e,n=this,i=n.constructor,r=n.s,o=(t=new i(t)).s;if(!t.c[0])throw Error(g);return n.s=t.s=1,e=1==t.cmp(n),n.s=r,t.s=o,e?new i(n):(r=i.DP,o=i.RM,i.DP=i.RM=0,n=n.div(t),i.DP=r,i.RM=o,this.minus(n.times(t)))},v.plus=v.add=function(t){var e,n=this,i=n.constructor,r=n.s,o=(t=new i(t)).s;if(r!=o)return t.s=-o,n.minus(t);var s=n.e,a=n.c,l=t.e,c=t.c;if(!a[0]||!c[0])return c[0]?t:new i(a[0]?n:0*r);if(a=a.slice(),r=s-l){for(r>0?(l=s,e=c):(r=-r,e=a),e.reverse();r--;)e.push(0);e.reverse()}for(a.length-c.length<0&&(e=c,c=a,a=e),r=c.length,o=0;r;a[r]%=10)o=(a[--r]=a[r]+c[r]+o)/10|0;for(o&&(a.unshift(o),++l),r=a.length;0===a[--r];)a.pop();return t.c=a,t.e=l,t},v.pow=function(t){var e=this,n=new e.constructor(1),i=n,r=0>t;if(t!==~~t||-c>t||t>c)throw Error(d+"exponent");for(r&&(t=-t);1&t&&(i=i.times(e)),t>>=1;)e=e.times(e);return r?n.div(i):i},v.round=function(t,e){var n=this.constructor;if(t===y)t=0;else if(t!==~~t||0>t||t>l)throw Error(p);return i(new n(this),t,e===y?n.RM:e)},v.sqrt=function(){var t,e,n,r=this,o=r.constructor,s=r.s,a=r.e,l=new o(.5);if(!r.c[0])return new o(r);if(0>s)throw Error(f+"No square root");s=Math.sqrt(r.toString()),0===s||s===1/0?(e=r.c.join(""),e.length+a&1||(e+="0"),t=new o(Math.sqrt(e).toString()),t.e=((a+1)/2|0)-(0>a||1&a)):t=new o(s.toString()),a=t.e+(o.DP+=4);do n=t,t=l.times(n.plus(r.div(n)));while(n.c.slice(0,a).join("")!==t.c.slice(0,a).join(""));return i(t,o.DP-=4,o.RM)},v.times=v.mul=function(t){var e,n=this,i=n.constructor,r=n.c,o=(t=new i(t)).c,s=r.length,a=o.length,l=n.e,c=t.e;if(t.s=n.s==t.s?1:-1,!r[0]||!o[0])return new i(0*t.s);for(t.e=l+c,a>s&&(e=r,r=o,o=e,c=s,s=a,a=c),e=new Array(c=s+a);c--;)e[c]=0;for(l=a;l--;){for(a=0,c=s+l;c>l;)a=e[c]+o[l]*r[c-l-1]+a,e[c--]=a%10,a=a/10|0;e[c]=(e[c]+a)%10}for(a?++t.e:e.shift(),l=e.length;!e[--l];)e.pop();return t.c=e,t},v.toExponential=function(t){return r(this,1,t,t)},v.toFixed=function(t){return r(this,2,t,this.e+t)},v.toPrecision=function(t){return r(this,3,t,t-1)},v.toString=function(){return r(this)},v.valueOf=v.toJSON=function(){return r(this,4)},o=e(),o.default=o.Big=o,"function"==typeof define&&define.amd?define(function(){return o}):"undefined"!=typeof module&&module.exports?module.exports=o:t.Big=o}(this),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(t){"use strict";t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;return t(this).one("bsTransitionEnd",function(){n=!0}),setTimeout(function(){n||t(i).trigger(t.support.transition.end)},e),this},t(function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.VERSION="3.4.0",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){s.detach().trigger("closed.bs.alert").remove()}var r=t(this),o=r.attr("data-target");o||(o=(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,"")),o="#"===o?[]:o;var s=t(document).find(o);e&&e.preventDefault(),s.length||(s=r.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof e&&r[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.button"),o="object"==typeof e&&e;r||i.data("bs.button",r=new n(this,o)),"toggle"==e?r.toggle():e&&r.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.4.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();e+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(t.proxy(function(){i[r](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target).closest(".btn");e.call(i,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),s="string"==typeof e?e:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof e?r.to(e):s?r[s]():o.interval&&r.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.4.0",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(e,r),s=this.interval,a="next"==e?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(o)]);h&&h.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),"object"==typeof o&&o.length&&o[0].offsetWidth,r.addClass(a),o.addClass(a),r.one("bsTransitionEnd",function(){o.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(f)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(f)),s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var r=function(n){var i=t(this),r=i.attr("href");r&&(r=r.replace(/.*(?=#[^\s]+$)/,""));var o=i.attr("data-target")||r,s=t(document).find(o);if(s.hasClass("carousel")){var a=t.extend({},s.data(),i.data()),l=i.attr("data-slide-to");l&&(a.interval=!1),e.call(s,a),l&&s.data("bs.carousel").to(l),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(document).find(i)}function n(e){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof e&&r[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.4.0",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"))&&e.transitioning)){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),e||r.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return r.call(this);this.$element[n](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var r=t(i);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n);
};var r=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=t(this);r.attr("data-target")||i.preventDefault();var o=e(r),s=o.data("bs.collapse")?"toggle":r.data();n.call(o,s)})}(jQuery),function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=(n=e.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(document).find(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(".dropdown-backdrop").remove(),t(i).each(function(){var i=t(this),r=e(i),o={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(r[0],n.target)||(r.trigger(n=t.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))}))}var i='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.4.0",r.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=e(r),s=o.hasClass("open");if(n(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var a={relatedTarget:this};if(o.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},r.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=t(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var o=e(r),s=o.hasClass("open");if(!s&&27!=n.which||s&&27==n.which)return 27==n.which&&o.find(i).trigger("focus"),r.trigger("click");var a=o.find(".dropdown-menu li:not(.disabled):visible a");if(a.length){var l=a.index(n.target);38==n.which&&0<l&&l--,40==n.which&&l<a.length-1&&l++,~l||(l=0),a.eq(l).trigger("focus")}}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",i,r.prototype.toggle).on("keydown.bs.dropdown.data-api",i,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new n(this,s)),"string"==typeof e?o[e](i):s.show&&o.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.4.0",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var n=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",e+n),t(this.fixedContent).each(function(e,i){var r=i.style.paddingRight,o=t(i).css("padding-right");t(i).data("padding-right",r).css("padding-right",parseFloat(o)+n+"px")}))},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),t(this.fixedContent).each(function(e,n){var i=t(n).data("padding-right");t(n).removeData("padding-right"),n.style.paddingRight=i||""})},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),o=i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,""),s=t(document).find(o),a=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},s.data(),i.data());i.is("a")&&n.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(s,a,this)})}(jQuery),function(t){"use strict";var e=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};e.VERSION="3.4.0",e.TRANSITION_DURATION=150,e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},e.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(document).find(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState)n.hoverState="in";else{if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)}},e.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)}},e.prototype.show=function(){var n=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(t(document).find(this.options.container)):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),h=o[0].offsetWidth,f=o[0].offsetHeight;if(c){var d=a,p=this.getPosition(this.$viewport);a="bottom"==a&&u.bottom+f>p.bottom?"top":"top"==a&&u.top-f<p.top?"bottom":"right"==a&&u.right+h>p.width?"left":"left"==a&&u.left-h<p.left?"right":a,o.removeClass(d).addClass(a)}var m=this.getCalculatedOffset(a,u,h,f);this.applyPlacement(m,a);var g=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(e.TRANSITION_DURATION):g()}},e.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(e.top=e.top+o-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var h=/top|bottom/.test(n),f=h?2*u.left-r+l:2*u.top-o+c,d=h?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(f,i[0][d],h)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(n){function i(){"in"!=r.hoverState&&o.detach(),r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),n&&n()}var r=this,o=t(this.$tip),s=t.Event("hide.bs."+this.type);if(this.$element.trigger(s),!s.isDefaultPrevented())return o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(e.TRANSITION_DURATION):i(),this.hoverState=null,this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(e){var n=(e=e||this.$element)[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=window.SVGElement&&n instanceof window.SVGElement,s=i?{top:0,left:0}:o?null:e.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,a,l,s)},e.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},e.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,l=e.top+o-s.scroll+i;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var c=e.left-o,u=e.left+o+n;c<s.left?r.left=s.left-c:u>s.right&&(r.left=s.left+s.width-u)}return r},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},e.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof n&&n;!r&&/destroy|hide/.test(n)||(r||i.data("bs.tooltip",r=new e(this,o)),"string"==typeof n&&r[n]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.VERSION="3.4.0",e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype)).constructor=e).prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),r=i.data("bs.popover"),o="object"==typeof n&&n;!r&&/destroy|hide/.test(n)||(r||i.data("bs.popover",r=new e(this,o)),"string"==typeof n&&r[n]())})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new e(this,o)),"string"==typeof n&&r[n]()})}e.VERSION="3.4.0",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),o=/^#./.test(r)&&t(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return s!=(t=o[o.length-1])&&this.activate(t);if(s&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(void 0===r[t+1]||e<r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.4.0",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),e.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=t(document).find(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(e,i,r){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var s=i.find("> .active"),a=r&&t.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var r=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.affix"),o="object"==typeof e&&e;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i);var r=this.options.target===n.DEFAULTS.target?t(this.options.target):t(document).find(this.options.target);this.$target=r.on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.4.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+s<=t-i)&&"bottom";var a=null==this.affixed,l=a?r:o.top;return null!=n&&r<=n?"top":null!=i&&t-i<=l+(a?s:e)&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var a=this.getState(s,e,r,o);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-o})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(t){!function(t){"use strict";function e(e){var n=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return t.each(n,function(){e=e?e.replace(this.re,this.ch):""}),e}function n(e){var n=arguments,i=e;[].shift.apply(n);var r,o=this.each(function(){var e=t(this);if(e.is("select")){var o=e.data("selectpicker"),s="object"==typeof i&&i;if(o){if(s)for(var a in s)s.hasOwnProperty(a)&&(o.options[a]=s[a])}else{var l=t.extend({},u.DEFAULTS,t.fn.selectpicker.defaults||{},e.data(),s);l.template=t.extend({},u.DEFAULTS.template,t.fn.selectpicker.defaults?t.fn.selectpicker.defaults.template:{},e.data().template,s.template),e.data("selectpicker",o=new u(this,l))}"string"==typeof i&&(r=o[i]instanceof Function?o[i].apply(o,n):o.options[i])}});return"undefined"!=typeof r?r:o}String.prototype.includes||!function(){var t={}.toString,e=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),n="".indexOf,i=function(e){if(null==this)throw new TypeError;var i=String(this);if(e&&"[object RegExp]"==t.call(e))throw new TypeError;var r=i.length,o=String(e),s=o.length,a=arguments.length>1?arguments[1]:void 0,l=a?Number(a):0;l!=l&&(l=0);var c=Math.min(Math.max(l,0),r);return!(s+c>r)&&n.call(i,o,l)!=-1};e?e(String.prototype,"includes",{value:i,configurable:!0,writable:!0}):String.prototype.includes=i}(),String.prototype.startsWith||!function(){var t=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),e={}.toString,n=function(t){if(null==this)throw new TypeError;var n=String(this);if(t&&"[object RegExp]"==e.call(t))throw new TypeError;var i=n.length,r=String(t),o=r.length,s=arguments.length>1?arguments[1]:void 0,a=s?Number(s):0;a!=a&&(a=0);var l=Math.min(Math.max(a,0),i);if(o+l>i)return!1;for(var c=-1;++c<o;)if(n.charCodeAt(l+c)!=r.charCodeAt(c))return!1;return!0};t?t(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n}(),Object.keys||(Object.keys=function(t,e,n){n=[];for(e in t)n.hasOwnProperty.call(t,e)&&n.push(e);return n});var i={useDefault:!1,_set:t.valHooks.select.set};t.valHooks.select.set=function(e,n){return n&&!i.useDefault&&t(e).data("selected",!0),i._set.apply(this,arguments)};var r=null;t.fn.triggerNative=function(t){var e,n=this[0];n.dispatchEvent?("function"==typeof Event?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event"),e.initEvent(t,!0,!1)),n.dispatchEvent(e)):n.fireEvent?(e=document.createEventObject(),e.eventType=t,n.fireEvent("on"+t,e)):this.trigger(t)},t.expr.pseudos.icontains=function(e,n,i){var r=t(e),o=(r.data("tokens")||r.text()).toString().toUpperCase();return o.includes(i[3].toUpperCase())},t.expr.pseudos.ibegins=function(e,n,i){var r=t(e),o=(r.data("tokens")||r.text()).toString().toUpperCase();return o.startsWith(i[3].toUpperCase())},t.expr.pseudos.aicontains=function(e,n,i){var r=t(e),o=(r.data("tokens")||r.data("normalizedText")||r.text()).toString().toUpperCase();return o.includes(i[3].toUpperCase())},t.expr.pseudos.aibegins=function(e,n,i){var r=t(e),o=(r.data("tokens")||r.data("normalizedText")||r.text()).toString().toUpperCase();return o.startsWith(i[3].toUpperCase())};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},s={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"},a=function(t){var e=function(e){return t[e]},n="(?:"+Object.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}},l=a(o),c=a(s),u=function(e,n){i.useDefault||(t.valHooks.select.set=i._set,i.useDefault=!0),this.$element=t(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=n,null===this.options.title&&(this.options.title=this.$element.attr("title"));var r=this.options.windowPadding;"number"==typeof r&&(this.options.windowPadding=[r,r,r,r]),this.val=u.prototype.val,this.render=u.prototype.render,this.refresh=u.prototype.refresh,this.setStyle=u.prototype.setStyle,this.selectAll=u.prototype.selectAll,this.deselectAll=u.prototype.deselectAll,this.destroy=u.prototype.destroy,this.remove=u.prototype.remove,this.show=u.prototype.show,this.hide=u.prototype.hide,this.init()};u.VERSION="1.12.2",u.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0
},u.prototype={constructor:u,init:function(){var e=this,n=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),this.options.dropdownAlignRight===!0&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof n&&(this.$button.attr("data-id",n),t('label[for="'+n+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!1),e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!0),e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){e.$button.addClass("bs-invalid").focus(),e.$element.on({"focus.bs.select":function(){e.$button.focus(),e.$element.off("focus.bs.select")},"shown.bs.select":function(){e.$element.val(e.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&e.$button.removeClass("bs-invalid"),e.$element.off("rendered.bs.select")}})}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",n=this.$element.parent().hasClass("input-group")?" input-group-btn":"",i=this.autofocus?" autofocus":"",r=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",o=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+l(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",s=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",a=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",c='<div class="btn-group bootstrap-select'+e+n+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+i+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open" role="combobox">'+r+o+s+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+a+"</div></div>";return t(c)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul")[0].innerHTML=e,t},reloadLi:function(){var t=this.createLi();this.$menuInner[0].innerHTML=t},createLi:function(){var n=this,i=[],r=0,o=document.createElement("option"),s=-1,a=function(t,e,n,i){return"<li"+("undefined"!=typeof n&""!==n?' class="'+n+'"':"")+("undefined"!=typeof e&null!==e?' data-original-index="'+e+'"':"")+("undefined"!=typeof i&null!==i?'data-optgroup="'+i+'"':"")+">"+t+"</li>"},c=function(i,r,o,s){return'<a tabindex="0"'+("undefined"!=typeof r?' class="'+r+'"':"")+(o?' style="'+o+'"':"")+(n.options.liveSearchNormalize?' data-normalized-text="'+e(l(t(i).html()))+'"':"")+("undefined"!=typeof s||null!==s?' data-tokens="'+s+'"':"")+' role="option">'+i+'<span class="'+n.options.iconBase+" "+n.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(s--,!this.$element.find(".bs-title-option").length)){var u=this.$element[0];o.className="bs-title-option",o.innerHTML=this.options.title,o.value="",u.insertBefore(o,u.firstChild);var h=t(u.options[u.selectedIndex]);void 0===h.attr("selected")&&void 0===this.$element.data("selected")&&(o.selected=!0)}return this.$element.find("option").each(function(e){var o=t(this);if(s++,!o.hasClass("bs-title-option")){var u=this.className||"",h=this.style.cssText,f=o.data("content")?o.data("content"):o.html(),d=o.data("tokens")?o.data("tokens"):null,p="undefined"!=typeof o.data("subtext")?'<small class="text-muted">'+o.data("subtext")+"</small>":"",m="undefined"!=typeof o.data("icon")?'<span class="'+n.options.iconBase+" "+o.data("icon")+'"></span> ':"",g=o.parent(),v="OPTGROUP"===g[0].tagName,y=v&&g[0].disabled,b=this.disabled||y;if(""!==m&&b&&(m="<span>"+m+"</span>"),n.options.hideDisabled&&(b&&!v||y))return void s--;if(o.data("content")||(f=m+'<span class="text">'+f+p+"</span>"),v&&o.data("divider")!==!0){if(n.options.hideDisabled&&b){if(void 0===g.data("allOptionsDisabled")){var w=g.children();g.data("allOptionsDisabled",w.filter(":disabled").length===w.length)}if(g.data("allOptionsDisabled"))return void s--}var x=" "+g[0].className||"";if(0===o.index()){r+=1;var _=g[0].label,C="undefined"!=typeof g.data("subtext")?'<small class="text-muted">'+g.data("subtext")+"</small>":"",S=g.data("icon")?'<span class="'+n.options.iconBase+" "+g.data("icon")+'"></span> ':"";_=S+'<span class="text">'+l(_)+C+"</span>",0!==e&&i.length>0&&(s++,i.push(a("",null,"divider",r+"div"))),s++,i.push(a(_,null,"dropdown-header"+x,r))}if(n.options.hideDisabled&&b)return void s--;i.push(a(c(f,"opt "+u+x,h,d),e,"",r))}else if(o.data("divider")===!0)i.push(a("",e,"divider"));else if(o.data("hidden")===!0)i.push(a(c(f,u,h,d),e,"hidden is-hidden"));else{var k=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName;if(!k&&n.options.hideDisabled)for(var E=t(this).prevAll(),T=0;T<E.length;T++)if("OPTGROUP"===E[T].tagName){for(var A=0,P=0;P<T;P++){var I=E[P];(I.disabled||t(I).data("hidden")===!0)&&A++}A===T&&(k=!0);break}k&&(s++,i.push(a("",null,"divider",r+"div"))),i.push(a(c(f,u,h,d),e))}n.liObj[e]=s}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),i.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var n,i=this;e!==!1&&this.$element.find("option").each(function(t){var e=i.findLis().eq(i.liObj[t]);i.setDisabled(t,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,e),i.setSelected(t,this.selected,e)}),this.togglePlaceholder(),this.tabIndex();var r=this.$element.find("option").map(function(){if(this.selected){if(i.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var e,n=t(this),r=n.data("icon")&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+n.data("icon")+'"></i> ':"";return e=i.options.showSubtext&&n.data("subtext")&&!i.multiple?' <small class="text-muted">'+n.data("subtext")+"</small>":"","undefined"!=typeof n.attr("title")?n.attr("title"):n.data("content")&&i.options.showContent?n.data("content").toString():r+n.html()+e}}).toArray(),o=this.multiple?r.join(this.options.multipleSeparator):r[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var s=this.options.selectedTextFormat.split(">");if(s.length>1&&r.length>s[1]||1==s.length&&r.length>=2){n=this.options.hideDisabled?", [disabled]":"";var a=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+n).length,l="function"==typeof this.options.countSelectedText?this.options.countSelectedText(r.length,a):this.options.countSelectedText;o=l.replace("{0}",r.length.toString()).replace("{1}",a.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(o=this.options.title),o||(o="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",c(t.trim(o.replace(/<[^>]*>?/g,"")))),this.$button.children(".filter-option").html(o),this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var n=t?t:this.options.style;"add"==e?this.$button.addClass(n):"remove"==e?this.$button.removeClass(n):(this.$button.removeClass(this.options.style),this.$button.addClass(n))},liHeight:function(e){if(e||this.options.size!==!1&&!this.sizeInfo){var n=document.createElement("div"),i=document.createElement("div"),r=document.createElement("ul"),o=document.createElement("li"),s=document.createElement("li"),a=document.createElement("a"),l=document.createElement("span"),c=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(!0):null,u=this.options.liveSearch?document.createElement("div"):null,h=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,f=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(l.className="text",n.className=this.$menu[0].parentNode.className+" open",i.className="dropdown-menu open",r.className="dropdown-menu inner",o.className="divider",l.appendChild(document.createTextNode("Inner text")),a.appendChild(l),s.appendChild(a),r.appendChild(s),r.appendChild(o),c&&i.appendChild(c),u){var d=document.createElement("input");u.className="bs-searchbox",d.className="form-control",u.appendChild(d),i.appendChild(u)}h&&i.appendChild(h),i.appendChild(r),f&&i.appendChild(f),n.appendChild(i),document.body.appendChild(n);var p=a.offsetHeight,m=c?c.offsetHeight:0,g=u?u.offsetHeight:0,v=h?h.offsetHeight:0,y=f?f.offsetHeight:0,b=t(o).outerHeight(!0),w="function"==typeof getComputedStyle&&getComputedStyle(i),x=w?null:t(i),_={vert:parseInt(w?w.paddingTop:x.css("paddingTop"))+parseInt(w?w.paddingBottom:x.css("paddingBottom"))+parseInt(w?w.borderTopWidth:x.css("borderTopWidth"))+parseInt(w?w.borderBottomWidth:x.css("borderBottomWidth")),horiz:parseInt(w?w.paddingLeft:x.css("paddingLeft"))+parseInt(w?w.paddingRight:x.css("paddingRight"))+parseInt(w?w.borderLeftWidth:x.css("borderLeftWidth"))+parseInt(w?w.borderRightWidth:x.css("borderRightWidth"))},C={vert:_.vert+parseInt(w?w.marginTop:x.css("marginTop"))+parseInt(w?w.marginBottom:x.css("marginBottom"))+2,horiz:_.horiz+parseInt(w?w.marginLeft:x.css("marginLeft"))+parseInt(w?w.marginRight:x.css("marginRight"))+2};document.body.removeChild(n),this.sizeInfo={liHeight:p,headerHeight:m,searchHeight:g,actionsHeight:v,doneButtonHeight:y,dividerHeight:b,menuPadding:_,menuExtras:C}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),this.options.size!==!1){var e,n,i,r,o,s,a,l,c=this,u=this.$menu,h=this.$menuInner,f=t(window),d=this.$newElement[0].offsetHeight,p=this.$newElement[0].offsetWidth,m=this.sizeInfo.liHeight,g=this.sizeInfo.headerHeight,v=this.sizeInfo.searchHeight,y=this.sizeInfo.actionsHeight,b=this.sizeInfo.doneButtonHeight,w=this.sizeInfo.dividerHeight,x=this.sizeInfo.menuPadding,_=this.sizeInfo.menuExtras,C=this.options.hideDisabled?".disabled":"",S=function(){var e,n=c.$newElement.offset(),i=t(c.options.container);c.options.container&&!i.is("body")?(e=i.offset(),e.top+=parseInt(i.css("borderTopWidth")),e.left+=parseInt(i.css("borderLeftWidth"))):e={top:0,left:0};var r=c.options.windowPadding;o=n.top-e.top-f.scrollTop(),s=f.height()-o-d-e.top-r[2],a=n.left-e.left-f.scrollLeft(),l=f.width()-a-p-e.left-r[1],o-=r[0],a-=r[3]};if(S(),"auto"===this.options.size){var k=function(){var f,d=function(e,n){return function(i){return n?i.classList?i.classList.contains(e):t(i).hasClass(e):!(i.classList?i.classList.contains(e):t(i).hasClass(e))}},w=c.$menuInner[0].getElementsByTagName("li"),C=Array.prototype.filter?Array.prototype.filter.call(w,d("hidden",!1)):c.$lis.not(".hidden"),k=Array.prototype.filter?Array.prototype.filter.call(C,d("dropdown-header",!0)):C.filter(".dropdown-header");S(),e=s-_.vert,n=l-_.horiz,c.options.container?(u.data("height")||u.data("height",u.height()),i=u.data("height"),u.data("width")||u.data("width",u.width()),r=u.data("width")):(i=u.height(),r=u.width()),c.options.dropupAuto&&c.$newElement.toggleClass("dropup",o>s&&e-_.vert<i),c.$newElement.hasClass("dropup")&&(e=o-_.vert),"auto"===c.options.dropdownAlignRight&&u.toggleClass("dropdown-menu-right",a>l&&n-_.horiz<r-p),f=C.length+k.length>3?3*m+_.vert-2:0,u.css({"max-height":e+"px",overflow:"hidden","min-height":f+g+v+y+b+"px"}),h.css({"max-height":e-g-v-y-b-x.vert+"px","overflow-y":"auto","min-height":Math.max(f-x.vert,0)+"px"})};k(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",k),f.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",k)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(C).length>this.options.size){var E=this.$lis.not(".divider").not(C).children().slice(0,this.options.size).last().parent().index(),T=this.$lis.slice(0,E+1).filter(".divider").length;e=m*this.options.size+T*w+x.vert,c.options.container?(u.data("height")||u.data("height",u.height()),i=u.data("height")):i=u.height(),c.options.dropupAuto&&this.$newElement.toggleClass("dropup",o>s&&e-_.vert<i),u.css({"max-height":e+g+v+y+b+"px",overflow:"hidden","min-height":""}),h.css({"max-height":e-x.vert+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var t=this.$menu.parent().clone().appendTo("body"),e=this.options.container?this.$newElement.clone().appendTo("body"):t,n=t.children(".dropdown-menu").outerWidth(),i=e.css("width","auto").children("button").outerWidth();t.remove(),e.remove(),this.$newElement.css("width",Math.max(n,i)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=t('<div class="bs-container" />');var e,n,i,r=this,o=t(this.options.container),s=function(t){r.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",t.hasClass("dropup")),e=t.offset(),o.is("body")?n={top:0,left:0}:(n=o.offset(),n.top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),n.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),i=t.hasClass("dropup")?0:t[0].offsetHeight,r.$bsContainer.css({top:e.top-n.top+i,left:e.left-n.left,width:t[0].offsetWidth})};this.$button.on("click",function(){var e=t(this);r.isDisabled()||(s(r.$newElement),r.$bsContainer.appendTo(r.options.container).toggleClass("open",!e.hasClass("open")).append(r.$menu))}),t(window).on("resize scroll",function(){s(r.$newElement)}),this.$element.on("hide.bs.select",function(){r.$menu.data("height",r.$menu.height()),r.$bsContainer.detach()})},setSelected:function(t,e,n){n||(this.togglePlaceholder(),n=this.findLis().eq(this.liObj[t])),n.toggleClass("selected",e).find("a").attr("aria-selected",e)},setDisabled:function(t,e,n){n||(n=this.findLis().eq(this.liObj[t])),e?n.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):n.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled").attr("aria-disabled",!1)),this.$button.attr("tabindex")!=-1||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!t.isDisabled()})},togglePlaceholder:function(){var t=this.$element.val();this.$button.toggleClass("bs-placeholder",null===t||""===t||t.constructor===Array&&0===t.length)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&this.$element.attr("tabindex")!==-98&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var e=this,n=t(document);n.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&n.data("spaceSelect")&&(t.preventDefault(),n.data("spaceSelect",!1))}),this.$button.on("click",function(){e.setSize()}),this.$element.on("shown.bs.select",function(){if(e.options.liveSearch||e.multiple){if(!e.multiple){var t=e.liObj[e.$element[0].selectedIndex];if("number"!=typeof t||e.options.size===!1)return;var n=e.$lis.eq(t)[0].offsetTop-e.$menuInner[0].offsetTop;n=n-e.$menuInner[0].offsetHeight/2+e.sizeInfo.liHeight/2,e.$menuInner[0].scrollTop=n}}else e.$menuInner.find(".selected a").focus()}),this.$menuInner.on("click","li a",function(n){var i=t(this),o=i.parent().data("originalIndex"),s=e.$element.val(),a=e.$element.prop("selectedIndex"),l=!0;if(e.multiple&&1!==e.options.maxOptions&&n.stopPropagation(),n.preventDefault(),!e.isDisabled()&&!i.parent().hasClass("disabled")){var c=e.$element.find("option"),u=c.eq(o),h=u.prop("selected"),f=u.parent("optgroup"),d=e.options.maxOptions,p=f.data("maxOptions")||!1;if(e.multiple){if(u.prop("selected",!h),e.setSelected(o,!h),i.blur(),d!==!1||p!==!1){var m=d<c.filter(":selected").length,g=p<f.find("option:selected").length;if(d&&m||p&&g)if(d&&1==d)c.prop("selected",!1),u.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected"),e.setSelected(o,!0);else if(p&&1==p){f.find("option:selected").prop("selected",!1),u.prop("selected",!0);var v=i.parent().data("optgroup");e.$menuInner.find('[data-optgroup="'+v+'"]').removeClass("selected"),e.setSelected(o,!0)}else{var y="string"==typeof e.options.maxOptionsText?[e.options.maxOptionsText,e.options.maxOptionsText]:e.options.maxOptionsText,b="function"==typeof y?y(d,p):y,w=b[0].replace("{n}",d),x=b[1].replace("{n}",p),_=t('<div class="notify"></div>');b[2]&&(w=w.replace("{var}",b[2][d>1?0:1]),x=x.replace("{var}",b[2][p>1?0:1])),u.prop("selected",!1),e.$menu.append(_),d&&m&&(_.append(t("<div>"+w+"</div>")),l=!1,e.$element.trigger("maxReached.bs.select")),p&&g&&(_.append(t("<div>"+x+"</div>")),l=!1,e.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){e.setSelected(o,!1)},10),_.delay(750).fadeOut(300,function(){t(this).remove()})}}}else c.prop("selected",!1),u.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),e.setSelected(o,!0);!e.multiple||e.multiple&&1===e.options.maxOptions?e.$button.focus():e.options.liveSearch&&e.$searchbox.focus(),l&&(s!=e.$element.val()&&e.multiple||a!=e.$element.prop("selectedIndex")&&!e.multiple)&&(r=[o,u.prop("selected"),h],e.$element.triggerNative("change"))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(n){n.currentTarget==this&&(n.preventDefault(),n.stopPropagation(),e.options.liveSearch&&!t(n.target).hasClass("close")?e.$searchbox.focus():e.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.focus():e.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){e.$button.click()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(n){e.options.liveSearch?e.$searchbox.focus():e.$button.focus(),n.preventDefault(),n.stopPropagation(),t(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll()}),this.$element.change(function(){e.render(!1),e.$element.trigger("changed.bs.select",r),r=null})},liveSearchListener:function(){var n=this,i=t('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api",function(){n.$menuInner.find(".active").removeClass("active"),n.$searchbox.val()&&(n.$searchbox.val(""),n.$lis.not(".is-hidden").removeClass("hidden"),i.parent().length&&i.remove()),n.multiple||n.$menuInner.find(".selected").addClass("active"),setTimeout(function(){n.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(n.$lis.not(".is-hidden").removeClass("hidden"),n.$lis.filter(".active").removeClass("active"),i.remove(),n.$searchbox.val()){var r,o=n.$lis.not(".is-hidden, .divider, .dropdown-header");if(r=n.options.liveSearchNormalize?o.find("a").not(":a"+n._searchStyle()+'("'+e(n.$searchbox.val())+'")'):o.find("a").not(":"+n._searchStyle()+'("'+n.$searchbox.val()+'")'),r.length===o.length)i.html(n.options.noneResultsText.replace("{0}",'"'+l(n.$searchbox.val())+'"')),n.$menuInner.append(i),n.$lis.addClass("hidden");else{r.parent().addClass("hidden");var s,a=n.$lis.not(".hidden");a.each(function(e){var n=t(this);n.hasClass("divider")?void 0===s?n.addClass("hidden"):(s&&s.addClass("hidden"),s=n):n.hasClass("dropdown-header")&&a.eq(e+1).data("optgroup")!==n.data("optgroup")?n.addClass("hidden"):s=null}),s&&s.addClass("hidden"),o.not(".hidden").first().addClass("active")}}})},_searchStyle:function(){var t={begins:"ibegins",startsWith:"ibegins"};return t[this.options.liveSearchStyle]||"icontains"},val:function(t){return"undefined"!=typeof t?(this.$element.val(t),this.render(),this.$element):this.$element.val()},changeAll:function(e){if(this.multiple){"undefined"==typeof e&&(e=!0),this.findLis();var n=this.$element.find("option"),i=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),r=i.length,o=[];if(e){if(i.filter(".selected").length===i.length)return}else if(0===i.filter(".selected").length)return;i.toggleClass("selected",e);for(var s=0;s<r;s++){var a=i[s].getAttribute("data-original-index");o[o.length]=n.eq(a)[0]}t(o).prop("selected",e),this.render(!1),this.togglePlaceholder(),this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){t=t||window.event,t&&t.stopPropagation(),this.$button.trigger("click")},keydown:function(n){var i,r,o,s,a,l,c,u,h,f=t(this),d=f.is("input")?f.parent().parent():f.parent(),p=d.data("this"),m=":not(.disabled, .hidden, .dropdown-header, .divider)",g={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(p.options.liveSearch&&(d=f.parent().parent()),p.options.container&&(d=p.$menu),i=t('[role="listbox"] li',d),h=p.$newElement.hasClass("open"),!h&&(n.keyCode>=48&&n.keyCode<=57||n.keyCode>=96&&n.keyCode<=105||n.keyCode>=65&&n.keyCode<=90))return p.options.container?p.$button.trigger("click"):(p.setSize(),p.$menu.parent().addClass("open"),h=!0),void p.$searchbox.focus();if(p.options.liveSearch&&(/(^9$|27)/.test(n.keyCode.toString(10))&&h&&(n.preventDefault(),n.stopPropagation(),p.$menuInner.click(),p.$button.focus()),i=t('[role="listbox"] li'+m,d),f.val()||/(38|40)/.test(n.keyCode.toString(10))||0===i.filter(".active").length&&(i=p.$menuInner.find("li"),i=p.options.liveSearchNormalize?i.filter(":a"+p._searchStyle()+"("+e(g[n.keyCode])+")"):i.filter(":"+p._searchStyle()+"("+g[n.keyCode]+")"))),i.length){if(/(38|40)/.test(n.keyCode.toString(10)))r=i.index(i.find("a").filter(":focus").parent()),s=i.filter(m).first().index(),a=i.filter(m).last().index(),o=i.eq(r).nextAll(m).eq(0).index(),l=i.eq(r).prevAll(m).eq(0).index(),c=i.eq(o).prevAll(m).eq(0).index(),p.options.liveSearch&&(i.each(function(e){t(this).hasClass("disabled")||t(this).data("index",e)}),r=i.index(i.filter(".active")),s=i.first().data("index"),a=i.last().data("index"),o=i.eq(r).nextAll().eq(0).data("index"),l=i.eq(r).prevAll().eq(0).data("index"),c=i.eq(o).prevAll().eq(0).data("index")),u=f.data("prevIndex"),38==n.keyCode?(p.options.liveSearch&&r--,r!=c&&r>l&&(r=l),r<s&&(r=s),r==u&&(r=a)):40==n.keyCode&&(p.options.liveSearch&&r++,r==-1&&(r=0),r!=c&&r<o&&(r=o),r>a&&(r=a),r==u&&(r=s)),f.data("prevIndex",r),p.options.liveSearch?(n.preventDefault(),f.hasClass("dropdown-toggle")||(i.removeClass("active").eq(r).addClass("active").children("a").focus(),f.focus())):i.eq(r).children("a").focus();else if(!f.is("input")){var v,y,b=[];i.each(function(){t(this).hasClass("disabled")||t.trim(t(this).children("a").text().toLowerCase()).substring(0,1)==g[n.keyCode]&&b.push(t(this).index())}),v=t(document).data("keycount"),v++,t(document).data("keycount",v),y=t.trim(t(":focus").text().toLowerCase()).substring(0,1),y!=g[n.keyCode]?(v=1,t(document).data("keycount",v)):v>=b.length&&(t(document).data("keycount",0),v>b.length&&(v=1)),i.eq(b[v-1]).children("a").focus()}if((/(13|32)/.test(n.keyCode.toString(10))||/(^9$)/.test(n.keyCode.toString(10))&&p.options.selectOnTab)&&h){if(/(32)/.test(n.keyCode.toString(10))||n.preventDefault(),p.options.liveSearch)/(32)/.test(n.keyCode.toString(10))||(p.$menuInner.find(".active a").click(),f.focus());else{var w=t(":focus");w.click(),w.focus(),n.preventDefault(),t(document).data("spaceSelect",!0)}t(document).data("keycount",0)}(/(^9$|27)/.test(n.keyCode.toString(10))&&h&&(p.multiple||p.options.liveSearch)||/(27)/.test(n.keyCode.toString(10))&&!h)&&(p.$menu.parent().removeClass("open"),p.options.container&&p.$newElement.removeClass("open"),p.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var h=t.fn.selectpicker;t.fn.selectpicker=n,t.fn.selectpicker.Constructor=u,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=h,this},t(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',u.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(t){t.stopPropagation()}),t(window).on("load.bs.select.data-api",function(){t(".selectpicker").each(function(){var e=t(this);n.call(e,e.data())})})}(t)}),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(e){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(e){var n=this;return e=t.grep(e,function(t){return n.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,n=[],i=[],r=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?i.push(e):r.push(e):n.push(e);return n.concat(i,r)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var n=this;return e=t(e).map(function(e,i){return e=t(n.options.item).attr("data-value",i),e.find("a").html(n.highlighter(i)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(e){var n=this.$menu.find(".active").removeClass("active"),i=n.next();i.length||(i=t(this.$menu.find("li")[0])),i.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active"),n=e.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(t){this.focused=!0},blur:function(t){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=t.fn.typeahead;t.fn.typeahead=function(n){return this.each(function(){var i=t(this),r=i.data("typeahead"),o="object"==typeof n&&n;
r||i.data("typeahead",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var n=t(this);n.data("typeahead")||n.typeahead(n.data())})}(window.jQuery),!function(t){"use strict";var e=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,n=t.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),i=n&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,o=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,s=(n||r)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(t){var e,s,a,l,c,u,h,f,d;if(!(e=t.match(o)))throw new Error("invalid data URI");for(s=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),a=!!e[4],l=t.slice(e[0].length),c=a?atob(l):decodeURIComponent(l),u=new ArrayBuffer(c.length),h=new Uint8Array(u),f=0;f<c.length;f+=1)h[f]=c.charCodeAt(f);return n?new Blob([i?h:u],{type:s}):((d=new r).append(u),d.getBlob(s))};t.HTMLCanvasElement&&!e.toBlob&&(e.mozGetAsFile?e.toBlob=function(t,n,i){var r=this;setTimeout(function(){t(i&&e.toDataURL&&s?s(r.toDataURL(n,i)):r.mozGetAsFile("blob",n))})}:e.toDataURL&&s&&(e.toBlob=function(t,e,n){var i=this;setTimeout(function(){t(s(i.toDataURL(e,n)))})})),"function"==typeof define&&define.amd?define(function(){return s}):"object"==typeof module&&module.exports?module.exports=s:t.dataURLtoBlob=s}(window),function(){function t(t){if(!t||"function"!=typeof t.getImageData)return console.error("context blender called without a valid context prototype");Object.defineProperty(t,"blendOnto",{value:e});for(var n=e.supportedBlendModes="normal src-over screen multiply difference src-in plus add overlay hardlight colordodge dodge colorburn burn darken darker lighten lighter exclusion softlight luminosity color hue saturation lightercolor darkercolor".split(" "),i=e.supports={},r=n.length;r--;)i[n[r]]=!0;return e.aliases={"src-over":"normal",plus:"add",dodge:"colordodge",burn:"colorburn",darker:"darken",lighter:"lighten"},t}function e(t,e,i){function r(t,e){var n=e<<1;return e<128?t*(n+(t*(255-n)>>8))>>8:t*(511-n)+Math.sqrt(t<<8)*(n-255)>>8}function o(t,e){return t<128?t*e>>7:255-((255-e)*(255-t)>>7)}function s(t,e){return 255==e&&0==t?255:Math.min(255,(t<<8)/(255-e))}function a(t,e){return 255==e&&0==t?0:255-Math.min(255,(255-t<<8)/e)}function l(t,e,n){return{r:.299*t+.587*e+.114*n,g:-.1687*t-.3313*e+.5*n,b:.5*t-.4187*e-.0813*n}}function c(t,e,n){return{r:t+1.402*n,g:t-.3441*e-.7141*n,b:t+1.772*e}}function u(t,e,n){var i=l(t,e,n),r=Math.sqrt(i.g*i.g+i.b*i.b),o=Math.atan2(i.g,i.b);return{h:o,s:r,v:i.r}}function h(t,e,n){var i=e*Math.sin(t),r=e*Math.cos(t);return c(n,i,r)}var f={};for(var d in n)n.hasOwnProperty(d)&&(f[d]=i&&i[d]||n[d]);"auto"==f.width&&(f.width=this.canvas.width),"auto"==f.height&&(f.height=this.canvas.height),f.width=Math.min(f.width,this.canvas.width-f.sourceX,t.canvas.width-f.destX),f.height=Math.min(f.height,this.canvas.height-f.sourceY,t.canvas.height-f.destY);for(var p,m,g,v,y,b,w,x,_,C,S,k,E,T,A,P,I=this.getImageData(f.sourceX,f.sourceY,f.width,f.height),D=t.getImageData(f.destX,f.destY,f.width,f.height),O=I.data,j=D.data,N=j.length,R=0;R<N;R+=4){p=O[R+3]/255,m=j[R+3]/255,_=p+m-p*m,j[R+3]=255*_,C=j[R],S=j[R+1],k=j[R+2],E=O[R],T=O[R+1],A=O[R+2],g=E/255*p,b=C/255*m,v=T/255*p,w=S/255*m,y=A/255*p,x=k/255*m,P=255/_;var M=m*p,$=m-M,L=p-M;switch(e){case"normal":case"src-over":j[R]=(g+b-b*p)*P,j[R+1]=(v+w-w*p)*P,j[R+2]=(y+x-x*p)*P;break;case"screen":j[R]=(g+b-g*b)*P,j[R+1]=(v+w-v*w)*P,j[R+2]=(y+x-y*x)*P;break;case"multiply":j[R]=(g*b+g*(1-m)+b*(1-p))*P,j[R+1]=(v*w+v*(1-m)+w*(1-p))*P,j[R+2]=(y*x+y*(1-m)+x*(1-p))*P;break;case"difference":j[R]=(g+b-2*Math.min(g*m,b*p))*P,j[R+1]=(v+w-2*Math.min(v*m,w*p))*P,j[R+2]=(y+x-2*Math.min(y*m,x*p))*P;break;case"src-in":_=p*m,P=255/_,j[R]=g*m*P,j[R+1]=v*m*P,j[R+2]=y*m*P,j[R+3]=255*_;break;case"plus":case"add":j[R]=Math.min(g+b,1)*P,j[R+1]=Math.min(v+w,1)*P,j[R+2]=Math.min(y+x,1)*P;break;case"overlay":j[R]=M*o(C,E)+$*C+L*E,j[R+1]=M*o(S,T)+$*S+L*T,j[R+2]=M*o(k,A)+$*k+L*A;break;case"hardlight":j[R]=M*o(E,C)+$*C+L*E,j[R+1]=M*o(T,S)+$*S+L*T,j[R+2]=M*o(A,k)+$*k+L*A;break;case"colordodge":case"dodge":j[R]=M*s(C,E)+$*C+L*E,j[R+1]=M*s(S,T)+$*S+L*T,j[R+2]=M*s(k,A)+$*k+L*A;break;case"colorburn":case"burn":j[R]=M*a(C,E)+$*C+L*E,j[R+1]=M*a(S,T)+$*S+L*T,j[R+2]=M*a(k,A)+$*k+L*A;break;case"darken":case"darker":j[R]=M*(C<E?C:E)+$*C+L*E,j[R+1]=M*(S<T?S:T)+$*S+L*T,j[R+2]=M*(k<A?k:A)+$*k+L*A;break;case"lighten":case"lighter":j[R]=(g<b?b:g)*P,j[R+1]=(v<w?w:v)*P,j[R+2]=(y<x?x:y)*P;break;case"exclusion":j[R]=(b+g-2*b*g)*P,j[R+1]=(w+v-2*w*v)*P,j[R+2]=(x+y-2*x*y)*P;break;case"softlight":j[R]=M*r(C,E)+$*C+L*E,j[R+1]=M*r(S,T)+$*S+L*T,j[R+2]=M*r(k,A)+$*k+L*A;break;case"luminosity":var H=l(C,S,k),F=l(E,T,A),z=c(F.r,H.g,H.b);j[R]=M*z.r+$*C+L*E,j[R+1]=M*z.g+$*S+L*T,j[R+2]=M*z.b+$*k+L*A;break;case"color":var H=l(C,S,k),F=l(E,T,A),z=c(H.r,F.g,F.b);j[R]=M*z.r+$*C+L*E,j[R+1]=M*z.g+$*S+L*T,j[R+2]=M*z.b+$*k+L*A;break;case"hue":var H=u(C,S,k),F=u(E,T,A),z=h(F.h,H.s,H.v);j[R]=M*z.r+$*C+L*E,j[R+1]=M*z.g+$*S+L*T,j[R+2]=M*z.b+$*k+L*A;break;case"saturation":var H=u(C,S,k),F=u(E,T,A),z=h(H.h,F.s,H.v);j[R]=M*z.r+$*C+L*E,j[R+1]=M*z.g+$*S+L*T,j[R+2]=M*z.b+$*k+L*A;break;case"lightercolor":var z=2.623*(C-E)+5.15*(S-T)+k-A>0?{r:C,g:S,b:k}:{r:E,g:T,b:A};j[R]=M*z.r+$*C+L*E,j[R+1]=M*z.g+$*S+L*T,j[R+2]=M*z.b+$*k+L*A;break;case"darkercolor":var z=2.623*(C-E)+5.15*(S-T)+k-A<0?{r:C,g:S,b:k}:{r:E,g:T,b:A};j[R]=M*z.r+$*C+L*E,j[R+1]=M*z.g+$*S+L*T,j[R+2]=M*z.b+$*k+L*A;break;default:var B=R/4%this.canvas.width,q=Math.floor(R/4/this.canvas.width),W=B%8<4&&q%8<4||B%8>3&&q%8>3;j[R]=j[R+3]=255,j[R+1]=W?255:0,j[R+2]=W?0:255}}t.putImageData(D,f.destX,f.destY)}var n={destX:0,destY:0,sourceX:0,sourceY:0,width:"auto",height:"auto"};if("function"==typeof require&&"object"==typeof module){var i=require("canvas");t(i.Context2d.prototype),module.exports=i}else t(this.CanvasRenderingContext2D&&this.CanvasRenderingContext2D.prototype)}(),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Dexie=e()}(this,function(){"use strict";function t(t,e){return"object"!=typeof e?t:(St(e).forEach(function(n){t[n]=e[n]}),t)}function e(t,e){return At.call(t,e)}function n(t,e){"function"==typeof e&&(e=e(Tt(t))),St(e).forEach(function(n){i(t,n,e[n])})}function i(n,i,r,o){Object.defineProperty(n,i,t(r&&e(r,"get")&&"function"==typeof r.get?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},o))}function r(t){return{from:function(e){return t.prototype=Object.create(e.prototype),i(t.prototype,"constructor",t),{extend:n.bind(null,t.prototype)}}}}function o(t,e){var n,i=Pt(t,e);return i||(n=Tt(t))&&o(n,e)}function s(t,e,n){return It.call(t,e,n)}function a(t,e){return e(t)}function l(t){var e=setTimeout(t,1e3);clearTimeout(e)}function c(t){if(!t)throw new Error("Assertion Failed")}function u(t){Et.setImmediate?setImmediate(t):setTimeout(t,0)}function h(t,e){return t.reduce(function(t,n,i){var r=e(n,i);return r&&(t[r[0]]=r[1]),t},{})}function f(t,e){return function(){try{t.apply(this,arguments)}catch(t){e(t)}}}function d(t,e,n){try{t.apply(null,n)}catch(t){e&&e(t)}}function p(t,n){if(e(t,n))return t[n];if(!n)return t;if("string"!=typeof n){for(var i=[],r=0,o=n.length;r<o;++r){var s=p(t,n[r]);i.push(s)}return i}var a=n.indexOf(".");if(a!==-1){var l=t[n.substr(0,a)];return void 0===l?void 0:p(l,n.substr(a+1))}}function m(t,e,n){if(t&&void 0!==e&&!("isFrozen"in Object&&Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){c("string"!=typeof n&&"length"in n);for(var i=0,r=e.length;i<r;++i)m(t,e[i],n[i])}else{var o=e.indexOf(".");if(o!==-1){var s=e.substr(0,o),a=e.substr(o+1);if(""===a)void 0===n?delete t[s]:t[s]=n;else{var l=t[s];l||(l=t[s]={}),m(l,a,n)}}else void 0===n?delete t[e]:t[e]=n}}function g(t,e){"string"==typeof e?m(t,e,void 0):"length"in e&&[].map.call(e,function(e){m(t,e,void 0)})}function v(t){var n={};for(var i in t)e(t,i)&&(n[i]=t[i]);return n}function y(t){if(!t||"object"!=typeof t)return t;var n;if(kt(t)){n=[];for(var i=0,r=t.length;i<r;++i)n.push(y(t[i]))}else if(t instanceof Date)n=new Date,n.setTime(t.getTime());else{n=t.constructor?Object.create(t.constructor.prototype):{};for(var o in t)e(t,o)&&(n[o]=y(t[o]))}return n}function b(t,n,i,r){return i=i||{},r=r||"",St(t).forEach(function(o){if(e(n,o)){var s=t[o],a=n[o];"object"==typeof s&&"object"==typeof a&&s&&a&&s.constructor===a.constructor?b(s,a,i,r+o+"."):s!==a&&(i[r+o]=n[o])}else i[r+o]=void 0}),St(n).forEach(function(o){e(t,o)||(i[r+o]=n[o])}),i}function w(t){var e,n,i,r;if(1===arguments.length){if(kt(t))return t.slice();if(this===jt&&"string"==typeof t)return[t];if(r=Ot(t)){for(n=[];i=r.next(),!i.done;)n.push(i.value);return n}if(null==t)return[t];if(e=t.length,"number"==typeof e){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}function x(t){return Nt.apply([],t)}function _(){}function C(t){return t}function S(t,e){return null==t||t===C?e:function(n){return e(t(n))}}function k(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function E(t,e){return t===_?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var i=this.onsuccess,r=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?k(i,this.onsuccess):i),r&&(this.onerror=this.onerror?k(r,this.onerror):r),void 0!==o?o:n}}function T(t,e){return t===_?e:function(){t.apply(this,arguments);var n=this.onsuccess,i=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?k(n,this.onsuccess):n),i&&(this.onerror=this.onerror?k(i,this.onerror):i)}}function A(e,n){return e===_?n:function(i){var r=e.apply(this,arguments);t(i,r);var o=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=n.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?k(o,this.onsuccess):o),s&&(this.onerror=this.onerror?k(s,this.onerror):s),void 0===r?void 0===a?void 0:a:t(r,a)}}function P(t,e){return t===_?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function I(t,e){return t===_?e:function(){var n=t.apply(this,arguments);if(n&&"function"==typeof n.then){for(var i=this,r=arguments.length,o=new Array(r);r--;)o[r]=arguments[r];return n.then(function(){return e.apply(i,o)})}return e.apply(this,arguments)}}function D(t,e){Rt=t,Mt=e}function O(){if($t)try{throw O.arguments,new Error}catch(t){return t}return new Error}function j(t,e){var n=t.stack;return n?(e=e||0,0===n.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),n.split("\n").slice(e).filter(Mt).map(function(t){return"\n"+t}).join("")):""}function N(t,e){return function(){return console.warn(t+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+j(O(),1)),e.apply(this,arguments)}}function R(t,e){this._e=O(),this.name=t,this.message=e}function M(t,e){return t+". Errors: "+e.map(function(t){return t.toString()}).filter(function(t,e,n){return n.indexOf(t)===e}).join("\n")}function $(t,e,n,i){this._e=O(),this.failures=e,this.failedKeys=i,this.successCount=n}function L(t,e){this._e=O(),this.name="BulkError",this.failures=e,this.message=M(t,e)}function H(t,e){if(!t||t instanceof R||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Ut[t.name])return t;var n=new Ut[t.name](e||t.message,t);return"stack"in t&&i(n,"stack",{get:function(){return this.inner.stack}}),n}function F(t){function e(t,e,o){if("object"==typeof t)return n(t);e||(e=P),o||(o=_);var s={subscribers:[],fire:o,subscribe:function(t){s.subscribers.indexOf(t)===-1&&(s.subscribers.push(t),s.fire=e(s.fire,t))},unsubscribe:function(t){s.subscribers=s.subscribers.filter(function(e){return e!==t}),s.fire=s.subscribers.reduce(e,o)}};return i[t]=r[t]=s,s}function n(t){St(t).forEach(function(n){var i=t[n];if(kt(i))e(n,t[n][0],t[n][1]);else{if("asap"!==i)throw new Wt.InvalidArgument("Invalid event config");var r=e(n,C,function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];r.subscribers.forEach(function(t){u(function(){t.apply(null,e)})})})}})}var i={},r=function(e,n){if(n){for(var r=arguments.length,o=new Array(r-1);--r;)o[r-1]=arguments[r];return i[e].subscribe.apply(null,o),t}if("string"==typeof e)return i[e]};r.addEventType=e;for(var o=1,s=arguments.length;o<s;++o)e(arguments[o]);return r}function z(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=_,this._lib=!1;var e=this._PSD=se;if(Rt&&(this._stackHolder=O(),this._prev=null,this._numPrev=0,V(this,ie)),"function"!=typeof t){if(t!==Qt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&W(this,this._value))}this._state=null,this._value=null,++e.ref,q(this,t)}function B(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i,this.psd=se}function q(t,e){try{e(function(e){if(null===t._state){if(e===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&G();e&&"function"==typeof e.then?q(t,function(t,n){e instanceof z?e._then(t,n):e.then(t,n)}):(t._state=!0,t._value=e,U(t)),n&&J()}},W.bind(null,t))}catch(e){W(t,e)}}function W(t,e){if(ne.push(e),null===t._state){var n=t._lib&&G();e=re(e),t._state=!1,t._value=e,Rt&&null!==e&&"object"==typeof e&&!e._promise&&d(function(){var n=o(e,"stack");e._promise=t,i(e,"stack",{get:function(){return Kt?n&&(n.get?n.get.apply(e):n.value):t.stack}})}),et(t),U(t),n&&J()}}function U(t){var e=t._listeners;t._listeners=[];for(var n=0,i=e.length;n<i;++n)X(t,e[n]);var r=t._PSD;--r.ref||r.finalize(),0===le&&(++le,Jt(function(){0===--le&&Z()},[]))}function X(t,e){if(null===t._state)return void t._listeners.push(e);var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);var i=e.psd;++i.ref,++le,Jt(Q,[n,t,e])}function Q(t,e,n){var i=se,r=n.psd;try{r!==i&&(se=r),ie=e;var o,s=e._value;e._state?o=t(s):(ne.length&&(ne=[]),o=t(s),ne.indexOf(s)===-1&&nt(e)),n.resolve(o)}catch(t){n.reject(t)}finally{r!==i&&(se=i),ie=null,0===--le&&Z(),--r.ref||r.finalize()}}function Y(t,e,n){if(e.length===n)return e;var i="";if(t._state===!1){var r,o,s=t._value;null!=s?(r=s.name||"Error",o=s.message||s,i=j(s,0)):(r=s,o=""),e.push(r+(o?": "+o:"")+i)}return Rt&&(i=j(t._stackHolder,2),i&&e.indexOf(i)===-1&&e.push(i),t._prev&&Y(t._prev,e,n)),e}function V(t,e){var n=e?e._numPrev+1:0;n<Yt&&(t._prev=e,t._numPrev=n)}function K(){G()&&J()}function G(){var t=Zt;return Zt=!1,te=!1,t}function J(){var t,e,n;do for(;ae.length>0;)for(t=ae,ae=[],n=t.length,e=0;e<n;++e){var i=t[e];i[0].apply(null,i[1])}while(ae.length>0);Zt=!0,te=!0}function Z(){var t=ee;ee=[],t.forEach(function(t){t._PSD.onunhandled.call(null,t._value,t)});for(var e=ce.slice(0),n=e.length;n;)e[--n]()}function tt(t){function e(){t(),ce.splice(ce.indexOf(e),1)}ce.push(e),++le,Jt(function(){0===--le&&Z()},[])}function et(t){ee.some(function(e){return e._value===t._value})||ee.push(t)}function nt(t){for(var e=ee.length;e;)if(ee[--e]._value===t._value)return void ee.splice(e,1)}function it(t){console.warn("Unhandled rejection: "+(t.stack||t))}function rt(t){return new z(Qt,!1,t)}function ot(t,e){var n=se;return function(){var i=G(),r=se;try{return r!==n&&(se=n),t.apply(this,arguments)}catch(t){e&&e(t)}finally{r!==n&&(se=r),i&&J()}}}function st(t,e,n,i){var r=se,o=Object.create(r);o.parent=r,o.ref=0,o.global=!1,++r.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=at(o,t,e,n,i);return 0===o.ref&&o.finalize(),s}function at(t,e,n,i,r){var o=se;try{return t!==o&&(se=t),e(n,i,r)}finally{t!==o&&(se=o)}}function lt(e,n){var i;try{i=n.onuncatched(e)}catch(t){}if(i!==!1)try{var r,o={promise:n,reason:e};if(Et.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(he,!0,!0),t(r,o)):Et.CustomEvent&&(r=new CustomEvent(he,{detail:o}),t(r,o)),r&&Et.dispatchEvent&&(dispatchEvent(r),!Et.PromiseRejectionEvent&&Et.onunhandledrejection))try{Et.onunhandledrejection(r)}catch(t){}r.defaultPrevented||z.on.error.fire(e,n)}catch(t){}}function ct(t,e){var n=z.reject(t);return e?n.uncaught(e):n}function ut(o,u){function g(){ie.on("versionchange",function(t){t.newVersion>0?console.warn("Another connection wants to upgrade database '"+ie.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+ie.name+"'. Closing db now to resume the delete request."),ie.close()}),ie.on("blocked",function(t){!t.newVersion||t.newVersion<t.oldVersion?console.warn("Dexie.delete('"+ie.name+"') was blocked"):console.warn("Upgrade '"+ie.name+"' blocked by other connection holding version "+t.oldVersion/10)})}function k(t){this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function P(t,e,n){var i=ie._createTransaction(ne,Vt,Qt);i.create(e),i._completion.catch(n);var r=i._reject.bind(i);st(function(){se.trans=i,0===t?(St(Qt).forEach(function(t){R(e,t,Qt[t].primKey,Qt[t].indexes)}),z.follow(function(){return ie.on.populate.fire(i)}).catch(r)):D(t,i,e).catch(r)})}function D(t,e,n){function i(){return r.length?z.resolve(r.shift()(e.idbtrans)).then(i):z.resolve()}var r=[],o=Yt.filter(function(e){return e._cfg.version===t})[0];if(!o)throw new Wt.Upgrade("Dexie specification of currently installed DB version is missing");Qt=ie._dbSchema=o._cfg.dbschema;var s=!1,a=Yt.filter(function(e){return e._cfg.version>t});return a.forEach(function(t){r.push(function(){var i=Qt,r=t._cfg.dbschema;Nt(i,n),Nt(r,n),Qt=ie._dbSchema=r;var o=j(i,r);if(o.add.forEach(function(t){R(n,t[0],t[1].primKey,t[1].indexes)}),o.change.forEach(function(t){if(t.recreate)throw new Wt.Upgrade("Not yet support for changing primary key");var e=n.objectStore(t.name);t.add.forEach(function(t){B(e,t)}),t.change.forEach(function(t){e.deleteIndex(t.name),B(e,t)}),t.del.forEach(function(t){e.deleteIndex(t)})}),t._cfg.contentUpgrade)return s=!0,z.follow(function(){t._cfg.contentUpgrade(e)})}),r.push(function(e){if(!s||!be){var n=t._cfg.dbschema;H(n,e)}})}),i().then(function(){M(Qt,n)})}function j(t,e){var n={del:[],add:[],change:[]};for(var i in t)e[i]||n.del.push(i);for(i in e){var r=t[i],o=e[i];if(r){var s={name:i,def:o,recreate:!1,del:[],add:[],change:[]};if(r.primKey.src!==o.primKey.src)s.recreate=!0,n.change.push(s);else{var a=r.idxByName,l=o.idxByName;for(var c in a)l[c]||s.del.push(c);for(c in l){var u=a[c],h=l[c];u?u.src!==h.src&&s.change.push(h):s.add.push(h)}(s.del.length>0||s.add.length>0||s.change.length>0)&&n.change.push(s)}}else n.add.push([i,o])}return n}function R(t,e,n,i){var r=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return i.forEach(function(t){B(r,t)}),r}function M(t,e){St(t).forEach(function(n){e.db.objectStoreNames.contains(n)||R(e,n,t[n].primKey,t[n].indexes)})}function H(t,e){for(var n=0;n<e.db.objectStoreNames.length;++n){var i=e.db.objectStoreNames[n];null==t[i]&&e.db.deleteObjectStore(i)}}function B(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function q(t){return ie.on.error.fire(t)}function W(t,e,n){if(te||se.letThrough){var i=ie._createTransaction(t,e,Qt);return i._promise(t,function(t,e){st(function(){se.trans=i,n(t,e,i)})}).then(function(t){return i._completion.then(function(){return t})})}if(!Zt){if(!qt)return ct(new Wt.DatabaseClosed,q);ie.open().catch(_)}return re.then(function(){return W(t,e,n)})}function U(t,e,n){this.name=t,this.schema=e,this.hook=Kt[t]?Kt[t].hook:F(null,{creating:[E,_],reading:[S,C],updating:[A,_],deleting:[T,_]}),this._collClass=n||G}function X(t,e,n){U.call(this,t,e,n||Z)}function Q(t,e,n){return(n?gt:mt)(function(n){t.push(n),e&&e()})}function Y(t,e,n,i,r){return new z(function(o,s){var a=n.length,l=a-1;if(0===a)return o();if(i){var c,u=gt(s),h=pt(null);d(function(){for(var i=0;i<a;++i){c={onsuccess:null,onerror:null};var s=n[i];r.call(c,s[0],s[1],e);var f=t.delete(s[0]);f._hookCtx=c,f.onerror=u,i===l?f.onsuccess=pt(o):f.onsuccess=h}},function(t){throw c.onerror&&c.onerror(t),t})}else for(var f=0;f<a;++f){var p=t.delete(n[f]);p.onerror=ot(mt(s)),f===l&&(p.onsuccess=ot(function(){return o()}))}}).uncaught(q)}function V(t,e,n,i){var r=this;this.db=ie,this.mode=t,this.storeNames=e,this.idbtrans=null,this.on=F(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._tables=null,this._reculock=0,this._blockedFuncs=[],this._psd=null,this._dbschema=n,this._resolve=null,this._reject=null,this._completion=new z(function(t,e){r._resolve=t,r._reject=e}).uncaught(q),this._completion.then(function(){r.on.complete.fire()},function(t){return r.on.error.fire(t),r.parent?r.parent._reject(t):r.active&&r.idbtrans&&r.idbtrans.abort(),r.active=!1,ct(t)})}function K(t,e,n){this._ctx={table:t,index:":id"===e?null:e,collClass:t._collClass,or:n}}function G(t,e){var n=null,i=null;if(e)try{n=e()}catch(t){i=t}var r=t._ctx,o=r.table;this._ctx={table:o,index:r.index,isPrimKey:!r.index||o.schema.primKey.keyPath&&r.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:r.or,valueMapper:o.hook.reading.fire}}function J(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Z(){G.apply(this,arguments)}function tt(t,e){return t._cfg.version-e._cfg.version}function et(t,e,n,i){e.forEach(function(e){var r=ie._tableFactory(n,i[e]);t.forEach(function(t){e in t||(t[e]=r)})})}function nt(t){t.forEach(function(t){for(var e in t)t[e]instanceof U&&delete t[e]})}function it(t,e,n,i,r,o){var s=o?function(t,e,i){return n(o(t),e,i)}:n,a=ot(s,r);t.onerror||(t.onerror=mt(r)),e?t.onsuccess=f(function(){var n=t.result;if(n){var o=function(){n.continue()};e(n,function(t){o=t},i,r)&&a(n.value,n,function(t){o=t}),o()}else i()},r):t.onsuccess=f(function(){var e=t.result;if(e){var n=function(){e.continue()};a(e.value,e,function(t){n=t}),n()}else i()},r)}function rt(t){var e=[];return t.split(",").forEach(function(t){t=t.trim();var n=t.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;e.push(new wt(n,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),kt(i),/\./.test(t)))}),e}function lt(t,e){return Ut.cmp(t,e)}function ht(t,e){return lt(t,e)<0?t:e}function Et(t,e){return lt(t,e)>0?t:e}function Tt(t,e){return Ut.cmp(t,e)}function At(t,e){return Ut.cmp(e,t)}function Pt(t,e){return t<e?-1:t===e?0:1}function It(t,e){return t>e?-1:t===e?0:1}function Dt(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}function Ot(){if(ie.verno=Gt.version/10,ie._dbSchema=Qt={},Vt=s(Gt.objectStoreNames,0),0!==Vt.length){var t=Gt.transaction(_t(Vt),"readonly");Vt.forEach(function(e){for(var n=t.objectStore(e),i=n.keyPath,r=i&&"string"==typeof i&&i.indexOf(".")!==-1,o=new wt(i,i||"",!1,!1,!!n.autoIncrement,i&&"string"!=typeof i,r),s=[],a=0;a<n.indexNames.length;++a){var l=n.index(n.indexNames[a]);i=l.keyPath,r=i&&"string"==typeof i&&i.indexOf(".")!==-1;var c=new wt(l.name,i,!!l.unique,!!l.multiEntry,!1,i&&"string"!=typeof i,r);s.push(c)}Qt[e]=new xt(e,o,s,{})}),et([Kt,V.prototype],St(Qt),ne,Qt)}}function Nt(t,e){for(var n=e.db.objectStoreNames,i=0;i<n.length;++i){var r=n[i],o=e.objectStore(r);Ht="getAll"in o;for(var a=0;a<o.indexNames.length;++a){var l=o.indexNames[a],c=o.index(l).keyPath,u="string"==typeof c?c:"["+s(c).join("+")+"]";if(t[r]){var h=t[r].idxByName[u];h&&(h.name=l)}}}}function Mt(t){ie.on("blocked").fire(t),ve.filter(function(t){return t.name===ie.name&&t!==ie&&!t._vcFired}).map(function(e){return e.on("versionchange").fire(t)})}var $t,Lt,Ht,Ft=ut.dependencies,zt=t({addons:ut.addons,autoOpen:!0,indexedDB:Ft.indexedDB,IDBKeyRange:Ft.IDBKeyRange},u),Bt=zt.addons,qt=zt.autoOpen,Ut=zt.indexedDB,Xt=zt.IDBKeyRange,Qt=this._dbSchema={},Yt=[],Vt=[],Kt={},Gt=null,Jt=null,Zt=!1,te=!1,ee="readonly",ne="readwrite",ie=this,re=new z(function(t){$t=t}),oe=new z(function(t,e){Lt=e}),ae=!0,le=!!Ct(Ut);this.version=function(t){if(Gt||Zt)throw new Wt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=Yt.filter(function(e){return e._cfg.version===t})[0];return e?e:(e=new k(t),Yt.push(e),Yt.sort(tt),e)},t(k.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?t(this._cfg.storesSource,e):e;var n={};Yt.forEach(function(e){t(n,e._cfg.storesSource)});var i=this._cfg.dbschema={};return this._parseStoresSpec(n,i),Qt=ie._dbSchema=i,nt([Kt,ie,V.prototype]),et([Kt,ie,V.prototype,this._cfg.tables],St(i),ne,i),Vt=St(i),this},upgrade:function(t){var e=this;return _e(function(){t(ie._createTransaction(ne,St(e._cfg.dbschema),e._cfg.dbschema))}),this._cfg.contentUpgrade=t,this},_parseStoresSpec:function(t,e){St(t).forEach(function(n){if(null!==t[n]){var i={},r=rt(t[n]),o=r.shift();if(o.multi)throw new Wt.Schema("Primary key cannot be multi-valued");o.keyPath&&m(i,o.keyPath,o.auto?0:o.keyPath),r.forEach(function(t){if(t.auto)throw new Wt.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new Wt.Schema("Index must have a name and cannot be an empty string");m(i,t.keyPath,t.compound?t.keyPath.map(function(){return""}):"")}),e[n]=new xt(n,o,r,i)}})}}),this._allTables=Kt,this._tableFactory=function(t,e){return t===ee?new U(e.name,e,G):new X(e.name,e)},this._createTransaction=function(t,e,n,i){return new V(t,e,n,i)},this._whenReady=function(t){return new z(Ce||te||se.letThrough?t:function(e,n){if(!Zt){if(!qt)return void n(new Wt.DatabaseClosed);ie.open().catch(_)}re.then(function(){t(e,n)})}).uncaught(q)},this.verno=0,this.open=function(){if(Zt||Gt)return re.then(function(){return Jt?ct(Jt,q):ie});Rt&&(oe._stackHolder=O()),Zt=!0,Jt=null,te=!1;var t=$t,e=null;return z.race([oe,new z(function(t,n){if(l(function(){return t()}),Yt.length>0&&(ae=!1),!Ut)throw new Wt.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var i=ae?Ut.open(o):Ut.open(o,Math.round(10*ie.verno));if(!i)throw new Wt.MissingAPI("IndexedDB API not available");i.onerror=ot(mt(n)),i.onblocked=ot(Mt),i.onupgradeneeded=ot(function(t){if(e=i.transaction,ae&&!ie._allowEmptyDB){i.onerror=vt,e.abort(),i.result.close();var r=Ut.deleteDatabase(o);r.onsuccess=r.onerror=ot(function(){n(new Wt.NoSuchDatabase("Database "+o+" doesnt exist"))})}else{e.onerror=ot(mt(n));var s=t.oldVersion>Math.pow(2,62)?0:t.oldVersion;P(s/10,e,n,i)}},n),i.onsuccess=ot(function(){if(e=null,Gt=i.result,ve.push(ie),ae)Ot();else if(Gt.objectStoreNames.length>0)try{Nt(Qt,Gt.transaction(_t(Gt.objectStoreNames),ee))}catch(t){}Gt.onversionchange=ot(function(t){ie._vcFired=!0,ie.on("versionchange").fire(t)}),le||yt(function(t){if(t.indexOf(o)===-1)return t.push(o)}),t()},n)})]).then(function(){return ut.vip(ie.on.ready.fire)}).then(function(){return Zt=!1,ie}).catch(function(t){try{e&&e.abort()}catch(t){}return Zt=!1,ie.close(),Jt=t,ct(Jt,q)}).finally(function(){te=!0,t()})},this.close=function(){var t=ve.indexOf(ie);if(t>=0&&ve.splice(t,1),Gt){try{Gt.close()}catch(t){}Gt=null}qt=!1,Jt=new Wt.DatabaseClosed,Zt&&Lt(Jt),re=new z(function(t){$t=t}),oe=new z(function(t,e){Lt=e})},this.delete=function(){var t=arguments.length>0;return new z(function(e,n){function i(){ie.close();var t=Ut.deleteDatabase(o);t.onsuccess=ot(function(){le||yt(function(t){var e=t.indexOf(o);if(e>=0)return t.splice(e,1)}),e()}),t.onerror=ot(mt(n)),t.onblocked=Mt}if(t)throw new Wt.InvalidArgument("Arguments not allowed in db.delete()");Zt?re.then(i):i()}).uncaught(q)},this.backendDB=function(){return Gt},this.isOpen=function(){return null!==Gt},this.hasFailed=function(){return null!==Jt},this.dynamicallyOpened=function(){return ae},this.name=o,i(this,"tables",{get:function(){return St(Kt).map(function(t){return Kt[t]})}}),this.on=F(this,"error","populate","blocked","versionchange",{ready:[I,_]}),this.on.error.subscribe=N("Dexie.on.error",this.on.error.subscribe),this.on.error.unsubscribe=N("Dexie.on.error.unsubscribe",this.on.error.unsubscribe),this.on.ready.subscribe=a(this.on.ready.subscribe,function(t){return function(e,n){ut.vip(function(){te?(Jt||z.resolve().then(e),n&&t(e)):(t(e),n||t(function t(){ie.on.ready.unsubscribe(e),ie.on.ready.unsubscribe(t)}))})}}),_e(function(){ie.on("populate").fire(ie._createTransaction(ne,Vt,Qt)),ie.on("error").fire(new Error)}),this.transaction=function(t,n,i){function r(n){var r=se;n(z.resolve().then(function(){return st(function(){se.transless=se.transless||r;var n=ie._createTransaction(t,u,Qt,l);se.trans=n,l?n.idbtrans=l.idbtrans:n.create();var o=u.map(function(t){return Kt[t]});o.push(n);var s;return z.follow(function(){if(s=i.apply(n,o))if("function"==typeof s.next&&"function"==typeof s.throw)s=bt(s);else if("function"==typeof s.then&&!e(s,"_PSD"))throw new Wt.IncompatiblePromise("Incompatible Promise returned from transaction scope (read more at http://tinyurl.com/znyqjqc). Transaction scope: "+i.toString())}).uncaught(q).then(function(){return l&&n._resolve(),n._completion}).then(function(){return s}).catch(function(t){return n._reject(t),ct(t)})})}))}var o=arguments.length;if(o<2)throw new Wt.InvalidArgument("Too few arguments");for(var s=new Array(o-1);--o;)s[o-1]=arguments[o];i=s.pop();var a=x(s),l=se.trans;l&&l.db===ie&&t.indexOf("!")===-1||(l=null);var c=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");try{var u=a.map(function(t){var e=t instanceof U?t.name:t;if("string"!=typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e});if("r"==t||t==ee)t=ee;else{if("rw"!=t&&t!=ne)throw new Wt.InvalidArgument("Invalid transaction mode: "+t);t=ne}if(l){if(l.mode===ee&&t===ne){if(!c)throw new Wt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");l=null}l&&u.forEach(function(t){if(l&&l.storeNames.indexOf(t)===-1){if(!c)throw new Wt.SubTransaction("Table "+t+" not included in parent transaction.");l=null}})}}catch(t){return l?l._promise(null,function(e,n){n(t)}):ct(t,q)}return l?l._promise(t,r,"lock"):ie._whenReady(r)},this.table=function(t){if(Ce&&ae)return new X(t);if(!e(Kt,t))throw new Wt.InvalidTable("Table "+t+" does not exist");return Kt[t]},n(U.prototype,{_trans:function(t,e,n){var i=se.trans;return i&&i.db===ie?i._promise(t,e,n):W(t,[this.name],e)},_idbstore:function(t,e,n){function i(t,n,i){e(t,n,i.idbtrans.objectStore(o),i)}if(Ce)return new z(e);var r=se.trans,o=this.name;return r&&r.db===ie?r._promise(t,i,n):W(t,[this.name],i)},get:function(t,e){var n=this;return this._idbstore(ee,function(e,i,r){Ce&&e(n.schema.instanceTemplate);var o=r.get(t);o.onerror=mt(i),o.onsuccess=ot(function(){e(n.hook.reading.fire(o.result))},i)}).then(e)},where:function(t){return new K(this,t)},count:function(t){return this.toCollection().count(t)},offset:function(t){return this.toCollection().offset(t)},limit:function(t){return this.toCollection().limit(t)},reverse:function(){return this.toCollection().reverse()},filter:function(t){return this.toCollection().and(t)},each:function(t){return this.toCollection().each(t)},toArray:function(t){return this.toCollection().toArray(t)},orderBy:function(t){return new this._collClass(new K(this,t))},toCollection:function(){return new this._collClass(new K(this))},mapToClass:function(t,n){this.schema.mappedClass=t;var i=Object.create(t.prototype);n&&ft(i,n),this.schema.instanceTemplate=i;
var r=function(n){if(!n)return n;var i=Object.create(t.prototype);for(var r in n)if(e(n,r))try{i[r]=n[r]}catch(t){}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),t},defineClass:function(t){return this.mapToClass(ut.defineClass(t),t)}}),r(X).from(U).extend({bulkDelete:function(t){return this.hook.deleting.fire===_?this._idbstore(ne,function(e,n,i,r){e(Y(i,r,t,!1,_))}):this.where(":id").anyOf(t).delete().then(function(){})},bulkPut:function(t,e){var n=this;return this._idbstore(ne,function(i,r,o){if(!o.keyPath&&!n.schema.primKey.auto&&!e)throw new Wt.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(o.keyPath&&e)throw new Wt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(e&&e.length!==t.length)throw new Wt.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return i();var s,a,l=function(t){0===c.length?i(t):r(new L(n.name+".bulkPut(): "+c.length+" of "+u+" operations failed",c))},c=[],u=t.length,f=n;if(n.hook.creating.fire===_&&n.hook.updating.fire===_){a=Q(c);for(var d=0,m=t.length;d<m;++d)s=e?o.put(t[d],e[d]):o.put(t[d]),s.onerror=a;s.onerror=Q(c,l),s.onsuccess=dt(l)}else{var g=e||o.keyPath&&t.map(function(t){return p(t,o.keyPath)}),v=g&&h(g,function(e,n){return null!=e&&[e,t[n]]}),y=g?f.where(":id").anyOf(g.filter(function(t){return null!=t})).modify(function(){this.value=v[this.primKey],v[this.primKey]=null}).catch($,function(t){c=t.failures}).then(function(){for(var n=[],i=e&&[],r=g.length-1;r>=0;--r){var o=g[r];(null==o||v[o])&&(n.push(t[r]),e&&i.push(o),null!=o&&(v[o]=null))}return n.reverse(),e&&i.reverse(),f.bulkAdd(n,i)}).then(function(t){var e=g[g.length-1];return null!=e?e:t}):f.bulkAdd(t);y.then(l).catch(L,function(t){c=c.concat(t.failures),l()}).catch(r)}},"locked")},bulkAdd:function(t,e){var n=this,i=this.hook.creating.fire;return this._idbstore(ne,function(r,o,s,a){function l(t){0===f.length?r(t):o(new L(n.name+".bulkAdd(): "+f.length+" of "+g+" operations failed",f))}if(!s.keyPath&&!n.schema.primKey.auto&&!e)throw new Wt.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(s.keyPath&&e)throw new Wt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(e&&e.length!==t.length)throw new Wt.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return r();var c,u,h,f=[],g=t.length;if(i!==_){var v,b=s.keyPath;u=Q(f,null,!0),h=pt(null),d(function(){for(var n=0,r=t.length;n<r;++n){v={onerror:null,onsuccess:null};var o=e&&e[n],l=t[n],f=e?o:b?p(l,b):void 0,d=i.call(v,f,l,a);null==f&&null!=d&&(b?(l=y(l),m(l,b,d)):o=d),c=null!=o?s.add(l,o):s.add(l),c._hookCtx=v,n<r-1&&(c.onerror=u,v.onsuccess&&(c.onsuccess=h))}},function(t){throw v.onerror&&v.onerror(t),t}),c.onerror=Q(f,l,!0),c.onsuccess=pt(l)}else{u=Q(f);for(var w=0,x=t.length;w<x;++w)c=e?s.add(t[w],e[w]):s.add(t[w]),c.onerror=u;c.onerror=Q(f,l),c.onsuccess=dt(l)}})},add:function(t,e){var n=this.hook.creating.fire;return this._idbstore(ne,function(i,r,o,s){var a={onsuccess:null,onerror:null};if(n!==_){var l=null!=e?e:o.keyPath?p(t,o.keyPath):void 0,c=n.call(a,l,t,s);null==l&&null!=c&&(o.keyPath?m(t,o.keyPath,c):e=c)}try{var u=null!=e?o.add(t,e):o.add(t);u._hookCtx=a,u.onerror=gt(r),u.onsuccess=pt(function(e){var n=o.keyPath;n&&m(t,n,e),i(e)})}catch(t){throw a.onerror&&a.onerror(t),t}})},put:function(t,e){var n=this,i=this.hook.creating.fire,r=this.hook.updating.fire;return i!==_||r!==_?this._trans(ne,function(i,r,o){var s=void 0!==e?e:n.schema.primKey.keyPath&&p(t,n.schema.primKey.keyPath);null==s?n.add(t).then(i,r):(o._lock(),t=y(t),n.where(":id").equals(s).modify(function(){this.value=t}).then(function(i){return 0===i?n.add(t,e):s}).finally(function(){o._unlock()}).then(i,r))}):this._idbstore(ne,function(n,i,r){var o=void 0!==e?r.put(t,e):r.put(t);o.onerror=mt(i),o.onsuccess=function(e){var i=r.keyPath;i&&m(t,i,e.target.result),n(o.result)}})},delete:function(t){return this.hook.deleting.subscribers.length?this.where(":id").equals(t).delete():this._idbstore(ne,function(e,n,i){var r=i.delete(t);r.onerror=mt(n),r.onsuccess=function(){e(r.result)}})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(ne,function(t,e,n){var i=n.clear();i.onerror=mt(e),i.onsuccess=function(){t(i.result)}})},update:function(t,e){if("object"!=typeof e||kt(e))throw new Wt.InvalidArgument("Modifications must be an object.");if("object"!=typeof t||kt(t))return this.where(":id").equals(t).modify(e);St(e).forEach(function(n){m(t,n,e[n])});var n=p(t,this.schema.primKey.keyPath);return void 0===n?ct(new Wt.InvalidArgument("Given object does not contain its primary key"),q):this.where(":id").equals(n).modify(e)}}),n(V.prototype,{_lock:function(){return c(!se.global),++this._reculock,1!==this._reculock||se.global||(se.lockOwnerFor=this),this},_unlock:function(){if(c(!se.global),0===--this._reculock)for(se.global||(se.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{at(t[1],t[0])}catch(t){}}return this},_locked:function(){return this._reculock&&se.lockOwnerFor!==this},create:function(t){var e=this;if(c(!this.idbtrans),!t&&!Gt)switch(Jt&&Jt.name){case"DatabaseClosedError":throw new Wt.DatabaseClosed(Jt);case"MissingAPIError":throw new Wt.MissingAPI(Jt.message,Jt);default:throw new Wt.OpenFailed(Jt)}if(!this.active)throw new Wt.TransactionInactive;return c(null===this._completion._state),t=this.idbtrans=t||Gt.transaction(_t(this.storeNames),this.mode),t.onerror=ot(function(n){vt(n),e._reject(t.error)}),t.onabort=ot(function(t){vt(t),e.active&&e._reject(new Wt.Abort),e.active=!1,e.on("abort").fire(t)}),t.oncomplete=ot(function(){e.active=!1,e._resolve()}),this},_promise:function(t,e,n){var i=this,r=i._locked()?new z(function(r,o){i._blockedFuncs.push([function(){i._promise(t,e,n).then(r,o)},se])}):st(function(){var r=i.active?new z(function(r,o){if(t===ne&&i.mode!==ne)throw new Wt.ReadOnly("Transaction is readonly");!i.idbtrans&&t&&i.create(),n&&i._lock(),e(r,o,i)}):ct(new Wt.TransactionInactive);return i.active&&n&&r.finally(function(){i._unlock()}),r});return r._lib=!0,r.uncaught(q)},abort:function(){this.active&&this._reject(new Wt.Abort),this.active=!1},tables:{get:N("Transaction.tables",function(){return h(this.storeNames,function(t){return[t,Kt[t]]})},"Use db.tables()")},complete:N("Transaction.complete()",function(t){return this.on("complete",t)}),error:N("Transaction.error()",function(t){return this.on("error",t)}),table:N("Transaction.table()",function(t){if(this.storeNames.indexOf(t)===-1)throw new Wt.InvalidTable("Table "+t+" not in transaction");return Kt[t]})}),n(K.prototype,function(){function t(t,e,n){var i=t instanceof K?new t._ctx.collClass(t):t;return i._ctx.error=n?new n(e):new TypeError(e),i}function e(t){return new t._ctx.collClass(t,function(){return Xt.only("")}).limit(0)}function n(t){return"next"===t?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function i(t){return"next"===t?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function r(t,e,n,i,r,o){for(var s=Math.min(t.length,i.length),a=-1,l=0;l<s;++l){var c=e[l];if(c!==i[l])return r(t[l],n[l])<0?t.substr(0,l)+n[l]+n.substr(l+1):r(t[l],i[l])<0?t.substr(0,l)+i[l]+n.substr(l+1):a>=0?t.substr(0,a)+e[a]+n.substr(a+1):null;r(t[l],c)<0&&(a=l)}return s<i.length&&"next"===o?t+n.substr(t.length):s<t.length&&"prev"===o?t.substr(0,n.length):a<0?null:t.substr(0,a)+i[a]+n.substr(a+1)}function o(e,o,s,a){function l(t){c=n(t),u=i(t),h="next"===t?Pt:It;var e=s.map(function(t){return{lower:u(t),upper:c(t)}}).sort(function(t,e){return h(t.lower,e.lower)});f=e.map(function(t){return t.upper}),d=e.map(function(t){return t.lower}),p=t,m="next"===t?"":a}var c,u,h,f,d,p,m,g=s.length;if(!s.every(function(t){return"string"==typeof t}))return t(e,ge);l("next");var v=new e._ctx.collClass(e,function(){return Xt.bound(f[0],d[g-1]+a)});v._ondirectionchange=function(t){l(t)};var y=0;return v._addAlgorithm(function(t,e,n){var i=t.key;if("string"!=typeof i)return!1;var s=u(i);if(o(s,d,y))return!0;for(var a=null,l=y;l<g;++l){var c=r(i,s,f[l],d[l],h,p);null===c&&null===a?y=l+1:(null===a||h(a,c)>0)&&(a=c)}return e(null!==a?function(){t.continue(a+m)}:n),!1}),v}return{between:function(n,i,r,o){r=r!==!1,o=o===!0;try{return lt(n,i)>0||0===lt(n,i)&&(r||o)&&(!r||!o)?e(this):new this._ctx.collClass(this,function(){return Xt.bound(n,i,!r,!o)})}catch(e){return t(this,me)}},equals:function(t){return new this._ctx.collClass(this,function(){return Xt.only(t)})},above:function(t){return new this._ctx.collClass(this,function(){return Xt.lowerBound(t,!0)})},aboveOrEqual:function(t){return new this._ctx.collClass(this,function(){return Xt.lowerBound(t)})},below:function(t){return new this._ctx.collClass(this,function(){return Xt.upperBound(t,!0)})},belowOrEqual:function(t){return new this._ctx.collClass(this,function(){return Xt.upperBound(t)})},startsWith:function(e){return"string"!=typeof e?t(this,ge):this.between(e,e+de,!0,!0)},startsWithIgnoreCase:function(t){return""===t?this.startsWith(t):o(this,function(t,e){return 0===t.indexOf(e[0])},[t],de)},equalsIgnoreCase:function(t){return o(this,function(t,e){return t===e[0]},[t],"")},anyOfIgnoreCase:function(){var t=w.apply(jt,arguments);return 0===t.length?e(this):o(this,function(t,e){return e.indexOf(t)!==-1},t,"")},startsWithAnyOfIgnoreCase:function(){var t=w.apply(jt,arguments);return 0===t.length?e(this):o(this,function(t,e){return e.some(function(e){return 0===t.indexOf(e)})},t,de)},anyOf:function(){var n=w.apply(jt,arguments),i=Tt;try{n.sort(i)}catch(e){return t(this,me)}if(0===n.length)return e(this);var r=new this._ctx.collClass(this,function(){return Xt.bound(n[0],n[n.length-1])});r._ondirectionchange=function(t){i="next"===t?Tt:At,n.sort(i)};var o=0;return r._addAlgorithm(function(t,e,r){for(var s=t.key;i(s,n[o])>0;)if(++o,o===n.length)return e(r),!1;return 0===i(s,n[o])||(e(function(){t.continue(n[o])}),!1)}),r},notEqual:function(t){return this.inAnyRange([[-(1/0),t],[t,pe]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var e=w.apply(jt,arguments);if(0===e.length)return new this._ctx.collClass(this);try{e.sort(Tt)}catch(e){return t(this,me)}var n=e.reduce(function(t,e){return t?t.concat([[t[t.length-1][1],e]]):[[-(1/0),e]]},null);return n.push([e[e.length-1],pe]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,i){function r(t,e){for(var n=0,i=t.length;n<i;++n){var r=t[n];if(lt(e[0],r[1])<0&&lt(e[1],r[0])>0){r[0]=ht(r[0],e[0]),r[1]=Et(r[1],e[1]);break}}return n===i&&t.push(e),t}function o(t,e){return h(t[0],e[0])}function s(t){return!d(t)&&!p(t)}var a=this._ctx;if(0===n.length)return e(this);if(!n.every(function(t){return void 0!==t[0]&&void 0!==t[1]&&Tt(t[0],t[1])<=0}))return t(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Wt.InvalidArgument);var l,c=!i||i.includeLowers!==!1,u=i&&i.includeUppers===!0,h=Tt;try{l=n.reduce(r,[]),l.sort(o)}catch(e){return t(this,me)}var f=0,d=u?function(t){return Tt(t,l[f][1])>0}:function(t){return Tt(t,l[f][1])>=0},p=c?function(t){return At(t,l[f][0])>0}:function(t){return At(t,l[f][0])>=0},m=d,g=new a.collClass(this,function(){return Xt.bound(l[0][0],l[l.length-1][1],!c,!u)});return g._ondirectionchange=function(t){"next"===t?(m=d,h=Tt):(m=p,h=At),l.sort(o)},g._addAlgorithm(function(t,e,n){for(var i=t.key;m(i);)if(++f,f===l.length)return e(n),!1;return!!s(i)||0!==lt(i,l[f][1])&&0!==lt(i,l[f][0])&&(e(function(){h===Tt?t.continue(l[f][0]):t.continue(l[f][1])}),!1)}),g},startsWithAnyOf:function(){var n=w.apply(jt,arguments);return n.every(function(t){return"string"==typeof t})?0===n.length?e(this):this.inAnyRange(n.map(function(t){return[t,t+de]})):t(this,"startsWithAnyOf() only works with strings")}}}),n(G.prototype,function(){function n(t,e){t.filter=Dt(t.filter,e)}function i(t,e,n){var i=t.replayFilter;t.replayFilter=i?function(){return Dt(i(),e())}:e,t.justLimit=n&&!i}function r(t,e){t.isMatch=Dt(t.isMatch,e)}function o(t,e){if(t.isPrimKey)return e;var n=t.table.schema.idxByName[t.index];if(!n)throw new Wt.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return e.index(n.name)}function s(t,e){var n=o(t,e);return t.keysOnly&&"openKeyCursor"in n?n.openKeyCursor(t.range||null,t.dir+t.unique):n.openCursor(t.range||null,t.dir+t.unique)}function a(t,n,i,r,o){var a=t.replayFilter?Dt(t.filter,t.replayFilter()):t.filter;t.or?function(){function l(){2===++h&&i()}function c(t,i,o){if(!a||a(i,o,l,r)){var s=i.primaryKey.toString();e(u,s)||(u[s]=!0,n(t,i,o))}}var u={},h=0;t.or._iterate(c,l,r,o),it(s(t,o),t.algorithm,c,l,r,!t.keysOnly&&t.valueMapper)}():it(s(t,o),Dt(t.algorithm,a),n,i,r,!t.keysOnly&&t.valueMapper)}function l(t){return t.table.schema.instanceTemplate}return{_read:function(t,e){var n=this._ctx;return n.error?n.table._trans(null,function(t,e){e(n.error)}):n.table._idbstore(ee,t).then(e)},_write:function(t){var e=this._ctx;return e.error?e.table._trans(null,function(t,n){n(e.error)}):e.table._idbstore(ne,t,"locked")},_addAlgorithm:function(t){var e=this._ctx;e.algorithm=Dt(e.algorithm,t)},_iterate:function(t,e,n,i){return a(this._ctx,t,e,n,i)},clone:function(e){var n=Object.create(this.constructor.prototype),i=Object.create(this._ctx);return e&&t(i,e),n._ctx=i,n},raw:function(){return this._ctx.valueMapper=null,this},each:function(t){var e=this._ctx;if(Ce){var n=l(e),i=e.table.schema.primKey.keyPath,r=p(n,e.index?e.table.schema.idxByName[e.index].keyPath:i),o=p(n,i);t(n,{key:r,primaryKey:o})}return this._read(function(n,i,r){a(e,t,n,i,r)})},count:function(t){if(Ce)return z.resolve(0).then(t);var e=this._ctx;if(J(e,!0))return this._read(function(t,n,i){var r=o(e,i),s=e.range?r.count(e.range):r.count();s.onerror=mt(n),s.onsuccess=function(n){t(Math.min(n.target.result,e.limit))}},t);var n=0;return this._read(function(t,i,r){a(e,function(){return++n,!1},function(){t(n)},i,r)},t)},sortBy:function(t,e){function n(t,e){return e?n(t[r[e]],e-1):t[o]}function i(t,e){var i=n(t,s),r=n(e,s);return i<r?-a:i>r?a:0}var r=t.split(".").reverse(),o=r[0],s=r.length-1,a="next"===this._ctx.dir?1:-1;return this.toArray(function(t){return t.sort(i)}).then(e)},toArray:function(t){var e=this._ctx;return this._read(function(t,n,i){if(Ce&&t([l(e)]),Ht&&"next"===e.dir&&J(e,!0)&&e.limit>0){var r=e.table.hook.reading.fire,s=o(e,i),c=e.limit<1/0?s.getAll(e.range,e.limit):s.getAll(e.range);c.onerror=mt(n),c.onsuccess=r===C?dt(t):ot(dt(function(e){try{t(e.map(r))}catch(t){n(t)}}))}else{var u=[];a(e,function(t){u.push(t)},function(){t(u)},n,i)}},t)},offset:function(t){var e=this._ctx;return t<=0?this:(e.offset+=t,J(e)?i(e,function(){var e=t;return function(t,n){return 0===e||(1===e?(--e,!1):(n(function(){t.advance(e),e=0}),!1))}}):i(e,function(){var e=t;return function(){return--e<0}}),this)},limit:function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),i(this._ctx,function(){var e=t;return function(t,n,i){return--e<=0&&n(i),e>=0}},!0),this},until:function(t,e){var i=this._ctx;return Ce&&t(l(i)),n(this._ctx,function(n,i,r){return!t(n.value)||(i(r),e)}),this},first:function(t){return this.limit(1).toArray(function(t){return t[0]}).then(t)},last:function(t){return this.reverse().first(t)},filter:function(t){return Ce&&t(l(this._ctx)),n(this._ctx,function(e){return t(e.value)}),r(this._ctx,t),this},and:function(t){return this.filter(t)},or:function(t){return new K(this._ctx.table,t,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,n){t(n.key,n)})},eachUniqueKey:function(t){return this._ctx.unique="unique",this.eachKey(t)},eachPrimaryKey:function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,n){t(n.primaryKey,n)})},keys:function(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each(function(t,e){n.push(e.key)}).then(function(){return n}).then(t)},primaryKeys:function(t){var e=this._ctx;if(Ht&&"next"===e.dir&&J(e,!0)&&e.limit>0)return this._read(function(t,n,i){var r=o(e,i),s=e.limit<1/0?r.getAllKeys(e.range,e.limit):r.getAllKeys(e.range);s.onerror=mt(n),s.onsuccess=dt(t)}).then(t);e.keysOnly=!e.isMatch;var n=[];return this.each(function(t,e){n.push(e.primaryKey)}).then(function(){return n}).then(t)},uniqueKeys:function(t){return this._ctx.unique="unique",this.keys(t)},firstKey:function(t){return this.limit(1).keys(function(t){return t[0]}).then(t)},lastKey:function(t){return this.reverse().firstKey(t)},distinct:function(){var t=this._ctx,i=t.index&&t.table.schema.idxByName[t.index];if(!i||!i.multi)return this;var r={};return n(this._ctx,function(t){var n=t.primaryKey.toString(),i=e(r,n);return r[n]=!0,!i}),this}}}),r(Z).from(G).extend({modify:function(n){var i=this,r=this._ctx,o=r.table.hook,s=o.updating.fire,a=o.deleting.fire;return Ce&&"function"==typeof n&&n.call({value:r.table.schema.instanceTemplate},r.table.schema.instanceTemplate),this._write(function(r,o,l,c){function u(t,n){function i(t){return T.push(t),A.push(r.primKey),f(),!0}P=n.primaryKey;var r={primKey:n.primaryKey,value:t,onsuccess:null,onerror:null};if(g.call(r,t,r)!==!1){var o=!e(r,"value");++S,d(function(){var t=o?n.delete():n.update(r.value);t._hookCtx=r,t.onerror=gt(i),t.onsuccess=pt(function(){++k,f()})},i)}else r.onsuccess&&r.onsuccess(r.value)}function h(t){return t&&(T.push(t),A.push(P)),o(new $("Error modifying one or more objects",T,k,A))}function f(){E&&k+T.length===S&&(T.length>0?h():r(k))}var g;if("function"==typeof n)g=s===_&&a===_?n:function(t){var i=y(t);if(n.call(this,t,this)===!1)return!1;if(e(this,"value")){var r=b(i,this.value),o=s.call(this,r,this.primKey,i,c);o&&(t=this.value,St(o).forEach(function(e){m(t,e,o[e])}))}else a.call(this,this.primKey,t,c)};else if(s===_){var w=St(n),x=w.length;g=function(t){for(var e=!1,i=0;i<x;++i){var r=w[i],o=n[r];p(t,r)!==o&&(m(t,r,o),e=!0)}return e}}else{var C=n;n=v(C),g=function(e){var i=!1,r=s.call(this,n,this.primKey,y(e),c);return r&&t(n,r),St(n).forEach(function(t){var r=n[t];p(e,t)!==r&&(m(e,t,r),i=!0)}),r&&(n=v(C)),i}}var S=0,k=0,E=!1,T=[],A=[],P=null;i.clone().raw()._iterate(u,function(){E=!0,f()},h,l)})},delete:function(){var t=this,e=this._ctx,n=e.range,i=e.table.hook.deleting.fire,r=i!==_;if(!r&&J(e)&&(e.isPrimKey&&!we||!n))return this._write(function(t,e,i){var r=mt(e),o=n?i.count(n):i.count();o.onerror=r,o.onsuccess=function(){var s=o.result;d(function(){var e=n?i.delete(n):i.clear();e.onerror=r,e.onsuccess=function(){return t(s)}},function(t){return e(t)})}});var o=r?2e3:1e4;return this._write(function(n,s,a,l){var c=0,u=t.clone({keysOnly:!e.isMatch&&!r}).distinct().limit(o).raw(),h=[],f=function(){return u.each(r?function(t,e){h.push([e.primaryKey,e.value])}:function(t,e){h.push(e.primaryKey)}).then(function(){return r?h.sort(function(t,e){return Tt(t[0],e[0])}):h.sort(Tt),Y(a,l,h,r,i)}).then(function(){var t=h.length;return c+=t,h=[],t<o?c:f()})};n(f())})}}),t(this,{Collection:G,Table:U,Transaction:V,Version:k,WhereClause:K,WriteableCollection:Z,WriteableTable:X}),g(),Bt.forEach(function(t){t(ie)})}function ht(t){if("function"==typeof t)return new t;if(kt(t))return[ht(t[0])];if(t&&"object"==typeof t){var e={};return ft(e,t),e}return t}function ft(t,e){return St(e).forEach(function(n){var i=ht(e[n]);t[n]=i}),t}function dt(t){return function(e){t(e.target.result)}}function pt(t){return ot(function(e){var n=e.target,i=n.result,r=n._hookCtx,o=r&&r.onsuccess;o&&o(i),t&&t(i)},t)}function mt(t){return function(e){return vt(e),t(e.target.error),!1}}function gt(t){return ot(function(e){var n=e.target,i=n.error,r=n._hookCtx,o=r&&r.onerror;return o&&o(i),vt(e),t(i),!1})}function vt(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}function yt(t){var e,n=ut.dependencies.localStorage;if(!n)return t([]);try{e=JSON.parse(n.getItem("Dexie.DatabaseNames")||"[]")}catch(t){e=[]}t(e)&&n.setItem("Dexie.DatabaseNames",JSON.stringify(e))}function bt(t){function e(t){return function(e){var n=t(e),i=n.value;return n.done?i:i&&"function"==typeof i.then?i.then(r,o):kt(i)?z.all(i).then(r,o):r(i)}}var n=function(e){return t.next(e)},i=function(e){return t.throw(e)},r=e(n),o=e(i);return e(n)()}function wt(t,e,n,i,r,o,s){this.name=t,this.keyPath=e,this.unique=n,this.multi=i,this.auto=r,this.compound=o,this.dotted=s;var a="string"==typeof e?e:e&&"["+[].join.call(e,"+")+"]";this.src=(n?"&":"")+(i?"*":"")+(r?"++":"")+a}function xt(t,e,n,i){this.name=t,this.primKey=e||new wt,this.indexes=n||[new wt],this.instanceTemplate=i,this.mappedClass=null,this.idxByName=h(n,function(t){return[t.name,t]})}function _t(t){return 1===t.length?t[0]:t}function Ct(t){var e=t&&(t.getDatabaseNames||t.webkitGetDatabaseNames);return e&&e.bind(t)}var St=Object.keys,kt=Array.isArray,Et="undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Tt=Object.getPrototypeOf,At={}.hasOwnProperty,Pt=Object.getOwnPropertyDescriptor,It=[].slice,Dt="undefined"!=typeof Symbol&&Symbol.iterator,Ot=Dt?function(t){var e;return null!=t&&(e=t[Dt])&&e.apply(t)}:function(){return null},jt={},Nt=[].concat,Rt="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),Mt=function(){return!0},$t=!new Error("").stack,Lt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","IncompatiblePromise"],Ht=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ft=Lt.concat(Ht),zt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};r(R).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+j(this._e,2))}},toString:function(){return this.name+": "+this.message}}),r($).from(R),r(L).from(R);var Bt=Ft.reduce(function(t,e){return t[e]=e+"Error",t},{}),qt=R,Wt=Ft.reduce(function(t,e){function n(t,n){this._e=O(),this.name=i,t?"string"==typeof t?(this.message=t,this.inner=n||null):"object"==typeof t&&(this.message=t.name+" "+t.message,this.inner=t):(this.message=zt[e]||i,this.inner=null)}var i=e+"Error";return r(n).from(qt),t[e]=n,t},{});Wt.Syntax=SyntaxError,Wt.Type=TypeError,Wt.Range=RangeError;var Ut=Ht.reduce(function(t,e){return t[e+"Error"]=Wt[e],t},{}),Xt=Ft.reduce(function(t,e){return["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=Wt[e]),t},{});Xt.ModifyError=$,Xt.DexieError=R,Xt.BulkError=L;var Qt={},Yt=100,Vt=20,Kt=!1,Gt=Et.setImmediate?setImmediate.bind(null,K):Et.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){K(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(K,0)},Jt=function(t,e){ae.push([t,e]),te&&(Gt(),te=!1)},Zt=!0,te=!0,ee=[],ne=[],ie=null,re=C,oe={global:!0,ref:0,unhandleds:[],onunhandled:lt,finalize:function(){this.unhandleds.forEach(function(t){try{lt(t[0],t[1])}catch(t){}})}},se=oe,ae=[],le=0,ce=[];n(z.prototype,{then:function(t,e){var n=this,i=new z(function(i,r){X(n,new B(t,e,i,r))});return Rt&&(!this._prev||null===this._state)&&V(i,this),i},_then:function(t,e){X(this,new B(null,null,t,e))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],n=arguments[1];return"function"==typeof e?this.then(null,function(t){return t instanceof e?n(t):rt(t)}):this.then(null,function(t){return t&&t.name===e?n(t):rt(t)})},finally:function(t){return this.then(function(e){return t(),e},function(e){return t(),rt(e)})},uncaught:function(t){var e=this;return this.onuncatched=P(this.onuncatched,t),this._state===!1&&ee.indexOf(this)===-1&&ee.some(function(t,n,i){return t._value===e._value&&(i[n]=e)}),this},stack:{get:function(){if(this._stack)return this._stack;try{Kt=!0;var t=Y(this,[],Vt),e=t.join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{Kt=!1}}}}),n(z,{all:function(){var t=w.apply(null,arguments);return new z(function(e,n){0===t.length&&e([]);var i=t.length;t.forEach(function(r,o){return z.resolve(r).then(function(n){t[o]=n,--i||e(t)},n)})})},resolve:function(t){return t instanceof z?t:t&&"function"==typeof t.then?new z(function(e,n){t.then(e,n)}):new z(Qt,!0,t)},reject:rt,race:function(){var t=w.apply(null,arguments);return new z(function(e,n){t.map(function(t){return z.resolve(t).then(e,n)})})},PSD:{get:function(){return se},set:function(t){return se=t}},newPSD:st,usePSD:at,scheduler:{get:function(){return Jt},set:function(t){Jt=t}},rejectionMapper:{get:function(){return re},set:function(t){re=t}},follow:function(t){return new z(function(e,n){return st(function(e,n){var i=se;i.unhandleds=[],i.onunhandled=n,i.finalize=k(function(){var t=this;tt(function(){0===t.unhandleds.length?e():n(t.unhandleds[0])})},i.finalize),t()},e,n)})},on:F(null,{error:[P,it]})});var ue=z.on.error;ue.subscribe=N("Promise.on('error')",ue.subscribe),ue.unsubscribe=N("Promise.on('error').unsubscribe",ue.unsubscribe);var he="unhandledrejection";l(function(){Jt=function(t,e){setTimeout(function(){t.apply(null,e)},0)}});var fe="1.5.1",de=String.fromCharCode(65535),pe=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(t){return de}}(),me="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ge="String expected.",ve=[],ye="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),be=ye,we=ye,xe=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)};D(Rt,xe);var _e=function(){},Ce=!1,Se=Et.idbModules&&Et.idbModules.shimIndexedDB?Et.idbModules:{};return n(ut,Xt),n(ut,{delete:function(t){var e=new ut(t),n=e.delete();return n.onblocked=function(t){return e.on("blocked",t),this},n},exists:function(t){return new ut(t).open().then(function(t){return t.close(),!0}).catch(ut.NoSuchDatabaseError,function(){return!1})},getDatabaseNames:function(t){return new z(function(t,e){var n=Ct(indexedDB);if(n){var i=n();i.onsuccess=function(e){t(s(e.target.result,0))},i.onerror=mt(e)}else yt(function(e){return t(e),!1})}).then(t)},defineClass:function(e){function n(n){n?t(this,n):Ce&&ft(this,e)}return n},applyStructure:ft,ignoreTransaction:function(t){return se.trans?at(se.transless,t):t()},vip:function(t){return st(function(){return se.letThrough=!0,t()})},async:function(t){return function(){try{var e=bt(t.apply(this,arguments));return e&&"function"==typeof e.then?e:z.resolve(e)}catch(t){return ct(t)}}},spawn:function(t,e,n){try{var i=bt(t.apply(n,e||[]));return i&&"function"==typeof i.then?i:z.resolve(i)}catch(t){return ct(t)}},currentTransaction:{get:function(){return se.trans||null}},Promise:z,debug:{get:function(){return Rt},set:function(t){D(t,"dexie"===t?function(){return!0}:xe)}},derive:r,extend:t,props:n,override:a,Events:F,events:{get:N(function(){return F})},getByKeyPath:p,setByKeyPath:m,delByKeyPath:g,shallowClone:v,deepClone:y,getObjectDiff:b,asap:u,maxKey:pe,addons:[],connections:ve,MultiModifyError:Wt.Modify,errnames:Bt,IndexSpec:wt,TableSchema:xt,dependencies:{indexedDB:Se.shimIndexedDB||Et.indexedDB||Et.mozIndexedDB||Et.webkitIndexedDB||Et.msIndexedDB,IDBKeyRange:Se.IDBKeyRange||Et.IDBKeyRange||Et.webkitIDBKeyRange},semVer:fe,version:fe.split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,2*n)}),fakeAutoComplete:_e,default:ut}),d(function(){ut.dependencies.localStorage=null!=("undefined"!=typeof chrome&&null!==chrome?chrome.storage:void 0)?null:Et.localStorage}),z.rejectionMapper=H,l(function(){ut.fakeAutoComplete=_e=l,ut.fake=Ce=!0}),ut}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(t){return a.raw?t:encodeURIComponent(t)}function n(t){return a.raw?t:decodeURIComponent(t)}function i(t){return e(a.json?JSON.stringify(t):String(t))}function r(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(s," ")),a.json?JSON.parse(t):t}catch(t){}}function o(e,n){var i=a.raw?e:r(e);return t.isFunction(n)?n(i):i}var s=/\+/g,a=t.cookie=function(r,s,l){if(void 0!==s&&!t.isFunction(s)){if(l=t.extend({},a.defaults,l),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setTime(+u+864e5*c)}return document.cookie=[e(r),"=",i(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var h=r?void 0:{},f=document.cookie?document.cookie.split("; "):[],d=0,p=f.length;d<p;d++){var m=f[d].split("="),g=n(m.shift()),v=m.join("=");if(r&&r===g){h=o(v,s);break}r||void 0===(v=o(v))||(h[g]=v)}return h};a.defaults={},t.removeCookie=function(e,n){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},n,{expires:-1})),!t.cookie(e))}}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],t):"object"==typeof exports?t(require("jquery"),require("./vendor/jquery.ui.widget")):t(window.jQuery)}(function(t){"use strict";function e(e){var n="dragover"===e;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var r=i.dataTransfer;r&&t.inArray("Files",r.types)!==-1&&this._trigger(e,t.Event(e,{delegatedEvent:i}))!==!1&&(i.preventDefault(),n&&(r.dropEffect="copy"))}}t.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||t('<input type="file"/>').prop("disabled")),t.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,n){return e=this.messages[e]||e.toString(),n&&t.each(n,function(t,n){e=e.replace("{"+t+"}",n)}),e},formData:function(t){return t.serializeArray()},add:function(e,n){return!e.isDefaultPrevented()&&void((n.autoUpload||n.autoUpload!==!1&&t(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){
var n;return"function"===t.type(e.formData)?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(n=[],t.each(e.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(e){var n=0;return t.each(e,function(t,e){n+=e.size||1}),n},_initProgressObject:function(e){var n={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,n):e._progress=n},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(e,n){if(e.lengthComputable){var i,r=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&r-n._time<n.progressInterval&&e.loaded!==e.total)return;n._time=r,i=Math.floor(e.loaded/e.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(r,i,n.bitrateInterval),this._trigger("progress",t.Event("progress",{delegatedEvent:e}),n),this._trigger("progressall",t.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var n=this,i=e.xhr?e.xhr():t.ajaxSettings.xhr();i.upload&&(t(i.upload).bind("progress",function(t){var i=t.originalEvent;t.lengthComputable=i.lengthComputable,t.loaded=i.loaded,t.total=i.total,n._onProgress(t,e)}),e.xhr=function(){return i})},_deinitProgressListener:function(e){var n=e.xhr?e.xhr():t.ajaxSettings.xhr();n.upload&&t(n.upload).unbind("progress")},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var n,i=this,r=e.files[0],o=e.multipart||!t.support.xhrFileUpload,s="array"===t.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=t.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),o&&!e.blob&&this._isInstanceOf("File",r)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.uploadName||r.name)+'"'),o?t.support.xhrFormDataFileUpload&&(e.postMessage?(n=this._getFormData(e),e.blob?n.push({name:s,value:e.blob}):t.each(e.files,function(i,r){n.push({name:"array"===t.type(e.paramName)&&e.paramName[i]||s,value:r})})):(i._isInstanceOf("FormData",e.formData)?n=e.formData:(n=new FormData,t.each(this._getFormData(e),function(t,e){n.append(e.name,e.value)})),e.blob?n.append(s,e.blob,r.uploadName||r.name):t.each(e.files,function(r,o){(i._isInstanceOf("File",o)||i._isInstanceOf("Blob",o))&&n.append("array"===t.type(e.paramName)&&e.paramName[r]||s,o,o.uploadName||o.name)})),e.data=n):(e.contentType=r.type||"application/octet-stream",e.data=e.blob||r),e.blob=null},_initIframeSettings:function(e){var n=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&n&&n!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var n=t(e.fileInput),i=e.paramName;return i?t.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var e=t(this),n=e.prop("name")||"files[]",r=(e.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===t.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var n=t.extend({},this.options,e);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,n,i){var r=t.Deferred(),o=r.promise();return n=n||this.options.context||o,e===!0?r.resolveWith(n,i):e===!1&&r.rejectWith(n,i),o.abort=r.promise,this._enhancePromise(o)},_addConvenienceMethods:function(e,n){var i=this,r=function(e){return t.Deferred().resolveWith(i,e).promise()};n.process=function(e,o){return(e||o)&&(n._processQueue=this._processQueue=(this._processQueue||r([this])).then(function(){return n.errorThrown?t.Deferred().rejectWith(i,[n]).promise():r(arguments)}).then(e,o)),this._processQueue||r([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=i._trigger("submit",t.Event("submit",{delegatedEvent:e}),this)!==!1&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(e,n){e.uploadedBytes=e.uploadedBytes||0;var i,r,o=this,s=e.files[0],a=s.size,l=e.uploadedBytes,c=e.maxChunkSize||a,u=this._blobSlice,h=t.Deferred(),f=h.promise();return!(!(this._isXHRUpload(e)&&u&&(l||("function"===t.type(c)?c(e):c)<a))||e.data)&&(!!n||(l>=a?(s.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",s.error])):(r=function(){var n=t.extend({},e),f=n._progress.loaded;n.blob=u.call(s,l,l+("function"===t.type(c)?c(n):c),s.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+a,o._trigger("chunkbeforesend",null,n),o._initXHRData(n),o._initProgressListener(n),i=(o._trigger("chunksend",null,n)!==!1&&t.ajax(n)||o._getXHRPromise(!1,n.context)).done(function(i,s,c){l=o._getUploadedBytes(c)||l+n.chunkSize,f+n.chunkSize-n._progress.loaded&&o._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),e.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=s,n.jqXHR=c,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),l<a?r():h.resolveWith(n.context,[i,s,c])}).fail(function(t,e,i){n.jqXHR=t,n.textStatus=e,n.errorThrown=i,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),h.rejectWith(n.context,[t,e,i])}).always(function(){o._deinitProgressListener(n)})},this._enhancePromise(f),f.abort=function(){return i.abort()},r(),f)))},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,n,i,r){var o=r._progress.total,s=r._response;r._progress.loaded<o&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:o,total:o}),r),s.result=r.result=e,s.textStatus=r.textStatus=n,s.jqXHR=r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(t,e,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=t,r.textStatus=i.textStatus=e,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(t,e,n,i){this._trigger("always",null,i)},_onSend:function(e,n){n.submit||this._addConvenienceMethods(e,n);var i,r,o,s,a=this,l=a._getAJAXSettings(n),c=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,i=i||((r||a._trigger("send",t.Event("send",{delegatedEvent:e}),l)===!1)&&a._getXHRPromise(!1,l.context,r)||a._chunkedUpload(l)||t.ajax(l)).done(function(t,e,n){a._onDone(t,e,n,l)}).fail(function(t,e,n){a._onFail(t,e,n,l)}).always(function(t,e,n){if(a._deinitProgressListener(l),a._onAlways(t,e,n,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var i=a._slots.shift();i;){if("pending"===a._getDeferredState(i)){i.resolve();break}i=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=t.Deferred(),this._slots.push(o),s=o.then(c)):(this._sequence=this._sequence.then(c,c),s=this._sequence),s.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(o&&o.rejectWith(l.context,r),c())},this._enhancePromise(s)):c()},_onAdd:function(e,n){var i,r,o,s,a=this,l=!0,c=t.extend({},this.options,n),u=n.files,h=u.length,f=c.limitMultiFileUploads,d=c.limitMultiFileUploadSize,p=c.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(c),v=0;if(!h)return!1;if(d&&void 0===u[0].size&&(d=void 0),(c.singleFileUploads||f||d)&&this._isXHRUpload(c))if(c.singleFileUploads||d||!f)if(!c.singleFileUploads&&d)for(o=[],i=[],s=0;s<h;s+=1)m+=u[s].size+p,(s+1===h||m+u[s+1].size+p>d||f&&s+1-v>=f)&&(o.push(u.slice(v,s+1)),r=g.slice(v,s+1),r.length||(r=g),i.push(r),v=s+1,m=0);else i=g;else for(o=[],i=[],s=0;s<h;s+=f)o.push(u.slice(s,s+f)),r=g.slice(s,s+f),r.length||(r=g),i.push(r);else o=[u],i=[g];return n.originalFiles=u,t.each(o||u,function(r,s){var c=t.extend({},n);return c.files=o?s:[s],c.paramName=i[r],a._initResponseObject(c),a._initProgressObject(c),a._addConvenienceMethods(e,c),l=a._trigger("add",t.Event("add",{delegatedEvent:e}),c)}),l},_replaceFileInput:function(e){var n=e.fileInput,i=n.clone(!0),r=n.is(document.activeElement);e.fileInputClone=i,t("<form></form>").append(i)[0].reset(),n.after(i).detach(),r&&i.focus(),t.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===n[0]?i[0]:e}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,n){var i,r=this,o=t.Deferred(),s=[],a=function(t){t&&!t.entry&&(t.entry=e),o.resolve([t])},l=function(t){r._handleFileTreeEntries(t,n+e.name+"/").done(function(t){o.resolve(t)}).fail(a)},c=function(){i.readEntries(function(t){t.length?(s=s.concat(t),c()):l(s)},a)};return n=n||"",e.isFile?e._file?(e._file.relativePath=n,o.resolve(e._file)):e.file(function(t){t.relativePath=n,o.resolve(t)},a):e.isDirectory?(i=e.createReader(),c()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(e,n){var i=this;return t.when.apply(t,t.map(e,function(t){return i._handleFileTreeEntry(t,n)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var n=e.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(t.map(n,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var n,i,r=e.prop("webkitEntries")||e.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=t.makeArray(e.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&t.each(n,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(i=e.prop("value"),!i)return t.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return t.Deferred().resolve(n).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var n=this,i={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(r){i.files=r,n.options.replaceFileInput&&n._replaceFileInput(i),n._trigger("change",t.Event("change",{delegatedEvent:e}),i)!==!1&&n._onAdd(e,i)})},_onPaste:function(e){var n=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(t.each(n,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&i.files.push(n)}),this._trigger("paste",t.Event("paste",{delegatedEvent:e}),i)!==!1&&this._onAdd(e,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=this,i=e.dataTransfer,r={};i&&i.files&&i.files.length&&(e.preventDefault(),this._getDroppedFiles(i).always(function(i){r.files=i,n._trigger("drop",t.Event("drop",{delegatedEvent:e}),r)!==!1&&n._onAdd(e,r)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),t.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(e,n){var i=t.inArray(e,this._specialOptions)!==-1;i&&this._destroyEventHandlers(),this._super(e,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),n=e.pop();return e.shift(),new RegExp(e.join("/"),n)},_isRegExpOption:function(e,n){return"url"!==e&&"string"===t.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var e=this,n=this.options,i=this.element.data();t.each(this.element[0].attributes,function(t,r){var o,s=r.name.toLowerCase();/^data-/.test(s)&&(s=s.slice(5).replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()}),o=i[s],e._isRegExpOption(s,o)&&(o=e._getRegExp(o)),n[s]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,r=this,o=t.Deferred(),s=o.promise();return s.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),s)},this._getFileInputFiles(e.fileInput).always(function(t){if(!i){if(!t.length)return void o.reject();e.files=t,n=r._onSend(null,e),n.then(function(t,e,n){o.resolve(t,e,n)},function(t,e,n){o.reject(t,e,n)})}}),this._enhancePromise(s)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.hoverIntent&&t(jQuery)}(function(t){"use strict";var e,n,i={interval:100,sensitivity:6,timeout:0},r=0,o=function(t){e=t.pageX,n=t.pageY},s=function(t,i,r,a){return Math.sqrt((r.pX-e)*(r.pX-e)+(r.pY-n)*(r.pY-n))<a.sensitivity?(i.off(r.event,o),delete r.timeoutId,r.isActive=!0,t.pageX=e,t.pageY=n,delete r.pX,delete r.pY,a.over.apply(i[0],[t])):(r.pX=e,r.pY=n,r.timeoutId=setTimeout(function(){s(t,i,r,a)},a.interval),void 0)},a=function(t,e,n,i){return delete e.data("hoverIntent")[n.id],i.apply(e[0],[t])};t.fn.hoverIntent=function(e,n,l){var c=r++,u=t.extend({},i);t.isPlainObject(e)?(u=t.extend(u,e),t.isFunction(u.out)||(u.out=u.over)):u=t.isFunction(n)?t.extend(u,{over:e,out:n,selector:l}):t.extend(u,{over:e,out:e,selector:n});var h=function(e){var n=t.extend({},e),i=t(this),r=i.data("hoverIntent");r||i.data("hoverIntent",r={});var l=r[c];l||(r[c]=l={id:c}),l.timeoutId&&(l.timeoutId=clearTimeout(l.timeoutId));var h=l.event="mousemove.hoverIntent.hoverIntent"+c;if("mouseenter"===e.type){if(l.isActive)return;l.pX=n.pageX,l.pY=n.pageY,i.off(h,o).on(h,o),l.timeoutId=setTimeout(function(){s(n,i,l,u)},u.interval)}else{if(!l.isActive)return;i.off(h,o),l.timeoutId=setTimeout(function(){a(n,i,l,u.out)},u.timeout)}};return this.on({"mouseenter.hoverIntent":h,"mouseleave.hoverIntent":h},u.selector)}}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):window.jQuery)}(function(t){"use strict";var e=0,n=t,i="parseJSON";"JSON"in window&&"parse"in JSON&&(n=JSON,i="parse"),t.ajaxTransport("iframe",function(n){if(n.async){var i,r,o,s=n.initialIframeSrc||"javascript:false;";return{send:function(a,l){i=t('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+o+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+o+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),e+=1,r=t('<iframe src="'+s+'" name="iframe-transport-'+e+'"></iframe>').bind("load",function(){var e,o=t.isArray(n.paramName)?n.paramName:[n.paramName];r.unbind("load").bind("load",function(){var e;try{if(e=r.contents(),!e.length||!e[0].firstChild)throw new Error}catch(t){e=void 0}l(200,"success",{iframe:e}),t('<iframe src="'+s+'"></iframe>').appendTo(i),window.setTimeout(function(){i.remove()},0)}),i.prop("target",r.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&t.each(n.formData,function(e,n){t('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(e=n.fileInput.clone(),n.fileInput.after(function(t){return e[t]}),n.paramName&&n.fileInput.each(function(e){t(this).prop("name",o[e]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),i.submit(),e&&e.length&&n.fileInput.each(function(n,i){var r=t(e[n]);t(i).prop("name",r.prop("name")).attr("form",r.attr("form")),r.replaceWith(i)})}),i.append(r).appendTo(document.body)},abort:function(){r&&r.unbind("load").prop("src",s),i&&i.remove()}}}}),t.ajaxSetup({converters:{"iframe text":function(e){return e&&t(e[0].body).text()},"iframe json":function(e){return e&&n[i](t(e[0].body).text())},"iframe html":function(e){return e&&t(e[0].body).html()},"iframe xml":function(e){var n=e&&e[0];return n&&t.isXMLDoc(n)?n:t.parseXML(n.XMLDocument&&n.XMLDocument.xml||t(n.body).html())},"iframe script":function(e){return e&&t.globalEval(t(e[0].body).text())}}})}),!function(t){t.Jcrop=function(e,n){function i(t){return Math.round(t)+"px"}function r(t){return R.baseClass+"-"+t}function o(){return t.fx.step.hasOwnProperty("backgroundColor")}function s(e){var n=t(e).offset();return[n.left,n.top]}function a(t){return[t.pageX-N[0],t.pageY-N[1]]}function l(e){"object"!=typeof e&&(e={}),R=t.extend(R,e),t.each(["onChange","onSelect","onRelease","onDblClick"],function(t,e){"function"!=typeof R[e]&&(R[e]=function(){})})}function c(t,e,n){if(N=s(q),pt.setCursor("move"===t?t:t+"-resize"),"move"===t)return pt.activateHandlers(h(e),g,n);var i=ht.getFixed(),r=f(t),o=ht.getCorner(f(r));ht.setPressed(ht.getCorner(r)),ht.setCurrent(o),pt.activateHandlers(u(t,i),g,n)}function u(t,e){return function(n){if(R.aspectRatio)switch(t){case"e":n[1]=e.y+1;break;case"w":n[1]=e.y+1;break;case"n":n[0]=e.x+1;break;case"s":n[0]=e.x+1}else switch(t){case"e":n[1]=e.y2;break;case"w":n[1]=e.y2;break;case"n":n[0]=e.x2;break;case"s":n[0]=e.x2}ht.setCurrent(n),dt.update()}}function h(t){var e=t;return mt.watchKeys(),function(t){ht.moveOffset([t[0]-e[0],t[1]-e[1]]),e=t,dt.update()}}function f(t){switch(t){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function d(t){return function(e){return!R.disabled&&(!("move"===t&&!R.allowMove)&&(N=s(q),it=!0,c(t,a(e)),e.stopPropagation(),e.preventDefault(),!1))}}function p(t,e,n){var i=t.width(),r=t.height();i>e&&e>0&&(i=e,r=e/t.width()*t.height()),r>n&&n>0&&(r=n,i=n/t.height()*t.width()),et=t.width()/i,nt=t.height()/r,t.width(i).height(r)}function m(t){return{x:t.x*et,y:t.y*nt,x2:t.x2*et,y2:t.y2*nt,w:t.w*et,h:t.h*nt}}function g(){var t=ht.getFixed();t.w>R.minSelect[0]&&t.h>R.minSelect[1]?(dt.enableHandles(),dt.done()):dt.release(),pt.setCursor(R.allowSelect?"crosshair":"default")}function v(t){if(!R.disabled&&R.allowSelect){it=!0,N=s(q),dt.disableHandles(),pt.setCursor("crosshair");var e=a(t);return ht.setPressed(e),dt.update(),pt.activateHandlers(y,g,"touch"===t.type.substring(0,5)),mt.watchKeys(),t.stopPropagation(),t.preventDefault(),!1}}function y(t){ht.setCurrent(t),dt.update()}function b(){var e=t("<div></div>").addClass(r("tracker"));return $&&e.css({opacity:0,backgroundColor:"white"}),e}function w(t){X.removeClass().addClass(r("holder")).addClass(t)}function x(t,e){function n(){window.setTimeout(y,h)}var i=t[0]/et,r=t[1]/nt,o=t[2]/et,s=t[3]/nt;if(!rt){var a=ht.flipCoords(i,r,o,s),l=ht.getFixed(),c=[l.x,l.y,l.x2,l.y2],u=c,h=R.animationDelay,f=a[0]-c[0],d=a[1]-c[1],p=a[2]-c[2],m=a[3]-c[3],g=0,v=R.swingSpeed;i=u[0],r=u[1],o=u[2],s=u[3],dt.animMode(!0);var y=function(){return function(){g+=(100-g)/v,u[0]=Math.round(i+g/100*f),u[1]=Math.round(r+g/100*d),u[2]=Math.round(o+g/100*p),u[3]=Math.round(s+g/100*m),g>=99.8&&(g=100),100>g?(C(u),n()):(dt.done(),dt.animMode(!1),"function"==typeof e&&e.call(gt))}}();n()}}function _(t){C([t[0]/et,t[1]/nt,t[2]/et,t[3]/nt]),R.onSelect.call(gt,m(ht.getFixed())),dt.enableHandles()}function C(t){ht.setPressed([t[0],t[1]]),ht.setCurrent([t[2],t[3]]),dt.update()}function S(){return m(ht.getFixed())}function k(){return ht.getFixed()}function E(t){l(t),j()}function T(){R.disabled=!0,dt.disableHandles(),dt.setCursor("default"),pt.setCursor("default")}function A(){R.disabled=!1,j()}function P(){dt.done(),pt.activateHandlers(null,null)}function I(){X.remove(),F.show(),F.css("visibility","visible"),t(e).removeData("Jcrop")}function D(t,e){dt.release(),T();var n=new Image;n.onload=function(){var i=n.width,r=n.height,o=R.boxWidth,s=R.boxHeight;q.width(i).height(r),q.attr("src",t),Q.attr("src",t),p(q,o,s),W=q.width(),U=q.height(),Q.width(W).height(U),at.width(W+2*st).height(U+2*st),X.width(W).height(U),ft.resize(W,U),A(),"function"==typeof e&&e.call(gt)},n.src=t}function O(t,e,n){var i=e||R.bgColor;R.bgFade&&o()&&R.fadeTime&&!n?t.animate({backgroundColor:i},{queue:!1,duration:R.fadeTime}):t.css("backgroundColor",i)}function j(t){R.allowResize?t?dt.enableOnly():dt.enableHandles():dt.disableHandles(),pt.setCursor(R.allowSelect?"crosshair":"default"),dt.setCursor(R.allowMove?"move":"default"),R.hasOwnProperty("trueSize")&&(et=R.trueSize[0]/W,nt=R.trueSize[1]/U),R.hasOwnProperty("setSelect")&&(_(R.setSelect),dt.done(),delete R.setSelect),ft.refresh(),R.bgColor!=lt&&(O(R.shade?ft.getShades():X,R.shade?R.shadeColor||R.bgColor:R.bgColor),lt=R.bgColor),ct!=R.bgOpacity&&(ct=R.bgOpacity,R.shade?ft.refresh():dt.setBgOpacity(ct)),G=R.maxSize[0]||0,J=R.maxSize[1]||0,Z=R.minSize[0]||0,tt=R.minSize[1]||0,R.hasOwnProperty("outerImage")&&(q.attr("src",R.outerImage),delete R.outerImage),dt.refresh()}var N,R=t.extend({},t.Jcrop.defaults),M=navigator.userAgent.toLowerCase(),$=/msie/.test(M),L=/msie [1-6]\./.test(M);"object"!=typeof e&&(e=t(e)[0]),"object"!=typeof n&&(n={}),l(n);var H={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},F=t(e),z=!0;if("IMG"==e.tagName){if(0!=F[0].width&&0!=F[0].height)F.width(F[0].width),F.height(F[0].height);else{var B=new Image;B.src=F[0].src,F.width(B.width),F.height(B.height)}var q=F.clone().removeAttr("id").css(H).show();q.width(F.width()),q.height(F.height()),F.after(q).hide()}else q=F.css(H).show(),z=!1,null===R.shade&&(R.shade=!0);p(q,R.boxWidth,R.boxHeight);var W=q.width(),U=q.height(),X=t("<div />").width(W).height(U).addClass(r("holder")).css({position:"relative",backgroundColor:R.bgColor}).insertAfter(F).append(q);R.addClass&&X.addClass(R.addClass);var Q=t("<div />"),Y=t("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),V=t("<div />").width("100%").height("100%").css("zIndex",320),K=t("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var t=ht.getFixed();R.onDblClick.call(gt,t)}).insertBefore(q).append(Y,V);z&&(Q=t("<img />").attr("src",q.attr("src")).css(H).width(W).height(U),Y.append(Q)),L&&K.css({overflowY:"hidden"});var G,J,Z,tt,et,nt,it,rt,ot,st=R.boundary,at=b().width(W+2*st).height(U+2*st).css({position:"absolute",top:i(-st),left:i(-st),zIndex:290}).mousedown(v),lt=R.bgColor,ct=R.bgOpacity;N=s(q);var ut=function(){function t(){var t,e={},n=["touchstart","touchmove","touchend"],i=document.createElement("div");try{for(t=0;t<n.length;t++){var r=n[t];r="on"+r;var o=r in i;o||(i.setAttribute(r,"return;"),o="function"==typeof i[r]),e[n[t]]=o}return e.touchstart&&e.touchend&&e.touchmove}catch(t){return!1}}function e(){return R.touchSupport===!0||R.touchSupport===!1?R.touchSupport:t()}return{createDragger:function(t){return function(e){return!R.disabled&&(!("move"===t&&!R.allowMove)&&(N=s(q),it=!0,c(t,a(ut.cfilter(e)),!0),e.stopPropagation(),e.preventDefault(),!1))}},newSelection:function(t){return v(ut.cfilter(t))},cfilter:function(t){return t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t},isSupported:t,support:e()}}(),ht=function(){function t(t){t=s(t),p=f=t[0],m=d=t[1]}function e(t){t=s(t),u=t[0]-p,h=t[1]-m,p=t[0],m=t[1]}function n(){return[u,h]}function i(t){var e=t[0],n=t[1];0>f+e&&(e-=e+f),0>d+n&&(n-=n+d),m+n>U&&(n+=U-(m+n)),p+e>W&&(e+=W-(p+e)),f+=e,p+=e,d+=n,m+=n}function r(t){var e=o();switch(t){case"ne":return[e.x2,e.y];case"nw":return[e.x,e.y];case"se":return[e.x2,e.y2];case"sw":return[e.x,e.y2]}}function o(){if(!R.aspectRatio)return l();var t,e,n,i,r=R.aspectRatio,o=R.minSize[0]/et,s=R.maxSize[0]/et,u=R.maxSize[1]/nt,h=p-f,g=m-d,v=Math.abs(h),y=Math.abs(g),b=v/y;return 0===s&&(s=10*W),0===u&&(u=10*U),r>b?(e=m,n=y*r,t=0>h?f-n:n+f,0>t?(t=0,i=Math.abs((t-f)/r),e=0>g?d-i:i+d):t>W&&(t=W,i=Math.abs((t-f)/r),e=0>g?d-i:i+d)):(t=p,i=v/r,e=0>g?d-i:d+i,0>e?(e=0,n=Math.abs((e-d)*r),t=0>h?f-n:n+f):e>U&&(e=U,n=Math.abs(e-d)*r,t=0>h?f-n:n+f)),t>f?(o>t-f?t=f+o:t-f>s&&(t=f+s),e=e>d?d+(t-f)/r:d-(t-f)/r):f>t&&(o>f-t?t=f-o:f-t>s&&(t=f-s),e=e>d?d+(f-t)/r:d-(f-t)/r),0>t?(f-=t,t=0):t>W&&(f-=t-W,t=W),0>e?(d-=e,e=0):e>U&&(d-=e-U,e=U),c(a(f,d,t,e))}function s(t){return t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),t[0]>W&&(t[0]=W),t[1]>U&&(t[1]=U),[Math.round(t[0]),Math.round(t[1])]}function a(t,e,n,i){var r=t,o=n,s=e,a=i;return t>n&&(r=n,o=t),e>i&&(s=i,a=e),[r,s,o,a]}function l(){var t,e=p-f,n=m-d;return G&&Math.abs(e)>G&&(p=e>0?f+G:f-G),J&&Math.abs(n)>J&&(m=n>0?d+J:d-J),tt/nt&&Math.abs(n)<tt/nt&&(m=n>0?d+tt/nt:d-tt/nt),Z/et&&Math.abs(e)<Z/et&&(p=e>0?f+Z/et:f-Z/et),0>f&&(p-=f,f-=f),0>d&&(m-=d,d-=d),0>p&&(f-=p,p-=p),0>m&&(d-=m,m-=m),p>W&&(t=p-W,f-=t,p-=t),m>U&&(t=m-U,d-=t,m-=t),f>W&&(t=f-U,m-=t,d-=t),d>U&&(t=d-U,m-=t,d-=t),c(a(f,d,p,m))}function c(t){return{x:t[0],y:t[1],x2:t[2],y2:t[3],w:t[2]-t[0],h:t[3]-t[1]}}var u,h,f=0,d=0,p=0,m=0;return{flipCoords:a,setPressed:t,setCurrent:e,getOffset:n,moveOffset:i,getCorner:r,getFixed:o}}(),ft=function(){function e(t,e){p.left.css({height:i(e)}),p.right.css({height:i(e)})}function n(){return r(ht.getFixed())}function r(t){p.top.css({left:i(t.x),width:i(t.w),height:i(t.y)}),p.bottom.css({top:i(t.y2),left:i(t.x),width:i(t.w),height:i(U-t.y2)}),p.right.css({left:i(t.x2),width:i(W-t.x2)}),p.left.css({width:i(t.x)})}function o(){return t("<div />").css({position:"absolute",backgroundColor:R.shadeColor||R.bgColor}).appendTo(d)}function s(){f||(f=!0,d.insertBefore(q),n(),dt.setBgOpacity(1,0,1),Q.hide(),a(R.shadeColor||R.bgColor,1),dt.isAwake()?c(R.bgOpacity,1):c(1,1))}function a(t,e){O(h(),t,e)}function l(){f&&(d.remove(),Q.show(),f=!1,dt.isAwake()?dt.setBgOpacity(R.bgOpacity,1,1):(dt.setBgOpacity(1,1,1),dt.disableHandles()),O(X,0,1))}function c(t,e){f&&(R.bgFade&&!e?d.animate({opacity:1-t},{queue:!1,duration:R.fadeTime}):d.css({opacity:1-t}))}function u(){R.shade?s():l(),dt.isAwake()&&c(R.bgOpacity)}function h(){return d.children()}var f=!1,d=t("<div />").css({position:"absolute",zIndex:240,opacity:0}),p={top:o(),left:o().height(U),right:o().height(U),bottom:o()};return{update:n,updateRaw:r,getShades:h,setBgColor:a,enable:s,disable:l,resize:e,refresh:u,opacity:c}}(),dt=function(){function e(e){var n=t("<div />").css({position:"absolute",opacity:R.borderOpacity}).addClass(r(e));return Y.append(n),n}function n(e,n){var i=t("<div />").mousedown(d(e)).css({cursor:e+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+e);return ut.support&&i.bind("touchstart.jcrop",ut.createDragger(e)),V.append(i),i}function o(t){var e=R.handleSize,i=n(t,T++).css({opacity:R.handleOpacity}).addClass(r("handle"));return e&&i.width(e).height(e),i}function s(t){return n(t,T++).addClass("jcrop-dragbar")}function a(t){var e;for(e=0;e<t.length;e++)I[t[e]]=s(t[e])}function l(t){var n,i;for(i=0;i<t.length;i++){switch(t[i]){case"n":n="hline";break;case"s":n="hline bottom";break;case"e":n="vline right";break;case"w":n="vline"}A[t[i]]=e(n)}}function c(t){var e;for(e=0;e<t.length;e++)P[t[e]]=o(t[e])}function u(t,e){R.shade||Q.css({top:i(-e),left:i(-t)}),K.css({top:i(e),left:i(t)})}function h(t,e){K.width(Math.round(t)).height(Math.round(e))}function f(){var t=ht.getFixed();ht.setPressed([t.x,t.y]),ht.setCurrent([t.x2,t.y2]),p()}function p(t){return E?g(t):void 0}function g(t){var e=ht.getFixed();h(e.w,e.h),u(e.x,e.y),R.shade&&ft.updateRaw(e),E||y(),t?R.onSelect.call(gt,m(e)):R.onChange.call(gt,m(e))}function v(t,e,n){(E||e)&&(R.bgFade&&!n?q.animate({opacity:t},{queue:!1,duration:R.fadeTime}):q.css("opacity",t))}function y(){K.show(),R.shade?ft.opacity(ct):v(ct,!0),E=!0}function w(){C(),K.hide(),R.shade?ft.opacity(1):v(1),E=!1,R.onRelease.call(gt)}function x(){D&&V.show()}function _(){return D=!0,R.allowResize?(V.show(),!0):void 0}function C(){D=!1,V.hide()}function S(t){t?(rt=!0,C()):(rt=!1,_())}function k(){S(!1),f()}var E,T=370,A={},P={},I={},D=!1;R.dragEdges&&t.isArray(R.createDragbars)&&a(R.createDragbars),t.isArray(R.createHandles)&&c(R.createHandles),R.drawBorders&&t.isArray(R.createBorders)&&l(R.createBorders),t(document).bind("touchstart.jcrop-ios",function(e){t(e.currentTarget).hasClass("jcrop-tracker")&&e.stopPropagation()});var O=b().mousedown(d("move")).css({cursor:"move",position:"absolute",zIndex:360});return ut.support&&O.bind("touchstart.jcrop",ut.createDragger("move")),Y.append(O),C(),{updateVisible:p,update:g,release:w,refresh:f,isAwake:function(){return E},setCursor:function(t){O.css("cursor",t)},enableHandles:_,enableOnly:function(){D=!0},showHandles:x,disableHandles:C,animMode:S,setBgOpacity:v,done:k}}(),pt=function(){function e(e){at.css({zIndex:450}),e?t(document).bind("touchmove.jcrop",s).bind("touchend.jcrop",l):f&&t(document).bind("mousemove.jcrop",i).bind("mouseup.jcrop",r)}function n(){at.css({zIndex:290}),t(document).unbind(".jcrop")}function i(t){
return u(a(t)),!1}function r(t){return t.preventDefault(),t.stopPropagation(),it&&(it=!1,h(a(t)),dt.isAwake()&&R.onSelect.call(gt,m(ht.getFixed())),n(),u=function(){},h=function(){}),!1}function o(t,n,i){return it=!0,u=t,h=n,e(i),!1}function s(t){return u(a(ut.cfilter(t))),!1}function l(t){return r(ut.cfilter(t))}function c(t){at.css("cursor",t)}var u=function(){},h=function(){},f=R.trackDocument;return f||at.mousemove(i).mouseup(r).mouseout(r),q.before(at),{activateHandlers:o,setCursor:c}}(),mt=function(){function e(){R.keySupport&&(o.show(),o.focus())}function n(){o.hide()}function i(t,e,n){R.allowMove&&(ht.moveOffset([e,n]),dt.updateVisible(!0)),t.preventDefault(),t.stopPropagation()}function r(t){if(t.ctrlKey||t.metaKey)return!0;ot=!!t.shiftKey;var e=ot?10:1;switch(t.keyCode){case 37:i(t,-e,0);break;case 39:i(t,e,0);break;case 38:i(t,0,-e);break;case 40:i(t,0,e);break;case 27:R.allowSelect&&dt.release();break;case 9:return!0}return!1}var o=t('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),s=t("<div />").css({position:"absolute",overflow:"hidden"}).append(o);return R.keySupport&&(o.keydown(r).blur(n),L||!R.fixedSupport?(o.css({position:"absolute",left:"-20px"}),s.append(o).insertBefore(q)):o.insertBefore(q)),{watchKeys:e}}();ut.support&&at.bind("touchstart.jcrop",ut.newSelection),V.hide(),j(!0);var gt={setImage:D,animateTo:x,setSelect:_,setOptions:E,tellSelect:S,tellScaled:k,setClass:w,disable:T,enable:A,cancel:P,release:dt.release,destroy:I,focus:mt.watchKeys,getBounds:function(){return[W*et,U*nt]},getWidgetSize:function(){return[W,U]},getScaleFactor:function(){return[et,nt]},getOptions:function(){return R},ui:{holder:X,selection:K}};return $&&X.bind("selectstart",function(){return!1}),F.data("Jcrop",gt),gt},t.fn.Jcrop=function(e,n){var i;return this.each(function(){if(t(this).data("Jcrop")){if("api"===e)return t(this).data("Jcrop");t(this).data("Jcrop").setOptions(e)}else"IMG"==this.tagName?t.Jcrop.Loader(this,function(){t(this).css({display:"block",visibility:"hidden"}),i=t.Jcrop(this,e),t.isFunction(n)&&n.call(i)}):(t(this).css({display:"block",visibility:"hidden"}),i=t.Jcrop(this,e),t.isFunction(n)&&n.call(i))}),this},t.Jcrop.Loader=function(e,n,i){function r(){s.complete?(o.unbind(".jcloader"),t.isFunction(n)&&n.call(s)):window.setTimeout(r,50)}var o=t(e),s=o[0];o.bind("load.jcloader",r).bind("error.jcloader",function(){o.unbind(".jcloader"),t.isFunction(i)&&i.call(s)}),s.complete&&t.isFunction(n)&&(o.unbind(".jcloader"),n.call(s))},t.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery),jQuery&&function(t){function e(e,n){var i=t('<div class="minicolors" />'),r=t.minicolors.defaults;e.data("minicolors-initialized")||(n=t.extend(!0,{},r,n),i.addClass("minicolors-theme-"+n.theme).toggleClass("minicolors-with-opacity",n.opacity),void 0!==n.position&&t.each(n.position.split(" "),function(){i.addClass("minicolors-position-"+this)}),e.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",n).prop("size",7).wrap(i).after('<div class="minicolors-panel minicolors-slider-'+n.control+'"><div class="minicolors-slider"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider"><div class="minicolors-picker"></div></div><div class="minicolors-grid"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),n.inline||(e.after('<span class="minicolors-swatch"><span class="minicolors-swatch-color"></span></span>'),e.next(".minicolors-swatch").on("click",function(t){t.preventDefault(),e.focus()})),e.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),n.inline&&e.parent().addClass("minicolors-inline"),a(e,!1),e.data("minicolors-initialized",!0))}function n(t){var e=t.parent();t.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),e.before(t).remove()}function i(t){var e=t.parent(),n=e.find(".minicolors-panel"),i=t.data("minicolors-settings");!t.data("minicolors-initialized")||t.prop("disabled")||e.hasClass("minicolors-inline")||e.hasClass("minicolors-focus")||(r(),e.addClass("minicolors-focus"),n.stop(!0,!0).fadeIn(i.showSpeed,function(){i.show&&i.show.call(t.get(0))}))}function r(){t(".minicolors-focus").each(function(){var e=t(this),n=e.find(".minicolors-input"),i=e.find(".minicolors-panel"),r=n.data("minicolors-settings");i.fadeOut(r.hideSpeed,function(){r.hide&&r.hide.call(n.get(0)),e.removeClass("minicolors-focus")})})}function o(t,e,n){var i,r,o,a,l=t.parents(".minicolors").find(".minicolors-input"),c=l.data("minicolors-settings"),u=t.find("[class$=-picker]"),h=t.offset().left,f=t.offset().top,d=Math.round(e.pageX-h),p=Math.round(e.pageY-f),m=n?c.animationSpeed:0;e.originalEvent.changedTouches&&(d=e.originalEvent.changedTouches[0].pageX-h,p=e.originalEvent.changedTouches[0].pageY-f),d<0&&(d=0),p<0&&(p=0),d>t.width()&&(d=t.width()),p>t.height()&&(p=t.height()),t.parent().is(".minicolors-slider-wheel")&&u.parent().is(".minicolors-grid")&&(i=75-d,r=75-p,o=Math.sqrt(i*i+r*r),a=Math.atan2(r,i),a<0&&(a+=2*Math.PI),o>75&&(o=75,d=75-75*Math.cos(a),p=75-75*Math.sin(a)),d=Math.round(d),p=Math.round(p)),t.is(".minicolors-grid")?u.stop(!0).animate({top:p+"px",left:d+"px"},m,c.animationEasing,function(){s(l,t)}):u.stop(!0).animate({top:p+"px"},m,c.animationEasing,function(){s(l,t)})}function s(t,e){function n(t,e){var n,i;return t.length&&e?(n=t.offset().left,i=t.offset().top,{x:n-e.offset().left+t.outerWidth()/2,y:i-e.offset().top+t.outerHeight()/2}):null}var i,r,o,s,a,c,u,f=t.val(),p=t.attr("data-opacity"),m=t.parent(),v=t.data("minicolors-settings"),y=m.find(".minicolors-swatch"),b=m.find(".minicolors-grid"),w=m.find(".minicolors-slider"),x=m.find(".minicolors-opacity-slider"),_=b.find("[class$=-picker]"),C=w.find("[class$=-picker]"),S=x.find("[class$=-picker]"),k=n(_,b),E=n(C,w),T=n(S,x);if(e.is(".minicolors-grid, .minicolors-slider")){switch(v.control){case"wheel":s=b.width()/2-k.x,a=b.height()/2-k.y,c=Math.sqrt(s*s+a*a),u=Math.atan2(a,s),u<0&&(u+=2*Math.PI),c>75&&(c=75,k.x=69-75*Math.cos(u),k.y=69-75*Math.sin(u)),r=d(c/.75,0,100),i=d(180*u/Math.PI,0,360),o=d(100-Math.floor(E.y*(100/w.height())),0,100),f=g({h:i,s:r,b:o}),w.css("backgroundColor",g({h:i,s:r,b:100}));break;case"saturation":i=d(parseInt(k.x*(360/b.width()),10),0,360),r=d(100-Math.floor(E.y*(100/w.height())),0,100),o=d(100-Math.floor(k.y*(100/b.height())),0,100),f=g({h:i,s:r,b:o}),w.css("backgroundColor",g({h:i,s:100,b:o})),m.find(".minicolors-grid-inner").css("opacity",r/100);break;case"brightness":i=d(parseInt(k.x*(360/b.width()),10),0,360),r=d(100-Math.floor(k.y*(100/b.height())),0,100),o=d(100-Math.floor(E.y*(100/w.height())),0,100),f=g({h:i,s:r,b:o}),w.css("backgroundColor",g({h:i,s:r,b:100})),m.find(".minicolors-grid-inner").css("opacity",1-o/100);break;default:i=d(360-parseInt(E.y*(360/w.height()),10),0,360),r=d(Math.floor(k.x*(100/b.width())),0,100),o=d(100-Math.floor(k.y*(100/b.height())),0,100),f=g({h:i,s:r,b:o}),b.css("backgroundColor",g({h:i,s:100,b:100}))}t.val(h(f,v.letterCase))}e.is(".minicolors-opacity-slider")&&(p=v.opacity?parseFloat(1-T.y/x.height()).toFixed(2):1,v.opacity&&t.attr("data-opacity",p)),y.find("SPAN").css({backgroundColor:f,opacity:p}),l(t,f,p)}function a(t,e){var n,i,r,o,s,a,c,u=t.parent(),p=t.data("minicolors-settings"),m=u.find(".minicolors-swatch"),y=u.find(".minicolors-grid"),b=u.find(".minicolors-slider"),w=u.find(".minicolors-opacity-slider"),x=y.find("[class$=-picker]"),_=b.find("[class$=-picker]"),C=w.find("[class$=-picker]");switch(n=h(f(t.val(),!0),p.letterCase),n||(n=h(f(p.defaultValue,!0),p.letterCase)),i=v(n),e||t.val(n),p.opacity&&(r=""===t.attr("data-opacity")?1:d(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),isNaN(r)&&(r=1),t.attr("data-opacity",r),m.find("SPAN").css("opacity",r),s=d(w.height()-w.height()*r,0,w.height()),C.css("top",s+"px")),m.find("SPAN").css("backgroundColor",n),p.control){case"wheel":a=d(Math.ceil(.75*i.s),0,y.height()/2),c=i.h*Math.PI/180,o=d(75-Math.cos(c)*a,0,y.width()),s=d(75-Math.sin(c)*a,0,y.height()),x.css({top:s+"px",left:o+"px"}),s=150-i.b/(100/y.height()),""===n&&(s=0),_.css("top",s+"px"),b.css("backgroundColor",g({h:i.h,s:i.s,b:100}));break;case"saturation":o=d(5*i.h/12,0,150),s=d(y.height()-Math.ceil(i.b/(100/y.height())),0,y.height()),x.css({top:s+"px",left:o+"px"}),s=d(b.height()-i.s*(b.height()/100),0,b.height()),_.css("top",s+"px"),b.css("backgroundColor",g({h:i.h,s:100,b:i.b})),u.find(".minicolors-grid-inner").css("opacity",i.s/100);break;case"brightness":o=d(5*i.h/12,0,150),s=d(y.height()-Math.ceil(i.s/(100/y.height())),0,y.height()),x.css({top:s+"px",left:o+"px"}),s=d(b.height()-i.b*(b.height()/100),0,b.height()),_.css("top",s+"px"),b.css("backgroundColor",g({h:i.h,s:i.s,b:100})),u.find(".minicolors-grid-inner").css("opacity",1-i.b/100);break;default:o=d(Math.ceil(i.s/(100/y.width())),0,y.width()),s=d(y.height()-Math.ceil(i.b/(100/y.height())),0,y.height()),x.css({top:s+"px",left:o+"px"}),s=d(b.height()-i.h/(360/b.height()),0,b.height()),_.css("top",s+"px"),y.css("backgroundColor",g({h:i.h,s:100,b:100}))}t.data("minicolors-initialized")&&l(t,n,r)}function l(t,e,n){var i=t.data("minicolors-settings"),r=t.data("minicolors-lastChange");r&&r.hex===e&&r.opacity===n||(t.data("minicolors-lastChange",{hex:e,opacity:n}),i.change&&(i.changeDelay?(clearTimeout(t.data("minicolors-changeTimeout")),t.data("minicolors-changeTimeout",setTimeout(function(){i.change.call(t.get(0),e,n)},i.changeDelay))):i.change.call(t.get(0),e,n)),t.trigger("change").trigger("input"))}function c(e){var n=f(t(e).val(),!0),i=b(n),r=t(e).attr("data-opacity");return i?(void 0!==r&&t.extend(i,{a:parseFloat(r)}),i):null}function u(e,n){var i=f(t(e).val(),!0),r=b(i),o=t(e).attr("data-opacity");return r?(void 0===o&&(o=1),n?"rgba("+r.r+", "+r.g+", "+r.b+", "+parseFloat(o)+")":"rgb("+r.r+", "+r.g+", "+r.b+")"):null}function h(t,e){return"uppercase"===e?t.toUpperCase():t.toLowerCase()}function f(t,e){return t=t.replace(/[^A-F0-9]/gi,""),3!==t.length&&6!==t.length?"":(3===t.length&&e&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),"#"+t)}function d(t,e,n){return t<e&&(t=e),t>n&&(t=n),t}function p(t){var e={},n=Math.round(t.h),i=Math.round(255*t.s/100),r=Math.round(255*t.b/100);if(0===i)e.r=e.g=e.b=r;else{var o=r,s=(255-i)*r/255,a=(o-s)*(n%60)/60;360===n&&(n=0),n<60?(e.r=o,e.b=s,e.g=s+a):n<120?(e.g=o,e.b=s,e.r=o-a):n<180?(e.g=o,e.r=s,e.b=s+a):n<240?(e.b=o,e.r=s,e.g=o-a):n<300?(e.b=o,e.g=s,e.r=s+a):n<360?(e.r=o,e.g=s,e.b=o-a):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}}function m(e){var n=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(n,function(t,e){1===e.length&&(n[t]="0"+e)}),"#"+n.join("")}function g(t){return m(p(t))}function v(t){var e=y(b(t));return 0===e.s&&(e.h=360),e}function y(t){var e={h:0,s:0,b:0},n=Math.min(t.r,t.g,t.b),i=Math.max(t.r,t.g,t.b),r=i-n;return e.b=i,e.s=0!==i?255*r/i:0,0!==e.s?t.r===i?e.h=(t.g-t.b)/r:t.g===i?e.h=2+(t.b-t.r)/r:e.h=4+(t.r-t.g)/r:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e}function b(t){return t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16),{r:t>>16,g:(65280&t)>>8,b:255&t}}t.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}},t.extend(t.fn,{minicolors:function(o,s){switch(o){case"destroy":return t(this).each(function(){n(t(this))}),t(this);case"hide":return r(),t(this);case"opacity":return void 0===s?t(this).attr("data-opacity"):(t(this).each(function(){a(t(this).attr("data-opacity",s))}),t(this));case"rgbObject":return c(t(this),"rgbaObject"===o);case"rgbString":case"rgbaString":return u(t(this),"rgbaString"===o);case"settings":return void 0===s?t(this).data("minicolors-settings"):(t(this).each(function(){var e=t(this).data("minicolors-settings")||{};n(t(this)),t(this).minicolors(t.extend(!0,e,s))}),t(this));case"show":return i(t(this).eq(0)),t(this);case"value":return void 0===s?t(this).val():(t(this).each(function(){a(t(this).val(s))}),t(this));default:return"create"!==o&&(s=o),t(this).each(function(){e(t(this),s)}),t(this)}}}),t(document).on("mousedown.minicolors touchstart.minicolors",function(e){t(e.target).parents().add(e.target).hasClass("minicolors")||r()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(e){var n=t(this);e.preventDefault(),t(document).data("minicolors-target",n),o(n,e,!0)}).on("mousemove.minicolors touchmove.minicolors",function(e){var n=t(document).data("minicolors-target");n&&o(n,e)}).on("mouseup.minicolors touchend.minicolors",function(){t(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(e){var n=t(this).parent().find(".minicolors-input");e.preventDefault(),i(n)}).on("focus.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&i(e)}).on("blur.minicolors",".minicolors-input",function(){var e=t(this),n=e.data("minicolors-settings");e.data("minicolors-initialized")&&(e.val(f(e.val(),!0)),""===e.val()&&e.val(f(n.defaultValue,!0)),e.val(h(e.val(),n.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(e){var n=t(this);if(n.data("minicolors-initialized"))switch(e.keyCode){case 9:r();break;case 13:case 27:r(),n.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&a(e,!0)}).on("paste.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&setTimeout(function(){a(e,!0)},1)})}(jQuery),function(t){"use strict";t.fn.serializeJSON=function(e){var n,i,r,o,s,a;return s=t.serializeJSON,i=this.serializeArray(),a=s.optsWithDefaults(e),n={},t.each(i,function(t,e){r=s.splitInputNameIntoKeysArray(e.name),o=s.parseValue(e.value,a),a.parseWithFunction&&(o=a.parseWithFunction(o)),s.deepSet(n,r,o,a)}),n},t.serializeJSON={defaultOptions:{parseNumbers:!1,parseBooleans:!1,parseNulls:!1,parseAll:!1,parseWithFunction:null,useIntKeysAsArrayIndex:!1},optsWithDefaults:function(e){var n,i;return null==e&&(e={}),n=t.serializeJSON,i=n.optWithDefaults("parseAll",e),{parseNumbers:i||n.optWithDefaults("parseNumbers",e),parseBooleans:i||n.optWithDefaults("parseBooleans",e),parseNulls:i||n.optWithDefaults("parseNulls",e),parseWithFunction:n.optWithDefaults("parseWithFunction",e),useIntKeysAsArrayIndex:n.optWithDefaults("useIntKeysAsArrayIndex",e)}},optWithDefaults:function(e,n){return n[e]!==!1&&(n[e]||t.serializeJSON.defaultOptions[e])},parseValue:function(e,n){var i;return i=t.serializeJSON,n.parseNumbers&&i.isNumeric(e)?Number(e):!n.parseBooleans||"true"!==e&&"false"!==e?n.parseNulls&&"null"==e?null:e:"true"===e},isObject:function(t){return t===Object(t)},isUndefined:function(t){return void 0===t},isValidArrayIndex:function(t){return/^[0-9]+$/.test(String(t))},isNumeric:function(t){return t-parseFloat(t)>=0},splitInputNameIntoKeysArray:function(e){var n,i,r;if(r=t.serializeJSON,r.isUndefined(e))throw new Error("ArgumentError: param 'name' expected to be a string, found undefined");return n=t.map(e.split("["),function(t){return i=t[t.length-1],"]"===i?t.substring(0,t.length-1):t}),""===n[0]&&n.shift(),n},deepSet:function(e,n,i,r){var o,s,a,l,c,u;if(null==r&&(r={}),u=t.serializeJSON,u.isUndefined(e))throw new Error("ArgumentError: param 'o' expected to be an object or array, found undefined");if(!n||0===n.length)throw new Error("ArgumentError: param 'keys' expected to be an array with least one element");o=n[0],1===n.length?""===o?e.push(i):e[o]=i:(s=n[1],""===o&&(l=e.length-1,c=e[l],o=u.isObject(c)&&(u.isUndefined(c[s])||n.length>2)?l:l+1),u.isUndefined(e[o])&&(""===s?e[o]=[]:r.useIntKeysAsArrayIndex&&u.isValidArrayIndex(s)?e[o]=[]:e[o]={}),a=n.slice(1),u.deepSet(e[o],a,i,r))}}}(window.jQuery||window.Zepto||window.$),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=t.event.dispatch||t.event.handle,n=t.event.special,i="D"+ +new Date,r="D"+(+new Date+1);n.scrollstart={setup:function(r){var o,s=t.extend({latency:n.scrollstop.latency},r),a=function(t){var n=this,i=arguments;o?clearTimeout(o):(t.type="scrollstart",e.apply(n,i)),o=setTimeout(function(){o=null},s.latency)};t(this).bind("scroll",a).data(i,a)},teardown:function(){t(this).unbind("scroll",t(this).data(i))}},n.scrollstop={latency:250,setup:function(i){var o,s=t.extend({latency:n.scrollstop.latency},i),a=function(t){var n=this,i=arguments;o&&clearTimeout(o),o=setTimeout(function(){o=null,t.type="scrollstop",e.apply(n,i)},s.latency)};t(this).bind("scroll",a).data(r,a)},teardown:function(){t(this).unbind("scroll",t(this).data(r))}}}),function(t,e){t.widget("ui.rotatable",t.ui.mouse,{widgetEventPrefix:"rotate",options:{handle:!1,angle:!1,wheelRotate:!1,snap:!1,step:22.5,handleOffset:{top:0,left:0},rotationCenterX:!1,rotationCenterY:!1,start:null,rotate:null,stop:null},rotationCenterX:function(t){return t===e?this.options.rotationCenterX:void(this.options.rotationCenterX=t)},rotationCenterY:function(t){return t===e?this.options.rotationCenterY:void(this.options.rotationCenterY=t)},handle:function(t){return t===e?this.options.handle:void(this.options.handle=t)},angle:function(t){return t===e?this.options.angle:(this.options.angle=t,this.elementCurrentAngle=t,void this.performRotation(this.options.angle))},_create:function(){var e;this.options.handle?e=this.options.handle:(e=t(document.createElement("div")),e.addClass("ui-rotatable-handle")),this.listeners={rotateElement:t.proxy(this.rotateElement,this),startRotate:t.proxy(this.startRotate,this),stopRotate:t.proxy(this.stopRotate,this),wheelRotate:t.proxy(this.wheelRotate,this)},this.options.wheelRotate&&this.element.bind("wheel",this.listeners.wheelRotate),e.draggable({helper:"clone",start:this.dragStart,handle:e}),e.bind("mousedown",this.listeners.startRotate),e.closest(this.element).length||e.appendTo(this.element),0!=this.options.angle?(this.elementCurrentAngle=this.options.angle,this.performRotation(this.elementCurrentAngle)):this.elementCurrentAngle=0},_destroy:function(){this.element.removeClass("ui-rotatable"),this.element.find(".ui-rotatable-handle").remove(),this.options.wheelRotate&&this.element.unbind("wheel",this.listeners.wheelRotate)},performRotation:function(t){this.element.css("transform-origin",this.options.rotationCenterX+"% "+this.options.rotationCenterY+"%"),this.element.css("-ms-transform-origin",this.options.rotationCenterX+"% "+this.options.rotationCenterY+"%"),this.element.css("-webkit-transform-origin",this.options.rotationCenterX+"% "+this.options.rotationCenterY+"%"),this.element.css("transform","rotate("+t+"rad)"),this.element.css("-moz-transform","rotate("+t+"rad)"),this.element.css("-webkit-transform","rotate("+t+"rad)"),this.element.css("-o-transform","rotate("+t+"rad)")},getElementOffset:function(){this.performRotation(0);var t=this.element.offset();return this.performRotation(this.elementCurrentAngle),t},getElementCenter:function(){var t=this.getElementOffset();if(this.options.rotationCenterX===!1)var e=t.left+this.element.width()/2,n=t.top+this.element.height()/2;else var e=t.left+this.element.width()/100*this.options.rotationCenterX,n=t.top+this.element.height()/100*this.options.rotationCenterY;return Array(e,n)},dragStart:function(t){if(this.element)return!1},startRotate:function(e){var n=this.getElementCenter(),i=e.pageX-this.options.handleOffset.left-n[0],r=e.pageY-this.options.handleOffset.top-n[1];return this.mouseStartAngle=Math.atan2(r,i),this.elementStartAngle=this.elementCurrentAngle,this.hasRotated=!1,this._propagate("start",e),t(document).bind("mousemove",this.listeners.rotateElement),t(document).bind("mouseup",this.listeners.stopRotate),!1},rotateElement:function(t){if(!this.element||this.element.disabled)return!1;if(!t.which)return this.stopRotate(t),!1;var e=this.getRotateAngle(t),n=this.elementCurrentAngle;if(this.elementCurrentAngle=e,this._propagate("rotate",t),this._propagate("rotate",t)===!1)return this.elementCurrentAngle=n,!1;var i=this.ui();return this._trigger("rotate",t,i)===!1?(this.elementCurrentAngle=n,!1):(i.angle.current!=e&&(e=i.angle.current,this.elementCurrentAngle=e),this.performRotation(e),n!=e&&(this.hasRotated=!0),!1)},stopRotate:function(e){if(this.element&&!this.element.disabled)return t(document).unbind("mousemove",this.listeners.rotateElement),t(document).unbind("mouseup",this.listeners.stopRotate),this.elementStopAngle=this.elementCurrentAngle,this._propagate("stop",e),setTimeout(function(){this.element=!1},10),!1},getRotateAngle:function(t){var e=this.getElementCenter(),n=t.pageX-this.options.handleOffset.left-e[0],i=t.pageY-this.options.handleOffset.top-e[1],r=Math.atan2(i,n),o=r-this.mouseStartAngle+this.elementStartAngle;return(this.options.snap||t.shiftKey)&&(o=this._calculateSnap(o)),o},wheelRotate:function(t){var e=Math.round(t.originalEvent.deltaY/10)*Math.PI/180;(this.options.snap||t.shiftKey)&&(e=this._calculateSnap(e)),e=this.elementCurrentAngle+e,this.angle(e),this._trigger("rotate",t,this.ui())},_calculateSnap:function(t){var e=t/Math.PI*180;return e=Math.round(e/this.options.step)*this.options.step,e*Math.PI/180},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"rotate"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{api:this,element:this.element,angle:{start:this.elementStartAngle,current:this.elementCurrentAngle,stop:this.elementStopAngle}}}})}(jQuery),function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var n=t.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i)}}if(t.support.touch="ontouchend"in document,t.support.touch){var n,i=t.ui.mouse.prototype,r=i._mouseInit,o=i._mouseDestroy;i._touchStart=function(t){var i=this;!n&&i._mouseCapture(t.originalEvent.changedTouches[0])&&(n=!0,i._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},i._touchMove=function(t){n&&(this._touchMoved=!0,e(t,"mousemove"))},i._touchEnd=function(t){n&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),n=!1)},i._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),r.call(e)},i._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),o.call(e)}}}(jQuery),function(t){t.fn.unveil=function(e,n){function i(){var e=c.filter(function(){var e=t(this);if(!e.is(":hidden")){var n=o.scrollTop(),i=n+o.height(),r=e.offset().top,a=r+e.height();return a>=n-s&&r<=i+s}});r=e.trigger("unveil"),c=c.not(r)}var r,o=t(window),s=e||0,a=window.devicePixelRatio>1,l=a?"data-src-retina":"data-src",c=this;return this.one("unveil",function(){var t=this.getAttribute(l);t=t||this.getAttribute("data-src"),t&&(this.setAttribute("src",t),"function"==typeof n&&n.call(this))}),o.on("scroll.unveil resize.unveil lookup.unveil",i),i(),this}}(window.jQuery||window.Zepto),!function(t){"use strict";function e(t){return!!a&&a.createObjectURL(t)}function n(t){return!!a&&a.revokeObjectURL(t)}function i(t,e){!t||"blob:"!==t.slice(0,5)||e&&e.noRevoke||n(t)}function r(e,n,i,r){if(!t.FileReader)return!1;var o=new FileReader;o.onload=function(){n.call(o,this.result)},i&&(o.onabort=o.onerror=function(){i.call(o,this.error)});var s=o[r||"readAsDataURL"];return s?(s.call(o,e),o):void 0}function o(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"}function s(n,a,l){function c(a,c){function u(t,e){a!==c?t instanceof Error?c(t):((e=e||{}).image=t,a(e)):a&&a(t,e)}function h(i,r){r&&t.console&&console.log(r),i&&o("Blob",i)?f=e(n=i):(f=n,l&&l.crossOrigin&&(d.crossOrigin=l.crossOrigin)),d.src=f}var f,d=document.createElement("img");return d.onerror=function(t){i(f,l),c&&c.call(d,t)},d.onload=function(){i(f,l);var t={originalWidth:d.naturalWidth||d.width,originalHeight:d.naturalHeight||d.height};try{s.transform(d,l,u,n,t)}catch(t){c&&c(t)}},"string"==typeof n?(s.requiresMetaData(l)?s.fetchBlob(n,h,l):h(),d):o("Blob",n)||o("File",n)?(f=e(n))?(d.src=f,d):r(n,function(t){d.src=t},c):void 0}return t.Promise&&"function"!=typeof a?(l=a,new Promise(c)):c(a,a)}var a=t.URL||t.webkitURL;s.requiresMetaData=function(t){return t&&t.meta},s.fetchBlob=function(t,e){e()},s.transform=function(t,e,n,i,r){n(t,r)},s.global=t,s.readFile=r,s.isInstanceOf=o,s.createObjectURL=e,s.revokeObjectURL=n,"function"==typeof define&&define.amd?define(function(){return s}):"object"==typeof module&&module.exports?module.exports=s:t.loadImage=s}("undefined"!=typeof window&&window||this),function(t){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],t):t("object"==typeof module&&module.exports?require("./load-image"):window.loadImage)}(function(t){"use strict";var e=t.transform;t.createCanvas=function(e,n,i){if(i&&t.global.OffscreenCanvas)return new OffscreenCanvas(e,n);var r=document.createElement("canvas");return r.width=e,r.height=n,r},t.transform=function(n,i,r,o,s){e.call(t,t.scale(n,i,s),i,r,o,s)},t.transformCoordinates=function(){},t.getTransformedOptions=function(t,e){var n,i,r,o,s=e.aspectRatio;if(!s)return e;for(i in n={},e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n.crop=!0,s<(r=t.naturalWidth||t.width)/(o=t.naturalHeight||t.height)?(n.maxWidth=o*s,n.maxHeight=o):(n.maxWidth=r,n.maxHeight=r/s),n},t.drawImage=function(t,e,n,i,r,o,s,a,l){var c=e.getContext("2d");return!1===l.imageSmoothingEnabled?(c.msImageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1):l.imageSmoothingQuality&&(c.imageSmoothingQuality=l.imageSmoothingQuality),c.drawImage(t,n,i,r,o,0,0,s,a),c},t.requiresCanvas=function(t){return t.canvas||t.crop||!!t.aspectRatio},t.scale=function(e,n,i){function r(){var t=Math.max((l||x)/x,(c||_)/_);1<t&&(x*=t,_*=t)}function o(){var t=Math.min((s||x)/x,(a||_)/_);t<1&&(x*=t,_*=t)}n=n||{},i=i||{};var s,a,l,c,u,h,f,d,p,m,g,v,y=e.getContext||t.requiresCanvas(n)&&!!t.global.HTMLCanvasElement,b=e.naturalWidth||e.width,w=e.naturalHeight||e.height,x=b,_=w;if(y&&(f=(n=t.getTransformedOptions(e,n,i)).left||0,d=n.top||0,n.sourceWidth?(u=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(f=b-u-n.right)):u=b-f-(n.right||0),n.sourceHeight?(h=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(d=w-h-n.bottom)):h=w-d-(n.bottom||0),x=u,_=h),s=n.maxWidth,a=n.maxHeight,l=n.minWidth,c=n.minHeight,y&&s&&a&&n.crop?(g=u/h-(x=s)/(_=a))<0?(h=a*u/s,void 0===n.top&&void 0===n.bottom&&(d=(w-h)/2)):0<g&&(u=s*h/a,void 0===n.left&&void 0===n.right&&(f=(b-u)/2)):((n.contain||n.cover)&&(l=s=s||l,c=a=a||c),n.cover?(o(),r()):(r(),o())),y){if(1<(p=n.pixelRatio)&&(!e.style.width||Math.floor(parseFloat(e.style.width,10))!==Math.floor(b/p))&&(x*=p,_*=p),t.orientationCropBug&&!e.getContext&&(f||d||u!==b||h!==w)&&(g=e,e=t.createCanvas(b,w,!0),t.drawImage(g,e,0,0,b,w,b,w,n)),0<(m=n.downsamplingRatio)&&m<1&&x<u&&_<h)for(;x<u*m;)v=t.createCanvas(u*m,h*m,!0),t.drawImage(e,v,f,d,u,h,v.width,v.height,n),d=f=0,u=v.width,h=v.height,e=v;return v=t.createCanvas(x,_),t.transformCoordinates(v,n,i),1<p&&(v.style.width=v.width/p+"px"),t.drawImage(e,v,f,d,u,h,x,_,n).setTransform(1,0,0,1,0,0),v}return e.width=x,e.height=_,e}}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],t):t("object"==typeof module&&module.exports?require("./load-image"):window.loadImage)}(function(t){"use strict";function e(e,n,r,l){function c(n,c){if(!(i.DataView&&o&&e&&12<=e.size&&"image/jpeg"===e.type))return n(l);var h=r.maxMetaDataSize||262144;t.readFile(o.call(e,0,h),function(t){var e=new DataView(t);if(65496!==e.getUint16(0))return c(new Error("Invalid JPEG file: Missing JPEG marker."));for(var i,o,h,f,d=2,p=e.byteLength-4,m=d;d<p&&(65504<=(i=e.getUint16(d))&&i<=65519||65534===i);){if(d+(o=e.getUint16(d+2)+2)>e.byteLength){console.log("Invalid JPEG metadata: Invalid segment size.");break}if((h=a.jpeg[i])&&!r.disableMetaDataParsers)for(f=0;f<h.length;f+=1)h[f].call(u,e,d,o,l,r);m=d+=o}!r.disableImageHead&&6<m&&(l.imageHead=s.call(t,0,m)),n(l)},c,"readAsArrayBuffer")||n(l)}var u=this;return r=r||{},i.Promise&&"function"!=typeof n?(l=r=n||{},new Promise(c)):(l=l||{},c(n,n))}function n(t,e,n){return t&&e&&n?new Blob([n,o.call(t,e.byteLength)],{type:"image/jpeg"}):null}var i=t.global,r=t.transform,o=i.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),s=i.ArrayBuffer&&ArrayBuffer.prototype.slice||function(t,e){e=e||this.byteLength-t;var n=new Uint8Array(this,t,e),i=new Uint8Array(e);return i.set(n),i.buffer},a={jpeg:{65505:[],65517:[]}};t.transform=function(n,o,s,a,l){t.requiresMetaData(o)?e(a,function(e){e!==l&&(i.console&&console.log(e),e=l),r.call(t,n,o,s,a,e)},o,l=l||{}):r.apply(t,arguments)},t.blobSlice=o,t.bufferSlice=s,t.replaceHead=function(t,r,o){var s={maxMetaDataSize:256,disableMetaDataParsers:!0};return!o&&i.Promise?e(t,s).then(function(e){return n(t,e.imageHead,r)}):void e(t,function(e){o(n(t,e.imageHead,r))},s)},t.parseMetaData=e,t.metaDataParsers=a}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],t):t("object"==typeof module&&module.exports?require("./load-image"):window.loadImage)}(function(t){"use strict";var e=t.global;e.fetch&&e.Request&&e.Response&&e.Response.prototype.blob?t.fetchBlob=function(t,n,i){function r(t){return t.blob()}return e.Promise&&"function"!=typeof n?fetch(new Request(t,n)).then(r):void fetch(new Request(t,i)).then(r).then(n).catch(function(t){n(null,t)})}:e.XMLHttpRequest&&""===(new XMLHttpRequest).responseType&&(t.fetchBlob=function(t,n,i){function r(e,n){i=i||{};var r=new XMLHttpRequest;r.open(i.method||"GET",t),i.headers&&Object.keys(i.headers).forEach(function(t){r.setRequestHeader(t,i.headers[t])}),r.withCredentials="include"===i.credentials,r.responseType="blob",r.onload=function(){e(r.response)},r.onerror=r.onabort=r.ontimeout=function(t){e===n?n(null,t):n(t)},r.send(i.body)}return e.Promise&&"function"!=typeof n?(i=n,new Promise(r)):r(n,n)})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-scale","./load-image-meta"],t):"object"==typeof module&&module.exports?t(require("./load-image"),require("./load-image-scale"),require("./load-image-meta")):t(window.loadImage)}(function(t){"use strict";function e(e,n){var i=e&&e.orientation;return!0===i&&!t.orientation||1===i&&t.orientation||(!n||t.orientation)&&1<i&&i<9}function n(t,e){return t!==e&&(1===t&&1<e&&e<9||1<t&&t<9)}function i(t,e){if(1<e&&e<9)switch(t){case 2:case 4:return 4<e;case 5:case 7:return e%2==0;case 6:case 8:return 2===e||4===e||5===e||7===e}}var r,o,s=t.transform,a=t.requiresCanvas,l=t.requiresMetaData,c=t.transformCoordinates,u=t.getTransformedOptions;(r=t).global.document&&((o=document.createElement("img")).onload=function(){var t;r.orientation=2===o.width&&3===o.height,r.orientation&&((t=r.createCanvas(1,1,!0).getContext("2d")).drawImage(o,1,1,1,1,0,0,1,1),r.orientationCropBug="255,255,255,255"!==t.getImageData(0,0,1,1).data.toString());
},o.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k="),t.requiresCanvas=function(n){return e(n)||a.call(t,n)},t.requiresMetaData=function(n){return e(n,!0)||l.call(t,n)},t.transform=function(e,n,i,r,o){s.call(t,e,n,function(e,n){var r,o,s;!n||4<(r=t.orientation&&n.exif&&n.exif.get("Orientation"))&&r<9&&(o=n.originalWidth,s=n.originalHeight,n.originalWidth=s,n.originalHeight=o),i(e,n)},r,o)},t.getTransformedOptions=function(e,r,o){var s=u.call(t,e,r),a=o.exif&&o.exif.get("Orientation"),l=s.orientation,c=t.orientation&&a;if(!0===l&&(l=a),!n(l,c))return s;var h,f,d=s.top,p=s.right,m=s.bottom,g=s.left,v={};for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(v[y]=s[y]);if((4<(v.orientation=l)&&!(4<c)||l<5&&4<c)&&(v.maxWidth=s.maxHeight,v.maxHeight=s.maxWidth,v.minWidth=s.minHeight,v.minHeight=s.minWidth,v.sourceWidth=s.sourceHeight,v.sourceHeight=s.sourceWidth),1<c){switch(c){case 2:p=s.left,g=s.right;break;case 3:d=s.bottom,p=s.left,m=s.top,g=s.right;break;case 4:d=s.bottom,m=s.top;break;case 5:d=s.left,p=s.bottom,m=s.right,g=s.top;break;case 6:d=s.left,p=s.top,m=s.right,g=s.bottom;break;case 7:d=s.right,p=s.top,m=s.left,g=s.bottom;break;case 8:d=s.right,p=s.bottom,m=s.left,g=s.top}i(l,c)&&(h=d,f=p,d=m,p=g,m=h,g=f)}switch(v.top=d,v.right=p,v.bottom=m,v.left=g,l){case 2:v.right=g,v.left=p;break;case 3:v.top=m,v.right=g,v.bottom=d,v.left=p;break;case 4:v.top=m,v.bottom=d;break;case 5:v.top=g,v.right=m,v.bottom=p,v.left=d;break;case 6:v.top=p,v.right=m,v.bottom=g,v.left=d;break;case 7:v.top=p,v.right=d,v.bottom=g,v.left=m;break;case 8:v.top=g,v.right=d,v.bottom=p,v.left=m}return v},t.transformCoordinates=function(e,r,o){c.call(t,e,r,o);var s=r.orientation,a=t.orientation&&o.exif&&o.exif.get("Orientation");if(n(s,a)){var l=e.getContext("2d"),u=e.width,h=e.height,f=u,d=h;switch((4<s&&!(4<a)||s<5&&4<a)&&(e.width=h,e.height=u),4<s&&(f=h,d=u),a){case 2:l.translate(f,0),l.scale(-1,1);break;case 3:l.translate(f,d),l.rotate(Math.PI);break;case 4:l.translate(0,d),l.scale(1,-1);break;case 5:l.rotate(-.5*Math.PI),l.scale(-1,1);break;case 6:l.rotate(-.5*Math.PI),l.translate(-f,0);break;case 7:l.rotate(-.5*Math.PI),l.translate(-f,d),l.scale(1,-1);break;case 8:l.rotate(.5*Math.PI),l.translate(0,-d)}switch(i(s,a)&&(l.translate(f,d),l.rotate(Math.PI)),s){case 2:l.translate(u,0),l.scale(-1,1);break;case 3:l.translate(u,h),l.rotate(Math.PI);break;case 4:l.translate(0,h),l.scale(1,-1);break;case 5:l.rotate(.5*Math.PI),l.scale(1,-1);break;case 6:l.rotate(.5*Math.PI),l.translate(0,-h);break;case 7:l.rotate(.5*Math.PI),l.translate(u,-h),l.scale(-1,1);break;case 8:l.rotate(-.5*Math.PI),l.translate(-u,0)}}}}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],t):"object"==typeof module&&module.exports?t(require("./load-image"),require("./load-image-meta")):t(window.loadImage)}(function(t){"use strict";function e(t){t&&(Object.defineProperty(this,"map",{value:this.ifds[t].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[t]||{}}))}function n(t,e,n){return(!t||t[n])&&(!e||!0!==e[n])}function i(t,e,i,o,s,a,l,c){var u,h,f,d,p,m;if(i+6>t.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((h=i+2+12*(u=t.getUint16(i,o)))+4>t.byteLength)){for(f=0;f<u;f+=1)d=i+2+12*f,n(l,c,p=t.getUint16(d,o))&&(m=function(t,e,n,i,o,s){var a,l,c,u,h,f,d=r[i];if(d){if(!((l=4<(a=d.size*o)?e+t.getUint32(n+8,s):n+8)+a>t.byteLength)){if(1===o)return d.getValue(t,l,s);for(c=[],u=0;u<o;u+=1)c[u]=d.getValue(t,l+u*d.size,s);if(d.ascii){for(h="",u=0;u<c.length&&"\0"!==(f=c[u]);u+=1)h+=f;return h}return c}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")}(t,e,d,t.getUint16(d+2,o),t.getUint32(d+4,o),o),s[p]=m,a&&(a[p]=d));return t.getUint32(h,o)}console.log("Invalid Exif data: Invalid directory size.")}}e.prototype.ifds={ifd1:{name:"Thumbnail",map:e.prototype.map={Orientation:274,Thumbnail:"ifd1",Blob:513,Exif:34665,GPSInfo:34853,Interoperability:40965}},34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}},e.prototype.get=function(t){return this[t]||this[this.map[t]]};var r={1:{getValue:function(t,e){return t.getUint8(e)},size:1},2:{getValue:function(t,e){return String.fromCharCode(t.getUint8(e))},size:1,ascii:!0},3:{getValue:function(t,e,n){return t.getUint16(e,n)},size:2},4:{getValue:function(t,e,n){return t.getUint32(e,n)},size:4},5:{getValue:function(t,e,n){return t.getUint32(e,n)/t.getUint32(e+4,n)},size:8},9:{getValue:function(t,e,n){return t.getInt32(e,n)},size:4},10:{getValue:function(t,e,n){return t.getInt32(e,n)/t.getInt32(e+4,n)},size:8}};r[7]=r[1],t.parseExifData=function(r,o,s,a,l){if(!l.disableExif){var c,u,h,f=l.includeExifTags,d=l.excludeExifTags||{34665:{37500:!0}},p=o+10;if(1165519206===r.getUint32(o+4))if(p+8>r.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===r.getUint16(o+8)){switch(r.getUint16(p)){case 18761:c=!0;break;case 19789:c=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===r.getUint16(p+2,c)?(u=r.getUint32(p+4,c),a.exif=new e,l.disableExifOffsets||(a.exifOffsets=new e,a.exifTiffOffset=p,a.exifLittleEndian=c),(u=i(r,p,p+u,c,a.exif,a.exifOffsets,f,d))&&n(f,d,"ifd1")&&(a.exif.ifd1=u,a.exifOffsets&&(a.exifOffsets.ifd1=p+u)),Object.keys(a.exif.ifds).forEach(function(t){var n,o,s,l,u,h,m,g;o=t,s=r,l=p,u=c,h=f,m=d,(g=(n=a).exif[o])&&(n.exif[o]=new e(o),n.exifOffsets&&(n.exifOffsets[o]=new e(o)),i(s,l,l+g,u,n.exif[o],n.exifOffsets&&n.exifOffsets[o],h&&h[o],m&&m[o]))}),(h=a.exif.ifd1)&&h[513]&&(h[513]=function(e,n,i){if(i){if(!(n+i>e.byteLength))return new Blob([t.bufferSlice.call(e.buffer,n,n+i)],{type:"image/jpeg"});console.log("Invalid Exif data: Invalid thumbnail data.")}}(r,p+h[513],h[514]))):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},t.metaDataParsers.jpeg[65505].push(t.parseExifData),t.exifWriters={274:function(t,e,n){var i=e.exifOffsets[274];return i&&new DataView(t,i+8,2).setUint16(0,n,e.exifLittleEndian),t}},t.writeExifData=function(e,n,i,r){return t.exifWriters[n.exif.map[i]](e,n,r)},t.ExifMap=e}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-exif"],t):"object"==typeof module&&module.exports?t(require("./load-image"),require("./load-image-exif")):t(window.loadImage)}(function(t){"use strict";var e=t.ExifMap.prototype;e.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}},e.tags.ifd1=e.tags,e.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"Original",2:"Horizontal flip",3:"Rotate 180° CCW",4:"Vertical flip",5:"Vertical flip + Rotate 90° CW",6:"Rotate 90° CW",7:"Horizontal flip + Rotate 90° CW",8:"Rotate 90° CCW"}},e.getText=function(t){var e=this.get(t);switch(t){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[t][e];case"ExifVersion":case"FlashpixVersion":if(!e)return;return String.fromCharCode(e[0],e[1],e[2],e[3]);case"ComponentsConfiguration":if(!e)return;return this.stringValues[t][e[0]]+this.stringValues[t][e[1]]+this.stringValues[t][e[2]]+this.stringValues[t][e[3]];case"GPSVersionID":if(!e)return;return e[0]+"."+e[1]+"."+e[2]+"."+e[3]}return String(e)},e.getAll=function(){var t,e,n,i={};for(t in this)Object.prototype.hasOwnProperty.call(this,t)&&((e=this[t])&&e.getAll?i[this.ifds[t].name]=e.getAll():(n=this.tags[t])&&(i[n]=this.getText(n)));return i},e.getName=function(t){var e=this.tags[t];return"object"==typeof e?this.ifds[t].name:e},function(){var t,n,i,r=e.tags;for(t in r)if(Object.prototype.hasOwnProperty.call(r,t))if(n=e.ifds[t])for(t in i=r[t])Object.prototype.hasOwnProperty.call(i,t)&&(n.map[i[t]]=Number(t));else e.map[r[t]]=Number(t)}()}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],t):"object"==typeof module&&module.exports?t(require("./load-image"),require("./load-image-meta")):t(window.loadImage)}(function(t){"use strict";function e(){}function n(t,e,n,i,r){return"binary"===e.types[t]?new Blob([n.buffer.slice(i,i+r)]):"Uint16"===e.types[t]?n.getUint16(i):function(t,e,n){for(var i="",r=e+n,o=e;o<r;o+=1)i+=String.fromCharCode(t.getUint8(o));return i}(n,i,r)}function i(t,e,i,r,o,s){for(var a,l,c,u,h,f=e+i,d=e;d<f;)28===t.getUint8(d)&&2===t.getUint8(d+1)&&(c=t.getUint8(d+2),o&&!o[c]||s&&s[c]||(l=t.getInt16(d+3),a=n(c,r.iptc,t,d+5,l),r.iptc[c]=(u=r.iptc[c],h=a,void 0===u?h:u instanceof Array?(u.push(h),u):[u,h]),r.iptcOffsets&&(r.iptcOffsets[c]=d))),d+=1}e.prototype.map={ObjectName:5},e.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"},e.prototype.get=function(t){return this[t]||this[this.map[t]]},t.parseIptcData=function(t,n,r,o,s){if(!s.disableIptc)for(var a,l,c,u,h=n+r;n+8<h;){if(u=n,943868237===(c=t).getUint32(u)&&1028===c.getUint16(u+4)){var f=(a=n,l=void 0,(l=t.getUint8(a+7))%2!=0&&(l+=1),0===l&&(l=4),l),d=n+8+f;if(h<d){console.log("Invalid IPTC data: Invalid segment offset.");break}var p=t.getUint16(n+6+f);if(h<n+p){console.log("Invalid IPTC data: Invalid segment size.");break}return o.iptc=new e,s.disableIptcOffsets||(o.iptcOffsets=new e),void i(t,d,p,o,s.includeIptcTags,s.excludeIptcTags||{202:!0})}n+=1}},t.metaDataParsers.jpeg[65517].push(t.parseIptcData),t.IptcMap=e}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-iptc"],t):"object"==typeof module&&module.exports?t(require("./load-image"),require("./load-image-iptc")):t(window.loadImage)}(function(t){"use strict";var e=t.IptcMap.prototype;e.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"},e.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}},e.getText=function(t){var e=this.get(t),n=this.map[t],i=this.stringValues[n];return i?i[e]:String(e)},e.getAll=function(){var t,e,n={};for(t in this)Object.prototype.hasOwnProperty.call(this,t)&&(e=this.tags[t])&&(n[e]=this.getText(e));return n},e.getName=function(t){return this.tags[t]},function(){var t,n=e.tags,i=e.map||{};for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(i[n[t]]=Number(t))}()});var Mailcheck={domainThreshold:2,secondLevelThreshold:2,topLevelThreshold:2,defaultDomains:["msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","mac.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","aim.com","rogers.com","verizon.net","rocketmail.com","google.com","optonline.net","sbcglobal.net","aol.com","me.com","btinternet.com","charter.net","shaw.ca"],defaultSecondLevelDomains:["yahoo","hotmail","mail","live","outlook","gmx"],defaultTopLevelDomains:["com","com.au","com.tw","ca","co.nz","co.uk","de","fr","it","ru","net","org","edu","gov","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","gr","ch","no","cz","in","net","net.au","info","biz","mil","co.jp","sg","hu","uk"],run:function(t){t.domains=t.domains||Mailcheck.defaultDomains,t.secondLevelDomains=t.secondLevelDomains||Mailcheck.defaultSecondLevelDomains,t.topLevelDomains=t.topLevelDomains||Mailcheck.defaultTopLevelDomains,t.distanceFunction=t.distanceFunction||Mailcheck.sift4Distance;var e=function(t){return t},n=t.suggested||e,i=t.empty||e,r=Mailcheck.suggest(Mailcheck.encodeEmail(t.email),t.domains,t.secondLevelDomains,t.topLevelDomains,t.distanceFunction);return r?n(r):i()},suggest:function(t,e,n,i,r){t=t.toLowerCase();var o=this.splitEmail(t);if(n&&i&&-1!==n.indexOf(o.secondLevelDomain)&&-1!==i.indexOf(o.topLevelDomain))return!1;var s=this.findClosestDomain(o.domain,e,r,this.domainThreshold);if(s)return s!=o.domain&&{address:o.address,domain:s,full:o.address+"@"+s};var a=this.findClosestDomain(o.secondLevelDomain,n,r,this.secondLevelThreshold),l=this.findClosestDomain(o.topLevelDomain,i,r,this.topLevelThreshold);if(o.domain){s=o.domain;var c=!1;if(a&&a!=o.secondLevelDomain&&(s=s.replace(o.secondLevelDomain,a),c=!0),l&&l!=o.topLevelDomain&&""!==o.secondLevelDomain&&(s=s.replace(new RegExp(o.topLevelDomain+"$"),l),c=!0),c)return{address:o.address,domain:s,full:o.address+"@"+s}}return!1},findClosestDomain:function(t,e,n,i){i=i||this.topLevelThreshold;var r,o=1/0,s=null;if(!t||!e)return!1;n||(n=this.sift4Distance);for(var a=0;a<e.length;a++){if(t===e[a])return t;r=n(t,e[a]),o>r&&(o=r,s=e[a])}return i>=o&&null!==s&&s},sift4Distance:function(t,e,n){if(void 0===n&&(n=5),!t||!t.length)return e?e.length:0;if(!e||!e.length)return t.length;for(var i=t.length,r=e.length,o=0,s=0,a=0,l=0,c=0,u=[];i>o&&r>s;){if(t.charAt(o)==e.charAt(s)){l++;for(var h=!1,f=0;f<u.length;){var d=u[f];if(o<=d.c1||s<=d.c2){h=Math.abs(s-o)>=Math.abs(d.c2-d.c1),h?c++:d.trans||(d.trans=!0,c++);break}o>d.c2&&s>d.c1?u.splice(f,1):f++}u.push({c1:o,c2:s,trans:h})}else{a+=l,l=0,o!=s&&(o=s=Math.min(o,s));for(var p=0;n>p&&(i>o+p||r>s+p);p++){if(i>o+p&&t.charAt(o+p)==e.charAt(s)){o+=p-1,s--;break}if(r>s+p&&t.charAt(o)==e.charAt(s+p)){o--,s+=p-1;break}}}o++,s++,(o>=i||s>=r)&&(a+=l,l=0,o=s=Math.min(o,s))}return a+=l,Math.round(Math.max(i,r)-a+c)},splitEmail:function(t){t=null!==t?t.replace(/^\s*/,"").replace(/\s*$/,""):null;var e=t.split("@");if(e.length<2)return!1;for(var n=0;n<e.length;n++)if(""===e[n])return!1;var i=e.pop(),r=i.split("."),o="",s="";if(0===r.length)return!1;if(1==r.length)s=r[0];else{o=r[0];for(var a=1;a<r.length;a++)s+=r[a]+".";s=s.substring(0,s.length-1)}return{topLevelDomain:s,secondLevelDomain:o,domain:i,address:e.join("@")}},encodeEmail:function(t){var e=encodeURI(t);return e=e.replace("%20"," ").replace("%25","%").replace("%5E","^").replace("%60","`").replace("%7B","{").replace("%7C","|").replace("%7D","}")}};"undefined"!=typeof module&&module.exports&&(module.exports=Mailcheck),"function"==typeof define&&define.amd&&define("mailcheck",[],function(){return Mailcheck}),"undefined"!=typeof window&&window.jQuery&&!function(t){t.fn.mailcheck=function(t){var e=this;if(t.suggested){var n=t.suggested;t.suggested=function(t){n(e,t)}}if(t.empty){var i=t.empty;t.empty=function(){i.call(null,e)}}t.email=this.val(),Mailcheck.run(t)}}(jQuery),!function(t){"use strict";function e(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function n(t,n,i,r,o,s){return e((a=e(e(n,t),e(r,s)))<<(l=o)|a>>>32-l,i);var a,l}function i(t,e,i,r,o,s,a){return n(e&i|~e&r,t,e,o,s,a)}function r(t,e,i,r,o,s,a){return n(e&r|i&~r,t,e,o,s,a)}function o(t,e,i,r,o,s,a){return n(e^i^r,t,e,o,s,a)}function s(t,e,i,r,o,s,a){return n(i^(e|~r),t,e,o,s,a)}function a(t,n){var a,l,c,u;t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;for(var h=1732584193,f=-271733879,d=-1732584194,p=271733878,m=0;m<t.length;m+=16)h=i(a=h,l=f,c=d,u=p,t[m],7,-680876936),p=i(p,h,f,d,t[m+1],12,-389564586),d=i(d,p,h,f,t[m+2],17,606105819),f=i(f,d,p,h,t[m+3],22,-1044525330),h=i(h,f,d,p,t[m+4],7,-176418897),p=i(p,h,f,d,t[m+5],12,1200080426),d=i(d,p,h,f,t[m+6],17,-1473231341),f=i(f,d,p,h,t[m+7],22,-45705983),h=i(h,f,d,p,t[m+8],7,1770035416),p=i(p,h,f,d,t[m+9],12,-1958414417),d=i(d,p,h,f,t[m+10],17,-42063),f=i(f,d,p,h,t[m+11],22,-1990404162),h=i(h,f,d,p,t[m+12],7,1804603682),p=i(p,h,f,d,t[m+13],12,-40341101),d=i(d,p,h,f,t[m+14],17,-1502002290),h=r(h,f=i(f,d,p,h,t[m+15],22,1236535329),d,p,t[m+1],5,-165796510),p=r(p,h,f,d,t[m+6],9,-1069501632),d=r(d,p,h,f,t[m+11],14,643717713),f=r(f,d,p,h,t[m],20,-373897302),h=r(h,f,d,p,t[m+5],5,-701558691),p=r(p,h,f,d,t[m+10],9,38016083),d=r(d,p,h,f,t[m+15],14,-660478335),f=r(f,d,p,h,t[m+4],20,-405537848),h=r(h,f,d,p,t[m+9],5,568446438),p=r(p,h,f,d,t[m+14],9,-1019803690),d=r(d,p,h,f,t[m+3],14,-187363961),f=r(f,d,p,h,t[m+8],20,1163531501),h=r(h,f,d,p,t[m+13],5,-1444681467),p=r(p,h,f,d,t[m+2],9,-51403784),d=r(d,p,h,f,t[m+7],14,1735328473),h=o(h,f=r(f,d,p,h,t[m+12],20,-1926607734),d,p,t[m+5],4,-378558),p=o(p,h,f,d,t[m+8],11,-2022574463),d=o(d,p,h,f,t[m+11],16,1839030562),f=o(f,d,p,h,t[m+14],23,-35309556),h=o(h,f,d,p,t[m+1],4,-1530992060),p=o(p,h,f,d,t[m+4],11,1272893353),d=o(d,p,h,f,t[m+7],16,-155497632),f=o(f,d,p,h,t[m+10],23,-1094730640),h=o(h,f,d,p,t[m+13],4,681279174),p=o(p,h,f,d,t[m],11,-358537222),d=o(d,p,h,f,t[m+3],16,-722521979),f=o(f,d,p,h,t[m+6],23,76029189),h=o(h,f,d,p,t[m+9],4,-640364487),p=o(p,h,f,d,t[m+12],11,-421815835),d=o(d,p,h,f,t[m+15],16,530742520),h=s(h,f=o(f,d,p,h,t[m+2],23,-995338651),d,p,t[m],6,-198630844),p=s(p,h,f,d,t[m+7],10,1126891415),d=s(d,p,h,f,t[m+14],15,-1416354905),f=s(f,d,p,h,t[m+5],21,-57434055),h=s(h,f,d,p,t[m+12],6,1700485571),p=s(p,h,f,d,t[m+3],10,-1894986606),d=s(d,p,h,f,t[m+10],15,-1051523),f=s(f,d,p,h,t[m+1],21,-2054922799),h=s(h,f,d,p,t[m+8],6,1873313359),p=s(p,h,f,d,t[m+15],10,-30611744),d=s(d,p,h,f,t[m+6],15,-1560198380),f=s(f,d,p,h,t[m+13],21,1309151649),h=s(h,f,d,p,t[m+4],6,-145523070),p=s(p,h,f,d,t[m+11],10,-1120210379),d=s(d,p,h,f,t[m+2],15,718787259),f=s(f,d,p,h,t[m+9],21,-343485551),h=e(h,a),f=e(f,l),d=e(d,c),p=e(p,u);return[h,f,d,p]}function l(t){for(var e="",n=32*t.length,i=0;i<n;i+=8)e+=String.fromCharCode(t[i>>5]>>>i%32&255);return e}function c(t){var e=[];for(e[(t.length>>2)-1]=void 0,i=0;i<e.length;i+=1)e[i]=0;for(var n=8*t.length,i=0;i<n;i+=8)e[i>>5]|=(255&t.charCodeAt(i/8))<<i%32;return e}function u(t){for(var e,n="0123456789abcdef",i="",r=0;r<t.length;r+=1)e=t.charCodeAt(r),i+=n.charAt(e>>>4&15)+n.charAt(15&e);return i}function h(t){return unescape(encodeURIComponent(t))}function f(t){return l(a(c(e=h(t)),8*e.length));var e}function d(t,e){return function(t,e){var n,i,r=c(t),o=[],s=[];for(o[15]=s[15]=void 0,16<r.length&&(r=a(r,8*t.length)),n=0;n<16;n+=1)o[n]=909522486^r[n],s[n]=1549556828^r[n];return i=a(o.concat(c(e)),512+8*e.length),l(a(s.concat(i),640))}(h(t),h(e))}function p(t,e,n){return e?n?d(e,t):u(d(e,t)):n?f(t):u(f(t))}"function"==typeof define&&define.amd?define(function(){return p}):"object"==typeof module&&module.exports?module.exports=p:t.md5=p}(this),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:"auto",bottom:"100%",left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(e){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(e){var n=this;return e=t.grep(e,function(t){return n.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,n=[],i=[],r=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?i.push(e):r.push(e):n.push(e);return n.concat(i,r)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var n=this;return e=t(e).map(function(e,i){return e=t(n.options.item).attr("data-value",i),e.find("a").html(n.highlighter(i)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(e){var n=this.$menu.find(".active").removeClass("active"),i=n.next();i.length||(i=t(this.$menu.find("li")[0])),i.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active"),n=e.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(t){this.focused=!0},blur:function(t){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=t.fn.typeahead;t.fn.typeahead=function(n){return this.each(function(){var i=t(this),r=i.data("typeahead"),o="object"==typeof n&&n;r||i.data("typeahead",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var n=t(this);n.data("typeahead")||n.typeahead(n.data())})}(window.jQuery),function(t){t.fn.extend({mention:function(e){function n(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}this.opts={users:[],delimiter:"@",sensitive:!0,emptyQuery:!1,queryBy:["name","username"],typeaheadOpts:{}};var i=t.extend({},this.opts,e),r=function(){if("undefined"==typeof t)throw new Error("jQuery is Required");if("undefined"==typeof t.fn.typeahead)throw new Error("Typeahead is Required");return!0},o=function(t,e){var n;for(n=e;n>=0&&t[n]!=i.delimiter;n--);return t.substring(n,e)},s=function(t){var e;if(i.emptyQuery){var r=this.query.toLowerCase(),o=this.$element[0].selectionStart,s=r.slice(o-1,o);if(s==i.delimiter)return!0}for(e in i.queryBy)if(t[i.queryBy[e]]){var a,l=t[i.queryBy[e]].toLowerCase(),c=this.query.toLowerCase().match(new RegExp(n(i.delimiter)+"\\w+","g"));if(c)for(a=0;a<c.length;a++){var u=c[a].substring(1).toLowerCase(),h=new RegExp(n(i.delimiter)+l,"g"),f=this.query.toLowerCase().match(h);if(l.indexOf(u)!=-1&&null===f)return!0}}},a=function(t){var e,n=this.query,r=this.$element[0].selectionStart;for(e=r;e>=0&&n[e]!=i.delimiter;e--);var o=(n.substring(e,r),n.substring(0,e)),s=n.substring(r),n=o+i.delimiter+t+s;return this.tempQuery=n,n},l=function(t){if(t.length&&i.sensitive){var e,n=o(this.query,this.$element[0].selectionStart).substring(1),r=t.length,s={highest:[],high:[],med:[],low:[]},a=[];if(1==n.length){for(e=0;e<r;e++){var l=t[e];l.username[0]==n?s.highest.push(l):l.username[0].toLowerCase()==n.toLowerCase()?s.high.push(l):l.username.indexOf(n)!=-1?s.med.push(l):s.low.push(l)}for(e in s){var c;for(c in s[e])a.push(s[e][c])}return a}}return t},c=function(e){var n=this;return e=t(e).map(function(e,r){e=t(n.options.item).attr("data-value",r.username);var o=t("<div />");
return r.image&&o.append('<img class="mention_image" src="'+r.image+'">'),r.name&&o.append('<b class="mention_name">'+r.name+"</b>"),r.username&&o.append('<span class="mention_username"> '+i.delimiter+r.username+"</span>"),e.find("a").html(n.highlighter(o.html())),e[0]}),e.first().addClass("active"),this.$menu.html(e),this};return t.fn.typeahead.Constructor.prototype.render=c,this.each(function(){var e=t(this);r()&&e.typeahead(t.extend({source:i.users,matcher:s,updater:a,sorter:l},i.typeaheadOpts))})}})}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(this,function(){"use strict";function t(){}function e(t,e){return function(){t.apply(e,arguments)}}function n(t){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function i(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):(t._handled=!0,void n._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?r:o)(e.promise,t._value);var i;try{i=n(t._value)}catch(t){return void o(e.promise,t)}r(e.promise,i)}))}function r(t,i){try{if(i===t)throw new TypeError("A promise cannot be resolved with itself.");if(i&&("object"==typeof i||"function"==typeof i)){var r=i.then;if(i instanceof n)return t._state=3,t._value=i,void s(t);if("function"==typeof r)return void l(e(r,i),t)}t._state=1,t._value=i,s(t)}catch(e){o(t,e)}}function o(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&n._immediateFn(function(){t._handled||n._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)i(t,t._deferreds[e]);t._deferreds=null}function a(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function l(t,e){var n=!1;try{t(function(t){n||(n=!0,r(e,t))},function(t){n||(n=!0,o(e,t))})}catch(t){if(n)return;n=!0,o(e,t)}}var c=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},u=setTimeout;n.prototype.catch=function(t){return this.then(null,t)},n.prototype.then=function(e,n){var r=new this.constructor(t);return i(this,new a(e,n,r)),r},n.prototype.finally=c,n.all=function(t){return new n(function(e,n){function i(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){i(t,e)},n)}r[t]=s,0===--o&&e(r)}catch(t){n(t)}}if(!t||"undefined"==typeof t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);for(var o=r.length,s=0;s<r.length;s++)i(s,r[s])})},n.resolve=function(t){return t&&"object"==typeof t&&t.constructor===n?t:new n(function(e){e(t)})},n.reject=function(t){return new n(function(e,n){n(t)})},n.race=function(t){return new n(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},n._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){u(t,0)},n._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var h=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();h.Promise?h.Promise.prototype.finally||(h.Promise.prototype.finally=c):h.Promise=n});var Sentry=function(t){function e(t,e){function n(){this.constructor=t}kt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function n(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function r(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t}function o(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return p(t,Error)}}function s(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function a(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function l(t){return"[object String]"===Object.prototype.toString.call(t)}function c(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function u(t){return"[object Object]"===Object.prototype.toString.call(t)}function h(t){return"undefined"!=typeof Event&&p(t,Event)}function f(t){return"undefined"!=typeof Element&&p(t,Element)}function d(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function p(t,e){try{return t instanceof e}catch(t){return!1}}function m(t){try{for(var e=t,n=[],i=0,r=0,o=" > ".length,s=void 0;e&&i++<5&&!("html"===(s=g(e))||i>1&&r+n.length*o+s.length>=80);)n.push(s),r+=s.length,e=e.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function g(t){var e,n,i,r,o,s=t,a=[];if(!s||!s.tagName)return"";if(a.push(s.tagName.toLowerCase()),s.id&&a.push("#"+s.id),(e=s.className)&&l(e))for(n=e.split(/\s+/),o=0;o<n.length;o++)a.push("."+n[o]);var c=["type","name","title","alt"];for(o=0;o<c.length;o++)i=c[o],(r=s.getAttribute(i))&&a.push("["+i+'="'+r+'"]');return a.join("")}function v(t){try{return t&&"function"==typeof t&&t.name||Ot}catch(t){return Ot}}function y(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e?t:t.length<=e?t:t.substr(0,e)+"..."}function b(t,e){if(!Array.isArray(t))return"";for(var n=[],i=0;i<t.length;i++){var r=t[i];try{n.push(String(r))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function w(t,e){return!!l(t)&&(n=e,"[object RegExp]"===Object.prototype.toString.call(n)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e));var n}function x(t,e,n){if(e in t){var i=t[e],r=n(i);if("function"==typeof r)try{r.prototype=r.prototype||{},Object.defineProperties(r,{__sentry_original__:{enumerable:!1,value:i}})}catch(t){}t[e]=r}}function _(t){if(o(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}if(h(t)){var r=t,s={};s.type=r.type;try{s.target=f(r.target)?m(r.target):Object.prototype.toString.call(r.target)}catch(t){s.target="<unknown>"}try{s.currentTarget=f(r.currentTarget)?m(r.currentTarget):Object.prototype.toString.call(r.currentTarget)}catch(t){s.currentTarget="<unknown>"}for(var i in"undefined"!=typeof CustomEvent&&p(t,CustomEvent)&&(s.detail=r.detail),r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r);return s}return t}function C(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function S(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var i=T(t,e);return C(i)>n?S(t,e-1,n):i}function k(t,e){return"domain"===e&&t&&"object"==typeof t&&t.h?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":u(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+v(t)+"]":t;var n}function E(t,e,n,i){if(void 0===n&&(n=1/0),void 0===i&&(i=new Dt),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=k(t);return c(n)?n:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var r=k(e,t);if(c(r))return r;var o=_(e),s=Array.isArray(e)?[]:{};if(i.memoize(e))return"[Circular ~]";for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=E(a,o[a],n-1,i));return i.unmemoize(e),s}function T(t,e){try{return JSON.parse(JSON.stringify(t,function(t,n){return E(t,n,e)}))}catch(t){return"**non-serializable**"}}function A(t,e){void 0===e&&(e=40);var n=Object.keys(_(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return y(n[0],e);for(var i=n.length;i>0;i--){var r=n.slice(0,i).join(", ");if(!(r.length>e))return i===n.length?r:y(r,e)}return""}function P(t){var e,i;if(u(t)){var r=t,o={};try{for(var s=n(Object.keys(r)),a=s.next();!a.done;a=s.next()){var l=a.value;void 0!==r[l]&&(o[l]=P(r[l]))}}catch(t){e={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return o}return Array.isArray(t)?t.map(P):t}function I(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function D(){return I()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:jt}function O(){var t=D(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var i=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return i(n[0])+i(n[1])+i(n[2])+i(n[3])+i(n[4])+i(n[5])+i(n[6])+i(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function j(t){if(!t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+i}}function N(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function R(t){var e=D();if(!("console"in e))return t();var n=e.console,i={};["debug","info","warn","error","log","assert"].forEach(function(t){t in e.console&&n[t].__sentry_original__&&(i[t]=n[t],n[t]=n[t].__sentry_original__)});var r=t();return Object.keys(i).forEach(function(t){n[t]=i[t]}),r}function M(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function $(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach(function(n){t.exception.values[0].mechanism[n]=e[n]})}catch(t){}}function L(){if(!("fetch"in D()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function H(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function F(){if(!L())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}function z(t){if(!Ut[t])switch(Ut[t]=!0,t){case"console":!function(){"console"in qt&&["debug","info","warn","error","log","assert"].forEach(function(t){t in qt.console&&x(qt.console,t,function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];q("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,qt.console,n)}})})}();break;case"dom":!function(){"document"in qt&&(qt.document.addEventListener("click",X("click",q.bind(null,"dom")),!1),qt.document.addEventListener("keypress",Q(q.bind(null,"dom")),!1),["EventTarget","Node"].forEach(function(t){var e=qt[t]&&qt[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(x(e,"addEventListener",function(t){return function(e,n,i){return n&&n.handleEvent?("click"===e&&x(n,"handleEvent",function(t){return function(e){return X("click",q.bind(null,"dom"))(e),t.call(this,e)}}),"keypress"===e&&x(n,"handleEvent",function(t){return function(e){return Q(q.bind(null,"dom"))(e),t.call(this,e)}})):("click"===e&&X("click",q.bind(null,"dom"),!0)(this),"keypress"===e&&Q(q.bind(null,"dom"))(this)),t.call(this,e,n,i)}}),x(e,"removeEventListener",function(t){return function(e,n,i){try{t.call(this,e,n.__sentry_wrapped__,i)}catch(t){}return t.call(this,e,n,i)}}))}))}();break;case"xhr":!function(){if("XMLHttpRequest"in qt){var t=[],e=[],n=XMLHttpRequest.prototype;x(n,"open",function(n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=this,s=i[1];o.__sentry_xhr__={method:l(i[0])?i[0].toUpperCase():i[0],url:i[1]},l(s)&&"POST"===o.__sentry_xhr__.method&&s.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var a=function(){if(4===o.readyState){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(t){}try{var n=t.indexOf(o);if(-1!==n){t.splice(n);var r=e.splice(n)[0];o.__sentry_xhr__&&void 0!==r[0]&&(o.__sentry_xhr__.body=r[0])}}catch(t){}q("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&"function"==typeof o.onreadystatechange?x(o,"onreadystatechange",function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return a(),t.apply(o,e)}}):o.addEventListener("readystatechange",a),n.apply(o,i)}}),x(n,"send",function(n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return t.push(this),e.push(i),q("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}}();break;case"fetch":!function(){(function(){if(!L())return!1;var t=D();if(H(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i),i.contentWindow&&i.contentWindow.fetch&&(e=H(i.contentWindow.fetch)),n.head.removeChild(i)}catch(t){Bt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return e})()&&x(qt,"fetch",function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i={args:e,fetchData:{method:W(e),url:U(e)},startTimestamp:Date.now()};return q("fetch",Et({},i)),t.apply(qt,e).then(function(t){return q("fetch",Et(Et({},i),{endTimestamp:Date.now(),response:t})),t},function(t){throw q("fetch",Et(Et({},i),{endTimestamp:Date.now(),error:t})),t})}})}();break;case"history":!function(){function t(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e.length>2?e[2]:void 0;if(i){var r=Lt,o=String(i);Lt=o,q("history",{from:r,to:o})}return t.apply(this,e)}}if(e=D(),n=e.chrome,i=n&&n.app&&n.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState,!i&&r){var e,n,i,r,o=qt.onpopstate;qt.onpopstate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=qt.location.href,i=Lt;if(Lt=n,q("history",{from:i,to:n}),o)return o.apply(this,t)},x(qt.history,"pushState",t),x(qt.history,"replaceState",t)}}();break;case"error":Yt=qt.onerror,qt.onerror=function(t,e,n,i,r){return q("error",{column:i,error:r,line:n,msg:t,url:e}),!!Yt&&Yt.apply(this,arguments)};break;case"unhandledrejection":Vt=qt.onunhandledrejection,qt.onunhandledrejection=function(t){return q("unhandledrejection",t),!Vt||Vt.apply(this,arguments)};break;default:Bt.warn("unknown instrumentation type:",t)}}function B(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(Wt[t.type]=Wt[t.type]||[],Wt[t.type].push(t.callback),z(t.type))}function q(t,e){var i,r;if(t&&Wt[t])try{for(var o=n(Wt[t]||[]),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(e)}catch(e){Bt.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+v(a)+"\nError: "+e)}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}}function W(t){return void 0===t&&(t=[]),"Request"in qt&&p(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function U(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in qt&&p(t[0],Request)?t[0].url:String(t[0])}function X(t,e,n){return void 0===n&&(n=!1),function(i){Ht=void 0,i&&Ft!==i&&(Ft=i,Qt&&clearTimeout(Qt),n?Qt=setTimeout(function(){e({event:i,name:t})}):e({event:i,name:t}))}}function Q(t){return function(e){var n;try{n=e.target}catch(t){return}var i=n&&n.tagName;i&&("INPUT"===i||"TEXTAREA"===i||n.isContentEditable)&&(Ht||X("input",t)(e),clearTimeout(Ht),Ht=setTimeout(function(){Ht=void 0},Xt))}}function Y(){var t=D();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function V(t){Y().push(t)}function K(){var t=D();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function G(t){var e=K(),n=tt(e);return et(e,t),n}function J(){var t=K();return Z(t)&&!tt(t).isOlderThan(oe)||et(t,new se),I()?function(t){try{var e=(i=K().__SENTRY__)&&i.extensions&&i.extensions.domain&&i.extensions.domain.active;if(!e)return tt(t);if(!Z(e)||tt(e).isOlderThan(oe)){var n=tt(t).getStackTop();et(e,new se(n.client,ie.clone(n.scope)))}return tt(e)}catch(e){return tt(t)}var i}(t):tt(t)}function Z(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function tt(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub?t.__SENTRY__.hub:(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new se,t.__SENTRY__.hub)}function et(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}function nt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=J();if(i&&i[t])return i[t].apply(i,r(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function it(t,e){var n;try{throw new Error("Sentry syntheticException")}catch(t){n=t}return nt("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function rt(t){nt("withScope",t)}function ot(t){var e={};return function(t){var e=t.defaultIntegrations&&r(t.defaultIntegrations)||[],n=t.integrations,i=[];if(Array.isArray(n)){var o=n.map(function(t){return t.name}),s=[];e.forEach(function(t){-1===o.indexOf(t.name)&&-1===s.indexOf(t.name)&&(i.push(t),s.push(t.name))}),n.forEach(function(t){-1===s.indexOf(t.name)&&(i.push(t),s.push(t.name))})}else"function"==typeof n?(i=n(e),i=Array.isArray(i)?i:[i]):i=r(e);var a=i.map(function(t){return t.name});return-1!==a.indexOf("Debug")&&i.push.apply(i,r(i.splice(a.indexOf("Debug"),1))),i}(t).forEach(function(t){e[t.name]=t,function(t){-1===le.indexOf(t.name)&&(t.setupOnce(V,J),le.push(t.name),Bt.log("Integration installed: "+t.name))}(t)}),e}function st(t,e){return{body:JSON.stringify({sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(t),type:"session",url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}function at(t,e){var n="transaction"===t.type,i={body:JSON.stringify(t),type:t.type||"event",url:n?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(n){var r=JSON.stringify({event_id:t.event_id,sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:t.type})+"\n"+i.body;i.body=r}return i}function lt(t){var e=null,n=0;t&&("number"==typeof t.framesToPop?n=t.framesToPop:_e.test(t.message)&&(n=1));try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=t.stacktrace,i=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,o=n.split("\n"),s=[],a=0;a<o.length;a+=2){var l=null;(e=i.exec(o[a]))?l={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=r.exec(o[a]))&&(l={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),l&&(!l.func&&l.line&&(l.func=ge),s.push(l))}return s.length?{message:ut(t),name:t.name,stack:s}:null}(t))return ct(e,n)}catch(t){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,i,r=[],o=t.stack.split("\n"),s=0;s<o.length;++s){if(n=ve.exec(o[s])){var a=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=xe.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),i={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||ge,args:a?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=be.exec(o[s]))i={url:n[2],func:n[1]||ge,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=ye.exec(o[s])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=we.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==s||n[5]||void 0===t.columnNumber||(r[0].column=t.columnNumber+1),i={url:n[3],func:n[1]||ge,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!i.func&&i.line&&(i.func=ge),r.push(i)}return r.length?{message:ut(t),name:t.name,stack:r}:null}(t))return ct(e,n)}catch(t){}return{message:ut(t),name:t&&t.name,stack:[],failed:!0}}function ct(t,e){try{return Et(Et({},t),{stack:t.stack.slice(e)})}catch(e){return t}}function ut(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function ht(t){var e=dt(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function ft(t){return{exception:{values:[ht(t)]}}}function dt(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",i=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==i.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,Ce).map(function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}}).reverse()}function pt(e,n,i){var r=gt(n,i&&i.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return $(r,{handled:!0,type:"generic"}),r.level=t.Severity.Error,i&&i.event_id&&(r.event_id=i.event_id),Gt.resolve(r)}function mt(e,n,i,r){void 0===i&&(i=t.Severity.Info);var o=vt(n,r&&r.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return o.level=i,r&&r.event_id&&(o.event_id=r.event_id),Gt.resolve(o)}function gt(t,e,n){var i,r;if(void 0===n&&(n={}),s(t)&&t.error)return i=ft(lt(t=t.error));if(a(t)||(r=t,"[object DOMException]"===Object.prototype.toString.call(r))){var l=t,c=l.name||(a(l)?"DOMError":"DOMException"),f=l.message?c+": "+l.message:c;return M(i=vt(f,e,n),f),"code"in l&&(i.tags=Et(Et({},i.tags),{"DOMException.code":""+l.code})),i}return o(t)?i=ft(lt(t)):u(t)||h(t)?($(i=function(t,e,n){var i={exception:{values:[{type:h(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+A(t)}]},extra:{__serialized__:S(t)}};if(e){var r=dt(lt(e).stack);i.stacktrace={frames:r}}return i}(t,e,n.rejection),{synthetic:!0}),i):(M(i=vt(t,e,n),""+t,void 0),$(i,{synthetic:!0}),i)}function vt(t,e,n){void 0===n&&(n={});var i={message:t};if(n.attachStacktrace&&e){var r=dt(lt(e).stack);i.stacktrace={frames:r}}return i}function yt(){return Ie>0}function bt(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}var i=function(){var i=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var r=i.map(function(t){return bt(t,e)});return t.handleEvent?t.handleEvent.apply(this,r):t.apply(this,r)}catch(t){throw Ie+=1,setTimeout(function(){Ie-=1}),rt(function(n){n.addEventProcessor(function(t){var n=Et({},t);return e.mechanism&&(M(n,void 0,void 0),$(n,e.mechanism)),n.extra=Et(Et({},n.extra),{arguments:i}),n}),it(t)}),t}};try{for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}catch(t){}t.prototype=t.prototype||{},i.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:i}),Object.defineProperties(i,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:function(){return t.name}})}catch(t){}return i}function wt(t){if(void 0===t&&(t={}),t.eventId)if(t.dsn){var e=document.createElement("script");e.async=!0,e.src=new ae(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad),(document.head||document.body).appendChild(e)}else Bt.error("Missing dsn option in showReportDialog call");else Bt.error("Missing eventId option in showReportDialog call")}var xt,_t,Ct,St,kt=function(t,e){return(kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},Et=function(){return(Et=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};!function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Debug=2]="Debug",t[t.Verbose=3]="Verbose"}(xt||(xt={})),function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"}(_t||(_t={})),(Ct=t.Severity||(t.Severity={})).Fatal="fatal",Ct.Error="error",Ct.Warning="warning",Ct.Log="log",Ct.Info="info",Ct.Debug="debug",Ct.Critical="critical",function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(t.Severity||(t.Severity={})),(St=t.Status||(t.Status={})).Unknown="unknown",St.Skipped="skipped",St.Success="success",St.RateLimit="rate_limit",St.Invalid="invalid",St.Failed="failed",function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(t.Status||(t.Status={}));var Tt=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t}),At=function(t){function n(e){var n=this.constructor,i=t.call(this,e)||this;return i.message=e,i.name=n.prototype.constructor.name,Tt(i,n.prototype),i}return e(n,t),n}(Error),Pt=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,It=function(){function t(t){"string"==typeof t?this.t(t):this.i(t),this.o()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.host,i=e.path,r=e.pass,o=e.port,s=e.projectId;return e.protocol+"://"+e.user+(t&&r?":"+r:"")+"@"+n+(o?":"+o:"")+"/"+(i?i+"/":i)+s},t.prototype.t=function(t){var e=Pt.exec(t);if(!e)throw new At("Invalid Dsn");var n=i(e.slice(1),6),r=n[0],o=n[1],s=n[2],a=void 0===s?"":s,l=n[3],c=n[4],u=void 0===c?"":c,h="",f=n[5],d=f.split("/");if(d.length>1&&(h=d.slice(0,-1).join("/"),f=d.pop()),f){var p=f.match(/^\d+/);p&&(f=p[0])}this.i({host:l,pass:a,path:h,projectId:f,port:u,protocol:r,user:o})},t.prototype.i=function(t){this.protocol=t.protocol,this.user=t.user,this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype.o=function(){var t=this;if(["protocol","user","host","projectId"].forEach(function(e){if(!t[e])throw new At("Invalid Dsn: "+e+" missing")}),!this.projectId.match(/^\d+$/))throw new At("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new At("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new At("Invalid Dsn: Invalid port "+this.port)},t}(),Dt=function(){function t(){this.u="function"==typeof WeakSet,this.s=this.u?new WeakSet:[]}return t.prototype.memoize=function(t){if(this.u)return!!this.s.has(t)||(this.s.add(t),!1);for(var e=0;e<this.s.length;e++)if(this.s[e]===t)return!0;return this.s.push(t),!1},t.prototype.unmemoize=function(t){if(this.u)this.s.delete(t);else for(var e=0;e<this.s.length;e++)if(this.s[e]===t){this.s.splice(e,1);break}},t}(),Ot="<anonymous>",jt={},Nt=6e4,Rt=D(),Mt="Sentry Logger ",$t=function(){function t(){this.v=!1}return t.prototype.disable=function(){this.v=!1},t.prototype.enable=function(){this.v=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.v&&R(function(){Rt.console.log(Mt+"[Log]: "+t.join(" "))})},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.v&&R(function(){Rt.console.warn(Mt+"[Warn]: "+t.join(" "))})},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.v&&R(function(){Rt.console.error(Mt+"[Error]: "+t.join(" "))})},t}();Rt.__SENTRY__=Rt.__SENTRY__||{};var Lt,Ht,Ft,zt,Bt=Rt.__SENTRY__.logger||(Rt.__SENTRY__.logger=new $t),qt=D(),Wt={},Ut={},Xt=1e3,Qt=0,Yt=null,Vt=null;!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(zt||(zt={}));var Kt,Gt=function(){function t(t){var e=this;this.l=zt.PENDING,this.p=[],this.m=function(t){e.g(zt.RESOLVED,t)},this.j=function(t){e.g(zt.REJECTED,t)},this.g=function(t,n){e.l===zt.PENDING&&(d(n)?n.then(e.m,e.j):(e.l=t,e.k=n,e._()))},this.S=function(t){e.p=e.p.concat(t),e._()},this._=function(){if(e.l!==zt.PENDING){var t=e.p.slice();e.p=[],t.forEach(function(t){t.done||(e.l===zt.RESOLVED&&t.onfulfilled&&t.onfulfilled(e.k),e.l===zt.REJECTED&&t.onrejected&&t.onrejected(e.k),t.done=!0)})}};try{t(this.m,this.j)}catch(t){this.j(t)}}return t.resolve=function(e){return new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.all=function(e){return new t(function(n,i){if(Array.isArray(e))if(0!==e.length){var r=e.length,o=[];e.forEach(function(e,s){t.resolve(e).then(function(t){o[s]=t,0===(r-=1)&&n(o)}).then(null,i)})}else n([]);else i(new TypeError("Promise.all requires an array as input."))})},t.prototype.then=function(e,n){var i=this;return new t(function(t,r){i.S({done:!1,onfulfilled:function(n){if(e)try{return void t(e(n))}catch(t){return void r(t)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(t){return void r(t)}else r(e)}})})},t.prototype.catch=function(t){return this.then(function(t){return t},t)},t.prototype.finally=function(e){var n=this;return new t(function(t,i){var r,o;return n.then(function(t){o=!1,r=t,e&&e()},function(t){o=!0,r=t,e&&e()}).then(function(){o?i(r):t(r)})})},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),Jt=function(){function t(t){this.O=t,this.T=[]}return t.prototype.isReady=function(){return void 0===this.O||this.length()<this.O},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this.T.indexOf(t)&&this.T.push(t),t.then(function(){return e.remove(t)}).then(null,function(){return e.remove(t).then(null,function(){})}),t):Gt.reject(new At("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this.T.splice(this.T.indexOf(t),1)[0]},t.prototype.length=function(){return this.T.length},t.prototype.drain=function(t){var e=this;return new Gt(function(n){var i=setTimeout(function(){t&&t>0&&n(!1)},t);Gt.all(e.T).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},t}(),Zt={nowSeconds:function(){return Date.now()/1e3}},te=I()?function(){try{return(t=module,e="perf_hooks",t.require(e)).performance}catch(t){return}var t,e}():function(){var t=D().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),ee=void 0===te?Zt:{nowSeconds:function(){return(te.timeOrigin+te.now())/1e3}},ne=Zt.nowSeconds.bind(Zt),ie=(ee.nowSeconds.bind(ee),function(){var t=D().performance;t&&(t.timeOrigin?t.timeOrigin:t.timing&&t.timing.navigationStart||Date.now())}(),function(){function t(){this.D=!1,this.R=[],this.I=[],this.N=[],this.M={},this.A={},this.C={},this.q={}}return t.clone=function(e){var n=new t;return e&&(n.N=r(e.N),n.A=Et({},e.A),n.C=Et({},e.C),n.q=Et({},e.q),n.M=e.M,n.L=e.L,n.U=e.U,n.H=e.H,n.P=e.P,n.F=e.F,n.I=r(e.I)),n},t.prototype.addScopeListener=function(t){this.R.push(t)},t.prototype.addEventProcessor=function(t){return this.I.push(t),this},t.prototype.setUser=function(t){
return this.M=t||{},this.H&&this.H.update({user:t}),this.X(),this},t.prototype.getUser=function(){return this.M},t.prototype.setTags=function(t){return this.A=Et(Et({},this.A),t),this.X(),this},t.prototype.setTag=function(t,e){var n;return this.A=Et(Et({},this.A),((n={})[t]=e,n)),this.X(),this},t.prototype.setExtras=function(t){return this.C=Et(Et({},this.C),t),this.X(),this},t.prototype.setExtra=function(t,e){var n;return this.C=Et(Et({},this.C),((n={})[t]=e,n)),this.X(),this},t.prototype.setFingerprint=function(t){return this.F=t,this.X(),this},t.prototype.setLevel=function(t){return this.L=t,this.X(),this},t.prototype.setTransactionName=function(t){return this.P=t,this.X(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this.q[t]:this.q=Et(Et({},this.q),((n={})[t]=e,n)),this.X(),this},t.prototype.setSpan=function(t){return this.U=t,this.X(),this},t.prototype.getSpan=function(){return this.U},t.prototype.getTransaction=function(){var t,e,n,i,r=this.getSpan();return(null===(t=r)||void 0===t?void 0:t.transaction)?null===(e=r)||void 0===e?void 0:e.transaction:(null===(i=null===(n=r)||void 0===n?void 0:n.spanRecorder)||void 0===i?void 0:i.spans[0])?r.spanRecorder.spans[0]:void 0},t.prototype.setSession=function(t){return t?this.H=t:delete this.H,this.X(),this},t.prototype.getSession=function(){return this.H},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this.A=Et(Et({},this.A),e.A),this.C=Et(Et({},this.C),e.C),this.q=Et(Et({},this.q),e.q),e.M&&Object.keys(e.M).length&&(this.M=e.M),e.L&&(this.L=e.L),e.F&&(this.F=e.F)):u(e)&&(e=e,this.A=Et(Et({},this.A),e.tags),this.C=Et(Et({},this.C),e.extra),this.q=Et(Et({},this.q),e.contexts),e.user&&(this.M=e.user),e.level&&(this.L=e.level),e.fingerprint&&(this.F=e.fingerprint)),this},t.prototype.clear=function(){return this.N=[],this.A={},this.C={},this.M={},this.q={},this.L=void 0,this.P=void 0,this.F=void 0,this.U=void 0,this.H=void 0,this.X(),this},t.prototype.addBreadcrumb=function(t,e){var n=Et({timestamp:ne()},t);return this.N=void 0!==e&&e>=0?r(this.N,[n]).slice(-e):r(this.N,[n]),this.X(),this},t.prototype.clearBreadcrumbs=function(){return this.N=[],this.X(),this},t.prototype.applyToEvent=function(t,e){var n;if(this.C&&Object.keys(this.C).length&&(t.extra=Et(Et({},this.C),t.extra)),this.A&&Object.keys(this.A).length&&(t.tags=Et(Et({},this.A),t.tags)),this.M&&Object.keys(this.M).length&&(t.user=Et(Et({},this.M),t.user)),this.q&&Object.keys(this.q).length&&(t.contexts=Et(Et({},this.q),t.contexts)),this.L&&(t.level=this.L),this.P&&(t.transaction=this.P),this.U){t.contexts=Et({trace:this.U.getTraceContext()},t.contexts);var i=null===(n=this.U.transaction)||void 0===n?void 0:n.name;i&&(t.tags=Et({transaction:i},t.tags))}return this.J(t),t.breadcrumbs=r(t.breadcrumbs||[],this.N),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this.W(r(Y(),this.I),t,e)},t.prototype.W=function(t,e,n,i){var r=this;return void 0===i&&(i=0),new Gt(function(o,s){var a=t[i];if(null===e||"function"!=typeof a)o(e);else{var l=a(Et({},e),n);d(l)?l.then(function(e){return r.W(t,e,n,i+1).then(o)}).then(null,s):r.W(t,l,n,i+1).then(o).then(null,s)}})},t.prototype.X=function(){var t=this;this.D||(this.D=!0,setTimeout(function(){t.R.forEach(function(e){e(t)}),t.D=!1}))},t.prototype.J=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this.F&&(t.fingerprint=t.fingerprint.concat(this.F)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}()),re=function(){function t(t){this.errors=0,this.sid=O(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=_t.Ok,t&&this.update(t)}return t.prototype.update=function(t){void 0===t&&(t={}),t.user&&(t.user.ip_address&&(this.ipAddress=t.user.ip_address),t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Date.now(),t.sid&&(this.sid=32===t.sid.length?t.sid:O()),t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),"number"==typeof t.duration?this.duration=t.duration:this.duration=this.timestamp-this.started,t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),t.ipAddress&&(this.ipAddress=t.ipAddress),t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):this.status===_t.Ok?this.update({status:_t.Exited}):this.update()},t.prototype.toJSON=function(){return P({sid:""+this.sid,init:!0,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:P({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),oe=3,se=function(){function t(t,e,n){void 0===e&&(e=new ie),void 0===n&&(n=oe),this.$=n,this.B=[{}],this.getStackTop().scope=e,this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this.$<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=ie.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1||!this.getStack().pop())},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this.B},t.prototype.getStackTop=function(){return this.B[this.B.length-1]},t.prototype.captureException=function(t,e){var n=this.G=O(),i=e;if(!e){var r=void 0;try{throw new Error("Sentry syntheticException")}catch(t){r=t}i={originalException:t,syntheticException:r}}return this.V("captureException",t,Et(Et({},i),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var i=this.G=O(),r=n;if(!n){var o=void 0;try{throw new Error(t)}catch(t){o=t}r={originalException:t,syntheticException:o}}return this.V("captureMessage",t,e,Et(Et({},r),{event_id:i})),i},t.prototype.captureEvent=function(t,e){var n=this.G=O();return this.V("captureEvent",t,Et(Et({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this.G},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),i=n.scope,r=n.client;if(i&&r){var o=r.getOptions&&r.getOptions()||{},s=o.beforeBreadcrumb,a=void 0===s?null:s,l=o.maxBreadcrumbs,c=void 0===l?100:l;if(!(c<=0)){var u=ne(),h=Et({timestamp:u},t),f=a?R(function(){return a(h,e)}):h;null!==f&&i.addBreadcrumb(f,Math.min(c,100))}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope,i=e.client;n&&i&&t(n)},t.prototype.run=function(t){var e=G(this);try{t(this)}finally{G(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return Bt.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this.K("startSpan",t)},t.prototype.startTransaction=function(t,e){return this.K("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this.K("traceHeaders")},t.prototype.startSession=function(t){this.endSession();var e=this.getStackTop(),n=e.scope,i=e.client,r=i&&i.getOptions()||{},o=r.release,s=r.environment,a=new re(Et(Et({release:o,environment:s},n&&{user:n.getUser()}),t));return n&&n.setSession(a),a},t.prototype.endSession=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var i=e.getSession&&e.getSession();i&&(i.close(),n&&n.captureSession&&n.captureSession(i),e.setSession())}},t.prototype.V=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop(),s=o.scope,a=o.client;a&&a[t]&&(e=a)[t].apply(e,r(n,[s]))},t.prototype.K=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=K().__SENTRY__;return i&&i.extensions&&"function"==typeof i.extensions[t]?i.extensions[t].apply(this,e):void Bt.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}(),ae=function(){function t(t){this.dsn=t,this.Y=new It(t)}return t.prototype.getDsn=function(){return this.Y},t.prototype.getBaseApiEndpoint=function(){var t=this.Y,e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this.Z("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this.tt()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.nt()+"?"+this.tt()},t.prototype.getStoreEndpointPath=function(){var t=this.Y;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this.Y,i=["Sentry sentry_version=7"];return i.push("sentry_client="+t+"/"+e),i.push("sentry_key="+n.user),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this.Y,n=this.getBaseApiEndpoint()+"embed/error-page/",i=[];for(var r in i.push("dsn="+e.toString()),t)if("user"===r){if(!t.user)continue;t.user.name&&i.push("name="+encodeURIComponent(t.user.name)),t.user.email&&i.push("email="+encodeURIComponent(t.user.email))}else i.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return i.length?n+"?"+i.join("&"):n},t.prototype.nt=function(){return this.Z("envelope")},t.prototype.Z=function(t){return""+this.getBaseApiEndpoint()+this.Y.projectId+"/"+t+"/"},t.prototype.tt=function(){var t,e={sentry_key:this.Y.user,sentry_version:"7"};return t=e,Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")},t}(),le=[],ce=function(){function t(t,e){this.rt={},this.et=0,this.it=new t(e),this.ot=e,e.dsn&&(this.ut=new It(e.dsn))}return t.prototype.captureException=function(t,e,n){var i=this,r=e&&e.event_id;return this.st(this.ct().eventFromException(t,e).then(function(t){return i.at(t,e,n)}).then(function(t){r=t})),r},t.prototype.captureMessage=function(t,e,n,i){var r=this,o=n&&n.event_id,s=c(t)?this.ct().eventFromMessage(""+t,e,n):this.ct().eventFromException(t,n);return this.st(s.then(function(t){return r.at(t,n,i)}).then(function(t){o=t})),o},t.prototype.captureEvent=function(t,e,n){var i=e&&e.event_id;return this.st(this.at(t,e,n).then(function(t){i=t})),i},t.prototype.captureSession=function(t){t.release?this.ft(t):Bt.warn("Discarded session because of missing release")},t.prototype.getDsn=function(){return this.ut},t.prototype.getOptions=function(){return this.ot},t.prototype.flush=function(t){var e=this;return this.ht(t).then(function(n){return e.ct().getTransport().close(t).then(function(t){return n&&t})})},t.prototype.close=function(t){var e=this;return this.flush(t).then(function(t){return e.getOptions().enabled=!1,t})},t.prototype.setupIntegrations=function(){this.vt()&&(this.rt=ot(this.ot))},t.prototype.getIntegration=function(t){try{return this.rt[t.id]||null}catch(e){return Bt.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype.lt=function(t,e){var i,r,o,s=!1,a=!1,l=e.exception&&e.exception.values;if(l){a=!0;try{for(var c=n(l),u=c.next();!u.done;u=c.next()){var h=u.value.mechanism;if(h&&!1===h.handled){s=!0;break}}}catch(t){i={error:t}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}}var f=e.user;if(!t.userAgent){var d=e.request?e.request.headers:{};for(var p in d)if("user-agent"===p.toLowerCase()){o=d[p];break}}t.update(Et(Et({},s&&{status:_t.Crashed}),{user:f,userAgent:o,errors:t.errors+Number(a||s)}))},t.prototype.ft=function(t){this.ct().sendSession(t)},t.prototype.ht=function(t){var e=this;return new Gt(function(n){var i=0,r=setInterval(function(){0==e.et?(clearInterval(r),n(!0)):(i+=1,t&&i>=t&&(clearInterval(r),n(!1)))},1)})},t.prototype.ct=function(){return this.it},t.prototype.vt=function(){return!1!==this.getOptions().enabled&&void 0!==this.ut},t.prototype.dt=function(t,e,n){var i=this,r=this.getOptions().normalizeDepth,o=void 0===r?3:r,s=Et(Et({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:O()),timestamp:t.timestamp||ne()});this.pt(s),this.yt(s);var a=e;n&&n.captureContext&&(a=ie.clone(a).update(n.captureContext));var l=Gt.resolve(s);return a&&(l=a.applyToEvent(s,n)),l.then(function(t){return"number"==typeof o&&o>0?i.bt(t,o):t})},t.prototype.bt=function(t,e){if(!t)return null;var n=Et(Et(Et(Et(Et({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(function(t){return Et(Et({},t),t.data&&{data:T(t.data,e)})})}),t.user&&{user:T(t.user,e)}),t.contexts&&{contexts:T(t.contexts,e)}),t.extra&&{extra:T(t.extra,e)});return t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace),n},t.prototype.pt=function(t){var e=this.getOptions(),n=e.environment,i=e.release,r=e.dist,o=e.maxValueLength,s=void 0===o?250:o;"environment"in t||(t.environment="environment"in e?n:"production"),void 0===t.release&&void 0!==i&&(t.release=i),void 0===t.dist&&void 0!==r&&(t.dist=r),t.message&&(t.message=y(t.message,s));var a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=y(a.value,s));var l=t.request;l&&l.url&&(l.url=y(l.url,s))},t.prototype.yt=function(t){var e=t.sdk,n=Object.keys(this.rt);e&&n.length>0&&(e.integrations=n)},t.prototype.wt=function(t){this.ct().sendEvent(t)},t.prototype.at=function(t,e,n){return this.gt(t,e,n).then(function(t){return t.event_id},function(t){Bt.error(t)})},t.prototype.gt=function(t,e,n){var i=this,r=this.getOptions(),o=r.beforeSend,s=r.sampleRate;if(!this.vt())return Gt.reject(new At("SDK not enabled, will not send event."));var a="transaction"===t.type;return!a&&"number"==typeof s&&Math.random()>s?Gt.reject(new At("This event has been sampled, will not send event.")):this.dt(t,n,e).then(function(t){if(null===t)throw new At("An event processor returned null, will not send event.");if(e&&e.data&&!0===e.data.__sentry__||a||!o)return t;var n=o(t,e);if(void 0===n)throw new At("`beforeSend` method has to return `null` or a valid event.");return d(n)?n.then(function(t){return t},function(t){throw new At("beforeSend rejected with "+t)}):n}).then(function(t){if(null===t)throw new At("`beforeSend` returned `null`, will not send event.");var e=n&&n.getSession&&n.getSession();return!a&&e&&i.lt(e,t),i.wt(t),t}).then(null,function(t){if(t instanceof At)throw t;throw i.captureException(t,{data:{__sentry__:!0},originalException:t}),new At("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)})},t.prototype.st=function(t){var e=this;this.et+=1,t.then(function(t){return e.et-=1,t},function(t){return e.et-=1,t})},t}(),ue=function(){function e(){}return e.prototype.sendEvent=function(e){return Gt.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:t.Status.Skipped})},e.prototype.close=function(t){return Gt.resolve(!0)},e}(),he=function(){function t(t){this.ot=t,this.ot.dsn||Bt.warn("No DSN provided, backend will not do anything."),this.Et=this.xt()}return t.prototype.eventFromException=function(t,e){throw new At("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new At("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this.Et.sendEvent(t).then(null,function(t){Bt.error("Error while sending event: "+t)})},t.prototype.sendSession=function(t){this.Et.sendSession?this.Et.sendSession(t).then(null,function(t){Bt.error("Error while sending session: "+t)}):Bt.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this.Et},t.prototype.xt=function(){return new ue},t}(),fe=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Kt=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return Kt.apply(n,t)}},t.id="FunctionToString",t}(),de=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],pe=function(){function t(e){void 0===e&&(e={}),this.ot=e,this.name=t.id}return t.prototype.setupOnce=function(){V(function(e){var n=J();if(!n)return e;var i=n.getIntegration(t);if(i){var r=n.getClient(),o=r?r.getOptions():{},s=i.jt(o);if(i.kt(e,s))return null}return e})},t.prototype.kt=function(t,e){return this._t(t,e)?(Bt.warn("Event dropped due to being internal Sentry Error.\nEvent: "+N(t)),!0):this.St(t,e)?(Bt.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+N(t)),!0):this.Ot(t,e)?(Bt.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+N(t)+".\nUrl: "+this.Tt(t)),!0):!this.Dt(t,e)&&(Bt.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+N(t)+".\nUrl: "+this.Tt(t)),!0)},t.prototype._t=function(t,e){if(!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(t){return!1}},t.prototype.St=function(t,e){return!(!e.ignoreErrors||!e.ignoreErrors.length)&&this.Rt(t).some(function(t){return e.ignoreErrors.some(function(e){return w(t,e)})})},t.prototype.Ot=function(t,e){if(!e.denyUrls||!e.denyUrls.length)return!1;var n=this.Tt(t);return!!n&&e.denyUrls.some(function(t){return w(n,t)})},t.prototype.Dt=function(t,e){if(!e.allowUrls||!e.allowUrls.length)return!0;var n=this.Tt(t);return!n||e.allowUrls.some(function(t){return w(n,t)})},t.prototype.jt=function(t){return void 0===t&&(t={}),{allowUrls:r(this.ot.whitelistUrls||[],this.ot.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:r(this.ot.blacklistUrls||[],this.ot.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:r(this.ot.ignoreErrors||[],t.ignoreErrors||[],de),ignoreInternal:void 0===this.ot.ignoreInternal||this.ot.ignoreInternal}},t.prototype.Rt=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,i=void 0===n?"":n,r=e.value,o=void 0===r?"":r;return[""+o,i+": "+o]}catch(e){return Bt.error("Cannot extract message for event "+N(t)),[]}return[]},t.prototype.Tt=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(e){return Bt.error("Cannot extract url for event "+N(t)),null}},t.id="InboundFilters",t}(),me=Object.freeze({__proto__:null,FunctionToString:fe,InboundFilters:pe}),ge="?",ve=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ye=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,be=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,we=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,xe=/\((\S*)(?::(\d+))(?::(\d+))\)/,_e=/Minified React error #\d+;/i,Ce=50,Se=function(){function e(t){this.options=t,this.T=new Jt(30),this.It={},this.Nt=new ae(this.options.dsn),this.url=this.Nt.getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(t){throw new At("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(t){return this.T.drain(t)},e.prototype.Mt=function(e){var n=e.requestType,i=e.response,r=e.headers,o=e.resolve,s=e.reject,a=t.Status.fromHttpCode(i.status);this.At(r)&&Bt.warn("Too many requests, backing off till: "+this.Ct(n)),a!==t.Status.Success?s(i):o({status:a})},e.prototype.Ct=function(t){return this.It[t]||this.It.all},e.prototype.qt=function(t){return this.Ct(t)>new Date(Date.now())},e.prototype.At=function(t){var e,i,r,o,s=Date.now(),a=t["x-sentry-rate-limits"],l=t["retry-after"];if(a){try{for(var c=n(a.trim().split(",")),u=c.next();!u.done;u=c.next()){var h=u.value.split(":",2),f=parseInt(h[0],10),d=1e3*(isNaN(f)?60:f);try{for(var p=(r=void 0,n(h[1].split(";"))),m=p.next();!m.done;m=p.next()){var g=m.value;this.It[g||"all"]=new Date(s+d)}}catch(t){r={error:t}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}return!0}return!!l&&(this.It.all=new Date(s+function(t,e){if(!e)return Nt;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var i=Date.parse(""+e);return isNaN(i)?Nt:i-t}(s,l)),!0)},e}(),ke=D(),Ee=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.sendEvent=function(t){return this.Lt(at(t,this.Nt),t)},n.prototype.sendSession=function(t){return this.Lt(st(t,this.Nt),t)},n.prototype.Lt=function(t,e){var n=this;if(this.qt(t.type))return Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this.Ct(t.type)+" due to too many requests.",status:429});var i={body:t.body,method:"POST",referrerPolicy:F()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(i,this.options.fetchParameters),void 0!==this.options.headers&&(i.headers=this.options.headers),this.T.add(new Gt(function(e,r){ke.fetch(t.url,i).then(function(i){var o={"x-sentry-rate-limits":i.headers.get("X-Sentry-Rate-Limits"),"retry-after":i.headers.get("Retry-After")};n.Mt({requestType:t.type,response:i,headers:o,resolve:e,reject:r})}).catch(r)}))},n}(Se),Te=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.sendEvent=function(t){return this.Lt(at(t,this.Nt),t)},n.prototype.sendSession=function(t){return this.Lt(st(t,this.Nt),t)},n.prototype.Lt=function(t,e){var n=this;return this.qt(t.type)?Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this.Ct(t.type)+" due to too many requests.",status:429}):this.T.add(new Gt(function(e,i){var r=new XMLHttpRequest;for(var o in r.onreadystatechange=function(){if(4===r.readyState){var o={"x-sentry-rate-limits":r.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":r.getResponseHeader("Retry-After")};n.Mt({requestType:t.type,response:r,headers:o,resolve:e,reject:i})}},r.open("POST",t.url),n.options.headers)n.options.headers.hasOwnProperty(o)&&r.setRequestHeader(o,n.options.headers[o]);r.send(t.body)}))},n}(Se),Ae=Object.freeze({__proto__:null,BaseTransport:Se,FetchTransport:Ee,XHRTransport:Te}),Pe=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),i.prototype.eventFromException=function(t,e){return pt(this.ot,t,e)},i.prototype.eventFromMessage=function(e,n,i){return void 0===n&&(n=t.Severity.Info),mt(this.ot,e,n,i)},i.prototype.xt=function(){if(!this.ot.dsn)return n.prototype.xt.call(this);var t=Et(Et({},this.ot.transportOptions),{dsn:this.ot.dsn});return this.ot.transport?new this.ot.transport(t):L()?new Ee(t):new Te(t)},i}(he),Ie=0,De=function(){function e(t){this.name=e.id,this.Ut=!1,this.Ht=!1,this.ot=Et({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this.ot.onerror&&(Bt.log("Global Handler attached: onerror"),this.Pt()),this.ot.onunhandledrejection&&(Bt.log("Global Handler attached: onunhandledrejection"),this.Ft())},e.prototype.Pt=function(){var t=this;this.Ut||(B({callback:function(n){var i=n.error,r=J(),o=r.getIntegration(e),s=i&&!0===i.__sentry_own_request__;if(o&&!yt()&&!s){var a=r.getClient(),l=c(i)?t.Xt(n.msg,n.url,n.line,n.column):t.Jt(gt(i,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);$(l,{handled:!1,type:"onerror"}),r.captureEvent(l,{originalException:i})}},type:"error"}),this.Ut=!0)},e.prototype.Ft=function(){var n=this;this.Ht||(B({callback:function(i){var r=i;try{"reason"in i?r=i.reason:"detail"in i&&"reason"in i.detail&&(r=i.detail.reason)}catch(t){}var o=J(),s=o.getIntegration(e),a=r&&!0===r.__sentry_own_request__;if(!s||yt()||a)return!0;var l=o.getClient(),u=c(r)?n.Wt(r):gt(r,void 0,{attachStacktrace:l&&l.getOptions().attachStacktrace,rejection:!0});u.level=t.Severity.Error,$(u,{handled:!1,type:"onunhandledrejection"}),o.captureEvent(u,{originalException:r})},type:"unhandledrejection"}),this.Ht=!0)},e.prototype.Xt=function(t,e,n,i){var r,o=s(t)?t.message:t;if(l(o)){var a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(r=a[1],o=a[2])}var c={exception:{values:[{type:r||"Error",value:o}]}};return this.Jt(c,e,n,i)},e.prototype.Wt=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+t}]}}},e.prototype.Jt=function(t,e,n,i){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var r=isNaN(parseInt(i,10))?void 0:i,o=isNaN(parseInt(n,10))?void 0:n,s=l(e)&&e.length>0?e:function(){try{return document.location.href}catch(t){return""}}();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:r,filename:s,function:"?",in_app:!0,lineno:o}),t},e.id="GlobalHandlers",e}(),Oe=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],je=function(){function t(e){this.name=t.id,this.ot=Et({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=D();this.ot.setTimeout&&x(t,"setTimeout",this.$t.bind(this)),this.ot.setInterval&&x(t,"setInterval",this.$t.bind(this)),this.ot.requestAnimationFrame&&x(t,"requestAnimationFrame",this.Bt.bind(this)),this.ot.XMLHttpRequest&&"XMLHttpRequest"in t&&x(XMLHttpRequest.prototype,"send",this.Gt.bind(this)),this.ot.eventTarget&&(Array.isArray(this.ot.eventTarget)?this.ot.eventTarget:Oe).forEach(this.zt.bind(this))},t.prototype.$t=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[0];return e[0]=bt(i,{mechanism:{data:{function:v(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype.Bt=function(t){return function(e){return t.call(this,bt(e,{mechanism:{data:{function:"requestAnimationFrame",handler:v(t)},handled:!0,type:"instrument"}}))}},t.prototype.zt=function(t){var e=D(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(x(n,"addEventListener",function(e){return function(n,i,r){try{"function"==typeof i.handleEvent&&(i.handleEvent=bt(i.handleEvent.bind(i),{mechanism:{data:{function:"handleEvent",handler:v(i),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.call(this,n,bt(i,{mechanism:{data:{function:"addEventListener",handler:v(i),target:t},handled:!0,type:"instrument"}}),r)}}),x(n,"removeEventListener",function(t){return function(e,n,i){var r,o=n;try{var s=null===(r=o)||void 0===r?void 0:r.__sentry_wrapped__;s&&t.call(this,e,s,i)}catch(t){}return t.call(this,e,o,i)}}))},t.prototype.Gt=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(function(t){t in i&&"function"==typeof i[t]&&x(i,t,function(e){var n={mechanism:{data:{function:t,handler:v(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(n.mechanism.data.handler=v(e.__sentry_original__)),bt(e,n)})}),t.apply(this,e)}},t.id="TryCatch",t}(),Ne=function(){function e(t){this.name=e.id,this.ot=Et({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(t){this.ot.sentry&&J().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:N(t)},{event:t})},e.prototype.setupOnce=function(){var t=this;this.ot.console&&B({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.Vt.apply(t,r(e))},type:"console"}),this.ot.dom&&B({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.Kt.apply(t,r(e))},type:"dom"}),this.ot.xhr&&B({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.Qt.apply(t,r(e))},type:"xhr"}),this.ot.fetch&&B({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.Yt.apply(t,r(e))},type:"fetch"}),this.ot.history&&B({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.Zt.apply(t,r(e))},type:"history"})},e.prototype.Vt=function(e){var n={category:"console",data:{arguments:e.args,logger:"console"},level:t.Severity.fromString(e.level),message:b(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;n.message="Assertion failed: "+(b(e.args.slice(1)," ")||"console.assert"),n.data.arguments=e.args.slice(1)}J().addBreadcrumb(n,{input:e.args,level:e.level})},e.prototype.Kt=function(t){var e;try{e=m(t.event.target?t.event.target:t.event)}catch(t){e="<unknown>"}0!==e.length&&J().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name})},e.prototype.Qt=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},n=e.method,i=e.url,r=e.status_code,o=e.body;J().addBreadcrumb({category:"xhr",data:{method:n,url:i,status_code:r},type:"http"},{xhr:t.xhr,input:o})}},e.prototype.Yt=function(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?J().addBreadcrumb({category:"fetch",data:e.fetchData,level:t.Severity.Error,type:"http"},{data:e.error,input:e.args}):J().addBreadcrumb({category:"fetch",data:Et(Et({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))},e.prototype.Zt=function(t){var e=D(),n=t.from,i=t.to,r=j(e.location.href),o=j(n),s=j(i);o.path||(o=r),r.protocol===s.protocol&&r.host===s.host&&(i=s.relative),r.protocol===o.protocol&&r.host===o.host&&(n=o.relative),J().addBreadcrumb({category:"navigation",data:{from:n,to:i}})},e.id="Breadcrumbs",e}(),Re="cause",Me=5,$e=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this.tn=e.key||Re,this.O=e.limit||Me}return t.prototype.setupOnce=function(){V(function(e,n){var i=J().getIntegration(t);return i?i.nn(e,n):e})},t.prototype.nn=function(t,e){if(!(t.exception&&t.exception.values&&e&&p(e.originalException,Error)))return t;var n=this.rn(e.originalException,this.tn);return t.exception.values=r(n,t.exception.values),t},t.prototype.rn=function(t,e,n){if(void 0===n&&(n=[]),!p(t[e],Error)||n.length+1>=this.O)return n;var i=ht(lt(t[e]));return this.rn(t[e],e,r([i],n))},t.id="LinkedErrors",
t}(),Le=D(),He=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){V(function(e){var n,i,r;if(J().getIntegration(t)){if(!Le.navigator&&!Le.location&&!Le.document)return e;var o=(null===(n=e.request)||void 0===n?void 0:n.url)||(null===(i=Le.location)||void 0===i?void 0:i.href),s=(Le.document||{}).referrer,a=(Le.navigator||{}).userAgent,l=Et(Et(Et({},null===(r=e.request)||void 0===r?void 0:r.headers),s&&{Referer:s}),a&&{"User-Agent":a}),c=Et(Et({},o&&{url:o}),{headers:l});return Et(Et({},e),{request:c})}return e})},t.id="UserAgent",t}(),Fe=Object.freeze({__proto__:null,GlobalHandlers:De,TryCatch:je,Breadcrumbs:Ne,LinkedErrors:$e,UserAgent:He}),ze="sentry.javascript.browser",Be=function(t){function n(e){return void 0===e&&(e={}),t.call(this,Pe,e)||this}return e(n,t),n.prototype.showReportDialog=function(t){void 0===t&&(t={}),D().document&&(this.vt()?wt(Et(Et({},t),{dsn:t.dsn||this.getDsn()})):Bt.error("Trying to call showReportDialog with Sentry Client disabled"))},n.prototype.dt=function(e,n,i){return e.platform=e.platform||"javascript",e.sdk=Et(Et({},e.sdk),{name:ze,packages:r(e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/browser",version:"5.27.4"}]),version:"5.27.4"}),t.prototype.dt.call(this,e,n,i)},n.prototype.wt=function(e){var n=this.getIntegration(Ne);n&&n.addSentryBreadcrumb(e),t.prototype.wt.call(this,e)},n}(ce),qe=[new pe,new fe,new je,new Ne,new De,new $e,new He],We={},Ue=D();Ue.Sentry&&Ue.Sentry.Integrations&&(We=Ue.Sentry.Integrations);var Xe=Et(Et(Et({},We),me),Fe);return t.BrowserClient=Be,t.Hub=se,t.Integrations=Xe,t.SDK_NAME=ze,t.SDK_VERSION="5.27.4",t.Scope=ie,t.Transports=Ae,t.addBreadcrumb=function(t){nt("addBreadcrumb",t)},t.addGlobalEventProcessor=V,t.captureEvent=function(t){return nt("captureEvent",t)},t.captureException=it,t.captureMessage=function(t,e){var n;try{throw new Error(t)}catch(t){n=t}return nt("captureMessage",t,"string"==typeof e?e:void 0,Et({originalException:t,syntheticException:n},"string"!=typeof e?{captureContext:e}:void 0))},t.close=function(t){var e=J().getClient();return e?e.close(t):Gt.reject(!1)},t.configureScope=function(t){nt("configureScope",t)},t.defaultIntegrations=qe,t.eventFromException=pt,t.eventFromMessage=mt,t.flush=function(t){var e=J().getClient();return e?e.flush(t):Gt.reject(!1)},t.forceLoad=function(){},t.getCurrentHub=J,t.getHubFromCarrier=tt,t.init=function(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=qe),void 0===t.release){var e=D();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}void 0===t.autoSessionTracking&&(t.autoSessionTracking=!1),function(t,e){!0===e.debug&&Bt.enable();var n=J(),i=new t(e);n.bindClient(i)}(Be,t),t.autoSessionTracking&&function(){var t=D(),e=J(),n="complete"===document.readyState,i=!1,r=function(){i&&n&&e.endSession()},o=function(){n=!0,r(),t.removeEventListener("load",o)};e.startSession(),n||t.addEventListener("load",o);try{var s=new PerformanceObserver(function(t,e){t.getEntries().forEach(function(t){"first-contentful-paint"===t.name&&t.startTime<a&&(e.disconnect(),i=!0,r())})}),a="hidden"===document.visibilityState?0:1/0;document.addEventListener("visibilitychange",function(t){a=Math.min(a,t.timeStamp)},{once:!0}),s.observe({type:"paint",buffered:!0})}catch(t){i=!0,r()}}()},t.injectReportDialog=wt,t.lastEventId=function(){return J().lastEventId()},t.makeMain=G,t.onLoad=function(t){t()},t.setContext=function(t,e){nt("setContext",t,e)},t.setExtra=function(t,e){nt("setExtra",t,e)},t.setExtras=function(t){nt("setExtras",t)},t.setTag=function(t,e){nt("setTag",t,e)},t.setTags=function(t){nt("setTags",t)},t.setUser=function(t){nt("setUser",t)},t.showReportDialog=function(t){void 0===t&&(t={}),t.eventId||(t.eventId=J().lastEventId());var e=J().getClient();e&&e.showReportDialog(t)},t.startTransaction=function(t,e){return nt("startTransaction",Et({},t),e)},t.withScope=rt,t.wrap=function(t){return bt(t)()},t}({});!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.SignaturePad=e()}(this,function(){"use strict";function t(t,e){void 0===e&&(e=250);var n,i,r,o=0,s=null,a=function(){o=Date.now(),s=null,n=t.apply(i,r),s||(i=null,r=[])};return function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var u=Date.now(),h=e-(u-o);return i=this,r=l,h<=0||h>e?(s&&(clearTimeout(s),s=null),o=u,n=t.apply(i,r),s||(i=null,r=[])):s||(s=window.setTimeout(a,h)),n}}var e=function(){function t(t,e,n){this.x=t,this.y=e,this.time=n||Date.now()}return t.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time},t.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0},t}(),n=function(){function t(t,e,n,i,r,o){this.startPoint=t,this.control2=e,this.control1=n,this.endPoint=i,this.startWidth=r,this.endWidth=o}return t.fromPoints=function(e,n){var i=this.calculateControlPoints(e[0],e[1],e[2]).c2,r=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new t(e[1],i,r,e[2],n.start,n.end)},t.calculateControlPoints=function(t,n,i){var r=t.x-n.x,o=t.y-n.y,s=n.x-i.x,a=n.y-i.y,l={x:(t.x+n.x)/2,y:(t.y+n.y)/2},c={x:(n.x+i.x)/2,y:(n.y+i.y)/2},u=Math.sqrt(r*r+o*o),h=Math.sqrt(s*s+a*a),f=l.x-c.x,d=l.y-c.y,p=h/(u+h),m={x:c.x+f*p,y:c.y+d*p},g=n.x-m.x,v=n.y-m.y;return{c1:new e(l.x+g,l.y+v),c2:new e(c.x+g,c.y+v)}},t.prototype.length=function(){for(var t,e,n=10,i=0,r=0;r<=n;r+=1){var o=r/n,s=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var l=s-t,c=a-e;i+=Math.sqrt(l*l+c*c)}t=s,e=a}return i},t.prototype.point=function(t,e,n,i,r){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*i*(1-t)*t*t+r*t*t*t},t}(),i=function(){function i(e,n){void 0===n&&(n={});var r=this;this.canvas=e,this.options=n,this._handleMouseDown=function(t){1===t.which&&(r._mouseButtonDown=!0,r._strokeBegin(t))},this._handleMouseMove=function(t){r._mouseButtonDown&&r._strokeMoveUpdate(t)},this._handleMouseUp=function(t){1===t.which&&r._mouseButtonDown&&(r._mouseButtonDown=!1,r._strokeEnd(t))},this._handleTouchStart=function(t){if(t.preventDefault(),1===t.targetTouches.length){var e=t.changedTouches[0];r._strokeBegin(e)}},this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];r._strokeMoveUpdate(e)},this._handleTouchEnd=function(t){var e=t.target===r.canvas;if(e){t.preventDefault();var n=t.changedTouches[0];r._strokeEnd(n)}},this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.throttle="throttle"in n?n.throttle:16,this.minDistance="minDistance"in n?n.minDistance:5,this.throttle?this._strokeMoveUpdate=t(i.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=i.prototype._strokeUpdate,this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.onBegin=n.onBegin,this.onEnd=n.onEnd,this._ctx=e.getContext("2d"),this.clear(),this.on()}return i.prototype.clear=function(){var t=this._ctx,e=this.canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0},i.prototype.fromDataURL=function(t,e,n){var i=this;void 0===e&&(e={});var r=new Image,o=e.ratio||window.devicePixelRatio||1,s=e.width||this.canvas.width/o,a=e.height||this.canvas.height/o;this._reset(),r.onload=function(){i._ctx.drawImage(r,0,0,s,a),n&&n()},r.onerror=function(t){n&&n(t)},r.src=t,this._isEmpty=!1},i.prototype.toDataURL=function(t,e){switch(void 0===t&&(t="image/png"),t){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(t,e)}},i.prototype.on=function(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())},i.prototype.off=function(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)},i.prototype.isEmpty=function(){return this._isEmpty},i.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(t){var n=t.color,i=t.curve;return e._drawCurve({color:n,curve:i})},function(t){var n=t.color,i=t.point;return e._drawDot({color:n,point:i})}),this._data=t},i.prototype.toData=function(){return this._data},i.prototype._strokeBegin=function(t){var e={color:this.penColor,points:[]};"function"==typeof this.onBegin&&this.onBegin(t),this._data.push(e),this._reset(),this._strokeUpdate(t)},i.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,i=this._createPoint(e,n),r=this._data[this._data.length-1];if("undefined"!=typeof r){var o=r.points,s=o.length>0&&o[o.length-1],a=!!s&&i.distanceTo(s)<=this.minDistance,l=r.color;if(!s||!s||!a){var c=this._addPoint(i);s?c&&this._drawCurve({color:l,curve:c}):this._drawDot({color:l,point:i}),o.push({time:i.time,x:i.x,y:i.y})}}},i.prototype._strokeEnd=function(t){this._strokeUpdate(t),"function"==typeof this.onEnd&&this.onEnd(t)},i.prototype._handlePointerEvents=function(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)},i.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},i.prototype._handleTouchEvents=function(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)},i.prototype._reset=function(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},i.prototype._createPoint=function(t,n){var i=this.canvas.getBoundingClientRect();return new e(t-i.left,n-i.top,(new Date).getTime())},i.prototype._addPoint=function(t){var e=this._lastPoints;if(e.push(t),e.length>2){3===e.length&&e.unshift(e[0]);var i=this._calculateCurveWidths(e[1],e[2]),r=n.fromPoints(e,i);return e.shift(),r}return null},i.prototype._calculateCurveWidths=function(t,e){var n=this.velocityFilterWeight*e.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(n),r={end:i,start:this._lastWidth};return this._lastVelocity=n,this._lastWidth=i,r},i.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)},i.prototype._drawCurveSegment=function(t,e,n){var i=this._ctx;i.moveTo(t,e),i.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1},i.prototype._drawCurve=function(t){var e=t.color,n=t.curve,i=this._ctx,r=n.endWidth-n.startWidth,o=2*Math.floor(n.length());i.beginPath(),i.fillStyle=e;for(var s=0;s<o;s+=1){var a=s/o,l=a*a,c=l*a,u=1-a,h=u*u,f=h*u,d=f*n.startPoint.x;d+=3*h*a*n.control1.x,d+=3*u*l*n.control2.x,d+=c*n.endPoint.x;var p=f*n.startPoint.y;p+=3*h*a*n.control1.y,p+=3*u*l*n.control2.y,p+=c*n.endPoint.y;var m=n.startWidth+c*r;this._drawCurveSegment(d,p,m)}i.closePath(),i.fill()},i.prototype._drawDot=function(t){var e=t.color,n=t.point,i=this._ctx,r="function"==typeof this.dotSize?this.dotSize():this.dotSize;i.beginPath(),this._drawCurveSegment(n.x,n.y,r),i.closePath(),i.fillStyle=e,i.fill()},i.prototype._fromData=function(t,n,i){for(var r=0,o=t;r<o.length;r++){var s=o[r],a=s.color,l=s.points;if(l.length>1)for(var c=0;c<l.length;c+=1){var u=l[c],h=new e(u.x,u.y,u.time);this.penColor=a,0===c&&this._reset();var f=this._addPoint(h);f&&n({color:a,curve:f})}else this._reset(),i({color:a,point:l[0]})}},i.prototype._toSVG=function(){var t=this,e=this._data,n=Math.max(window.devicePixelRatio||1,1),i=0,r=0,o=this.canvas.width/n,s=this.canvas.height/n,a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("width",this.canvas.width.toString()),a.setAttribute("height",this.canvas.height.toString()),this._fromData(e,function(t){var e=t.color,n=t.curve,i=document.createElement("path");if(!(isNaN(n.control1.x)||isNaN(n.control1.y)||isNaN(n.control2.x)||isNaN(n.control2.y))){var r="M "+n.startPoint.x.toFixed(3)+","+n.startPoint.y.toFixed(3)+" "+("C "+n.control1.x.toFixed(3)+","+n.control1.y.toFixed(3)+" ")+(n.control2.x.toFixed(3)+","+n.control2.y.toFixed(3)+" ")+(n.endPoint.x.toFixed(3)+","+n.endPoint.y.toFixed(3));i.setAttribute("d",r),i.setAttribute("stroke-width",(2.25*n.endWidth).toFixed(3)),i.setAttribute("stroke",e),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),a.appendChild(i)}},function(e){var n=e.color,i=e.point,r=document.createElement("circle"),o="function"==typeof t.dotSize?t.dotSize():t.dotSize;r.setAttribute("r",o.toString()),r.setAttribute("cx",i.x.toString()),r.setAttribute("cy",i.y.toString()),r.setAttribute("fill",n),a.appendChild(r)});var l="data:image/svg+xml;base64,",c='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+i+" "+r+" "+o+" "+s+'"')+(' width="'+o+'"')+(' height="'+s+'"')+">",u=a.innerHTML;if(void 0===u){var h=document.createElement("dummy"),f=a.childNodes;h.innerHTML="";for(var d=0;d<f.length;d+=1)h.appendChild(f[d].cloneNode(!0));u=h.innerHTML}var p="</svg>",m=c+u+p;return l+btoa(m)},i}();return i}),!function(t,e){"use strict";function n(){return e}"function"==typeof define&&define.amd?define("tinysort",n):t.tinysort=e}(this,function(){"use strict";function t(t,i){function a(){0===arguments.length?g({}):e(arguments,function(t){g(k(t)?{selector:t}:t)}),d=O.length}function g(t){var e=!!t.selector,i=e&&":"===t.selector[0],r=n(t||{},m);O.push(n({hasSelector:e,hasAttr:!(r.attr===s||""===r.attr),hasData:r.data!==s,hasFilter:i,sortReturnNumber:"asc"===r.order?1:-1},r))}function v(){e(t,function(t,e){T?T!==t.parentNode&&(j=!1):T=t.parentNode;var n=O[0],i=n.hasFilter,r=n.selector,o=!r||i&&t.matchesSelector(r)||r&&t.querySelector(r),s=o?I:D,a={elm:t,pos:e,posn:s.length};P.push(a),s.push(a)}),E=I.slice(0)}function y(){I.sort(b)}function b(t,n){var i=0;for(0!==p&&(p=0);0===i&&d>p;){var s=O[p],a=s.ignoreDashes?h:u;if(e(f,function(t){var e=t.prepare;e&&e(s)}),s.sortFunction)i=s.sortFunction(t,n);else if("rand"==s.order)i=Math.random()<.5?1:-1;else{var l=o,m=S(t,s),g=S(n,s),v=""===m||m===r,y=""===g||g===r;if(m===g)i=0;else if(s.emptyEnd&&(v||y))i=v&&y?0:v?1:-1;else{if(!s.forceStrings){var b=k(m)?m&&m.match(a):o,w=k(g)?g&&g.match(a):o;if(b&&w){var x=m.substr(0,m.length-b[0].length),_=g.substr(0,g.length-w[0].length);x==_&&(l=!o,m=c(b[0]),g=c(w[0]))}}i=m===r||g===r?0:g>m?-1:m>g?1:0}}e(f,function(t){var e=t.sort;e&&(i=e(s,l,m,g,i))}),i*=s.sortReturnNumber,0===i&&p++}return 0===i&&(i=t.pos>n.pos?1:-1),i}function w(){var t=I.length===P.length;if(j&&t)N?I.forEach(function(t,e){t.elm.style.order=e}):T.appendChild(x());else{var e=O[0],n=e.place,i="org"===n,r="start"===n,o="end"===n,s="first"===n,a="last"===n;if(i)I.forEach(_),I.forEach(function(t,e){C(E[e],t.elm)});else if(r||o){var l=E[r?0:E.length-1],c=l.elm.parentNode,u=r?c.firstChild:c.lastChild;u!==l.elm&&(l={elm:u}),_(l),o&&c.appendChild(l.ghost),C(l,x())}else if(s||a){var h=E[s?0:E.length-1];C(_(h),x())}}}function x(){return I.forEach(function(t){A.appendChild(t.elm)}),A}function _(t){var e=t.elm,n=l.createElement("div");return t.ghost=n,e.parentNode.insertBefore(n,e),t}function C(t,e){var n=t.ghost,i=n.parentNode;i.insertBefore(e,n),i.removeChild(n),delete t.ghost}function S(t,e){var n,i=t.elm;return e.selector&&(e.hasFilter?i.matchesSelector(e.selector)||(i=s):i=i.querySelector(e.selector)),e.hasAttr?n=i.getAttribute(e.attr):e.useVal?n=i.value||i.getAttribute("value"):e.hasData?n=i.getAttribute("data-"+e.data):i&&(n=i.textContent),k(n)&&(e.cases||(n=n.toLowerCase()),n=n.replace(/\s+/g," ")),n}function k(t){return"string"==typeof t}k(t)&&(t=l.querySelectorAll(t)),0===t.length&&console.warn("No elements to sort");var E,T,A=l.createDocumentFragment(),P=[],I=[],D=[],O=[],j=!0,N=t.length&&(i===r||i.useFlex!==!1)&&-1!==getComputedStyle(t[0].parentNode,null).display.indexOf("flex");return a.apply(s,Array.prototype.slice.call(arguments,1)),v(),y(),w(),I.map(function(t){return t.elm})}function e(t,e){for(var n,i=t.length,r=i;r--;)n=i-r-1,e(t[n],n)}function n(t,e,n){for(var i in e)(n||t[i]===r)&&(t[i]=e[i]);return t}function i(t,e,n){f.push({prepare:t,sort:e,sortBy:n})}var r,o=!1,s=null,a=window,l=a.document,c=parseFloat,u=/(-?\d+\.?\d*)\s*$/g,h=/(\d+\.?\d*)\s*$/g,f=[],d=0,p=0,m={selector:s,order:"asc",attr:s,data:s,useVal:o,place:"org",returns:o,cases:o,forceStrings:o,ignoreDashes:o,sortFunction:s,useFlex:o,emptyEnd:o};return a.Element&&function(t){t.matchesSelector=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(t){for(var e=this,n=(e.parentNode||e.document).querySelectorAll(t),i=-1;n[++i]&&n[i]!=e;);return!!n[i]}}(Element.prototype),n(i,{loop:e}),n(t,{plugin:i,defaults:m})}()),function(t){t.widget("ui.multisortable",t.extend({},t.ui.sortable.prototype,{_mouseCapture:function(e,n){if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(e);var i=null,r=t(e.target).parents(".grabbable");if(r.length>0&&(i=r),!i)return!1;if(this.options.handle&&!n){var o=!1;if(t(this.options.handle,i).find("*").andSelf().each(function(){this==e.target&&(o=!0)}),!o)return!1}return this.currentItem=i,this._removeCurrentsFromItems(),!0},_mouseStart:function(e,n,i){var r=this.options,o=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),t("#target").text(this.helper.length),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&(t("body").css("cursor")&&(this._storedCursor=t("body").css("cursor")),t("body").css("cursor",r.cursor)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(var s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",e,o._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var n=this.options,i=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(e.pageY-t(document).scrollTop()<n.scrollSensitivity?i=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(i=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed)),e.pageX-t(document).scrollLeft()<n.scrollSensitivity?i=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(i=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed))),i!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");var r=this.options.axis,o=this.position.left,s=this.position.top;this.helper.each(function(e){r&&"y"==r||(this.style.left=o+t(this).outerWidth()*e+"px"),r&&"x"==r||(this.style.top=s+"px")});for(var a=this.items.length-1;a>=0;a--){var l=this.items[a],c=l.item[0],u=this._intersectsWithPointer(l);if(u&&!(c==this.currentItem[0]||this.placeholder[1==u?"next":"prev"]()[0]==c||t.contains(this.placeholder[0],c)||"semi-dynamic"==this.options.type&&t.contains(this.element[0],c))){if(this.direction=1==u?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(l))break;this._rearrange(e,l),this._trigger("change",e,this._uiHash());break}}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_createHelper:function(e){var n=this.options;if(this.currentItem.hasClass("ui-multisort-grouped")){var i=t(this.currentItem).add(t(this.currentItem).siblings(".ui-multisort-grouped")),r=i.cloneWithCanvas();if(t(this.currentItem).siblings(".ui-multisort-grouped").hide(),!r.parents("body").length){var o=t("parent"!=n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0];t(r).each(function(t){o.appendChild(r[t])})}}else{var r=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"==n.helper?this.currentItem.clone():this.currentItem;r.parents("body").length||t("parent"!=n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0])}return r[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(""==r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_clear:function(e,n){this.reverting=!1;var i=[];if(!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var r in this._storedCSS)"auto"!=this._storedCSS[r]&&"static"!=this._storedCSS[r]||(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else t(this.currentItem).parent().children().size()>0&&t(this.currentItem).siblings(".ui-multisort-grouped").show(),this.currentItem.show();if(this.fromOutside&&!n&&i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||n||i.push(function(t){this._trigger("update",t,this._uiHash())}),!t.contains(this.element[0],this.currentItem[0])){n||i.push(function(t){this._trigger("remove",t,this._uiHash())});for(var r=this.containers.length-1;r>=0;r--)t.contains(this.containers[r].element[0],this.currentItem[0])&&!n&&(i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.containers[r])),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.containers[r])))}for(var r=this.containers.length-1;r>=0;r--)n||i.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over&&(i.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over=0);if(this._storedCursor&&t("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",e,this._uiHash());for(var r=0;r<i.length;r++)i[r].call(this,e);this._trigger("stop",e,this._uiHash())}return!1}if(n||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper&&this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!n){for(var r=0;r<i.length;r++)i[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0}})),t.extend(t.ui.multisortable,{getter:"serialize toArray",version:"1.7.2",eventPrefix:"sort",defaults:{appendTo:"parent",axis:!1,cancel:":input,option",connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,delay:0,distance:1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3}})}(jQuery),function(){function t(t){function e(e,n,i,r,o,s){for(;o>=0&&s>o;o+=t){var a=r?r[o]:o;i=n(i,e[a],a,e)}return i}return function(n,i,r,o){i=b(i,o,4);var s=!E(n)&&y.keys(n),a=(s||n).length,l=t>0?0:a-1;return arguments.length<3&&(r=n[s?s[l]:l],l+=t),e(n,i,r,s,l,a)}}function e(t){return function(e,n,i){n=w(n,i);for(var r=k(e),o=t>0?0:r-1;o>=0&&r>o;o+=t)if(n(e[o],o,e))return o;return-1}}function n(t,e,n){return function(i,r,o){var s=0,a=k(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(u.call(i,s,a),y.isNaN),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&a>o;o+=t)if(i[o]===r)return o;return-1}}function i(t,e){var n=D.length,i=t.constructor,r=y.isFunction(i)&&i.prototype||a,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)o=D[n],o in t&&t[o]!==r[o]&&!y.contains(e,o)&&e.push(o)}var r=this,o=r._,s=Array.prototype,a=Object.prototype,l=Function.prototype,c=s.push,u=s.slice,h=a.toString,f=a.hasOwnProperty,d=Array.isArray,p=Object.keys,m=l.bind,g=Object.create,v=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return null==t?y.identity:y.isFunction(t)?b(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return w(t,e,1/0)};var x=function(t,e){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],s=t(o),a=s.length,l=0;a>l;l++){var c=s[l];e&&void 0!==n[c]||(n[c]=o[c])}return n}},_=function(t){if(!y.isObject(t))return{};if(g)return g(t);v.prototype=t;var e=new v;return v.prototype=null,e},C=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,k=C("length"),E=function(t){var e=k(t);return"number"==typeof e&&e>=0&&S>=e};y.each=y.forEach=function(t,e,n){e=b(e,n);var i,r;if(E(t))for(i=0,r=t.length;r>i;i++)e(t[i],i,t);else{var o=y.keys(t);for(i=0,r=o.length;r>i;i++)e(t[o[i]],o[i],t)}return t},y.map=y.collect=function(t,e,n){e=w(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=Array(r),s=0;r>s;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var i;return i=E(t)?y.findIndex(t,e,n):y.findKey(t,e,n),void 0!==i&&i!==-1?t[i]:void 0},y.filter=y.select=function(t,e,n){var i=[];return e=w(e,n),y.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},y.reject=function(t,e,n){return y.filter(t,y.negate(w(e)),n)},y.every=y.all=function(t,e,n){e=w(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=0;r>o;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},y.some=y.any=function(t,e,n){e=w(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=0;r>o;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return E(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=u.call(arguments,2),i=y.isFunction(e);return y.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var i,r,o=-1/0,s=-1/0;if(null==e&&null!=t){t=E(t)?t:y.values(t);for(var a=0,l=t.length;l>a;a++)i=t[a],i>o&&(o=i)}else e=w(e,n),y.each(t,function(t,n,i){r=e(t,n,i),(r>s||r===-1/0&&o===-1/0)&&(o=t,s=r)});return o},y.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e&&null!=t){t=E(t)?t:y.values(t);for(var a=0,l=t.length;l>a;a++)i=t[a],o>i&&(o=i)}else e=w(e,n),y.each(t,function(t,n,i){r=e(t,n,i),(s>r||1/0===r&&1/0===o)&&(o=t,s=r)});return o},y.shuffle=function(t){for(var e,n=E(t)?t:y.values(t),i=n.length,r=Array(i),o=0;i>o;o++)e=y.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},y.sample=function(t,e,n){return null==e||n?(E(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=w(e,n),y.pluck(y.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var T=function(t){return function(e,n,i){var r={};return n=w(n,i),y.each(e,function(i,o){var s=n(i,o,e);t(r,i,s)}),r}};y.groupBy=T(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=T(function(t,e,n){t[n]=e}),y.countBy=T(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?u.call(t):E(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:E(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=w(e,n);var i=[],r=[];return y.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},y.first=y.head=y.take=function(t,e,n){
return null==t?void 0:null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var A=function(t,e,n,i){for(var r=[],o=0,s=i||0,a=k(t);a>s;s++){var l=t[s];if(E(l)&&(y.isArray(l)||y.isArguments(l))){e||(l=A(l,e,n));var c=0,u=l.length;for(r.length+=u;u>c;)r[o++]=l[c++]}else n||(r[o++]=l)}return r};y.flatten=function(t,e){return A(t,e,!1)},y.without=function(t){return y.difference(t,u.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=w(n,i));for(var r=[],o=[],s=0,a=k(t);a>s;s++){var l=t[s],c=n?n(l,s,t):l;e?(s&&o===c||r.push(l),o=c):n?y.contains(o,c)||(o.push(c),r.push(l)):y.contains(r,l)||r.push(l)}return r},y.union=function(){return y.uniq(A(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=k(t);r>i;i++){var o=t[i];if(!y.contains(e,o)){for(var s=1;n>s&&y.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},y.difference=function(t){var e=A(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,k).length||0,n=Array(e),i=0;e>i;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,r=k(t);r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,i){n=w(n,i,1);for(var r=n(e),o=0,s=k(t);s>o;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;i>o;o++,t+=n)r[o]=t;return r};var P=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=_(t.prototype),s=t.apply(o,r);return y.isObject(s)?s:o};y.bind=function(t,e){if(m&&t.bind===m)return m.apply(t,u.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=u.call(arguments,2),i=function(){return P(t,i,e,this,n.concat(u.call(arguments)))};return i},y.partial=function(t){var e=u.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),s=0;r>s;s++)o[s]=e[s]===y?arguments[i++]:e[s];for(;i<arguments.length;)o.push(arguments[i++]);return P(t,n,this,this,o)};return n},y.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return y.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},y.delay=function(t,e){var n=u.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:y.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var c=y.now();a||n.leading!==!1||(a=c);var u=e-(c-a);return i=this,r=arguments,0>=u||u>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(l,u)),o}},y.debounce=function(t,e,n){var i,r,o,s,a,l=function(){var c=y.now()-s;e>c&&c>=0?i=setTimeout(l,e-c):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=y.now();var c=n&&!i;return i||(i=setTimeout(l,e)),c&&(a=t.apply(o,r),o=r=null),a}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},y.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},y.once=y.partial(y.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return I&&i(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return I&&i(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},y.mapObject=function(t,e,n){e=w(e,n);for(var i,r=y.keys(t),o=r.length,s={},a=0;o>a;a++)i=r[a],s[i]=e(t[i],i,t);return s},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=x(y.allKeys),y.extendOwn=y.assign=x(y.keys),y.findKey=function(t,e,n){e=w(e,n);for(var i,r=y.keys(t),o=0,s=r.length;s>o;o++)if(i=r[o],e(t[i],i,t))return i},y.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;y.isFunction(e)?(r=y.allKeys(s),i=b(e,n)):(r=A(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,l=r.length;l>a;a++){var c=r[a],u=s[c];i(u,c,s)&&(o[c]=u)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(A(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=x(y.allKeys,!0),y.create=function(t,e){var n=_(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;i>o;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var O=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var r=h.call(t);if(r!==h.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if(l=t.length,l!==e.length)return!1;for(;l--;)if(!O(t[l],e[l],n,i))return!1}else{var c,u=y.keys(t);if(l=u.length,y.keys(e).length!==l)return!1;for(;l--;)if(c=u[l],!y.has(e,c)||!O(t[c],e[c],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return O(t,e)},y.isEmpty=function(t){return null==t||(E(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=d||function(t){return"[object Array]"===h.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===h.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&f.call(t,e)},y.noConflict=function(){return r._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=C,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=b(e,n,1);for(var r=0;t>r;r++)i[r]=e(r);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=y.invert(j),R=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};y.escape=R(j),y.unescape=R(N),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var M=0;y.uniqueId=function(t){var e=++M+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var $=/(.)^/,L={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,F=function(t){return"\\"+L[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var i=RegExp([(e.escape||$).source,(e.interpolate||$).source,(e.evaluate||$).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,s,a){return o+=t.slice(r,a).replace(H,F),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,y)},l=e.variable||"obj";return a.source="function("+l+"){\n"+o+"}",a},y.chain=function(t){var e=y(t);return e._chain=!0,e};var z=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),z(this,n.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],z(this,n)}}),y.each(["concat","join","slice"],function(t){var e=s[t];y.prototype[t]=function(){return z(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),function(t){function e(){var t=Error.apply(this,arguments);t.name=this.name="FlashError",this.stack=t.stack,this.message=t.message}function i(){var t=Error.apply(this,arguments);t.name=this.name="WebcamError",this.stack=t.stack,this.message=t.message}var r,o=function(){};o.prototype=Error.prototype,e.prototype=new o,i.prototype=new o;var s={version:"1.0.26",protocol:location.protocol.match(/https/i)?"https":"http",loaded:!1,live:!1,userMedia:!0,iOS:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream,params:{width:0,height:0,dest_width:0,dest_height:0,image_format:"jpeg",jpeg_quality:90,enable_flash:!0,force_flash:!1,flip_horiz:!1,fps:30,upload_name:"webcam",constraints:null,swfURL:"",flashNotDetectedText:"ERROR: No Adobe Flash Player detected.  Webcam.js relies on Flash for browsers that do not support getUserMedia (like yours).",noInterfaceFoundText:"No supported webcam interface found.",unfreeze_snap:!0,iosPlaceholderText:"Click here to open camera.",user_callback:null,user_canvas:null},errors:{FlashError:e,WebcamError:i},hooks:{},init:function(){var e=this;this.mediaDevices=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices:navigator.mozGetUserMedia||navigator.webkitGetUserMedia?{getUserMedia:function(t){return new Promise(function(e,n){(navigator.mozGetUserMedia||navigator.webkitGetUserMedia).call(navigator,t,e,n)})}}:null,t.URL=t.URL||t.webkitURL||t.mozURL||t.msURL,this.userMedia=this.userMedia&&!!this.mediaDevices&&!!t.URL,navigator.userAgent.match(/Firefox\D+(\d+)/)&&parseInt(RegExp.$1,10)<21&&(this.userMedia=null),this.userMedia&&t.addEventListener("beforeunload",function(t){e.reset()})},exifOrientation:function(t){var e=new DataView(t);if(255!=e.getUint8(0)||216!=e.getUint8(1))return console.log("Not a valid JPEG file"),0;for(var i=2,r=null;i<t.byteLength;){if(255!=e.getUint8(i))return console.log("Not a valid marker at offset "+i+", found: "+e.getUint8(i)),0;if(r=e.getUint8(i+1),225==r){i+=4;var o="";for(n=0;n<4;n++)o+=String.fromCharCode(e.getUint8(i+n));if("Exif"!=o)return console.log("Not valid EXIF data found"),0;i+=6;var s=null;if(18761==e.getUint16(i))s=!1;else{if(19789!=e.getUint16(i))return console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),0;s=!0}if(42!=e.getUint16(i+2,!s))return console.log("Not valid TIFF data! (no 0x002A)"),0;var a=e.getUint32(i+4,!s);if(a<8)return console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(i+4,!s)),0;for(var l=i+a,c=e.getUint16(l,!s),u=0;u<c;u++){var h=l+12*u+2;if(274==e.getUint16(h,!s)){var f=e.getUint16(h+2,!s),d=e.getUint32(h+4,!s);if(3!=f&&1!=d)return console.log("Invalid EXIF orientation value type ("+f+") or count ("+d+")"),0;var p=e.getUint16(h+8,!s);return p<1||p>8?(console.log("Invalid EXIF orientation value ("+p+")"),0):p}}}else i+=2+e.getUint16(i+2)}return 0},fixOrientation:function(t,e,n){var i=new Image;i.addEventListener("load",function(t){var r=document.createElement("canvas"),o=r.getContext("2d");switch(e<5?(r.width=i.width,r.height=i.height):(r.width=i.height,r.height=i.width),e){case 2:o.transform(-1,0,0,1,i.width,0);break;case 3:o.transform(-1,0,0,-1,i.width,i.height);break;case 4:o.transform(1,0,0,-1,0,i.height);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,i.height,0);break;case 7:o.transform(0,-1,-1,0,i.height,i.width);break;case 8:o.transform(0,-1,1,0,0,i.width)}o.drawImage(i,0,0),n.src=r.toDataURL()},!1),i.src=t},attach:function(e){if("string"==typeof e&&(e=document.getElementById(e)||document.querySelector(e)),!e)return this.dispatch("error",new i("Could not locate DOM element to attach to."));this.container=e,e.innerHTML="";var n=document.createElement("div");if(e.appendChild(n),this.peg=n,this.params.width||(this.params.width=e.offsetWidth),this.params.height||(this.params.height=e.offsetHeight),!this.params.width||!this.params.height)return this.dispatch("error",new i("No width and/or height for webcam.  Please call set() first, or attach to a visible element."));this.params.dest_width||(this.params.dest_width=this.params.width),this.params.dest_height||(this.params.dest_height=this.params.height),this.userMedia=void 0===r?this.userMedia:r,this.params.force_flash&&(r=this.userMedia,this.userMedia=null),"number"!=typeof this.params.fps&&(this.params.fps=30);var o=this.params.width/this.params.dest_width,a=this.params.height/this.params.dest_height;if(this.userMedia){var l=document.createElement("video");l.setAttribute("autoplay","autoplay"),l.setAttribute("playsinline","playsinline"),l.style.width=""+this.params.dest_width+"px",l.style.height=""+this.params.dest_height+"px",1==o&&1==a||(e.style.overflow="hidden",l.style.webkitTransformOrigin="0px 0px",l.style.mozTransformOrigin="0px 0px",l.style.msTransformOrigin="0px 0px",l.style.oTransformOrigin="0px 0px",l.style.transformOrigin="0px 0px",l.style.webkitTransform="scaleX("+o+") scaleY("+a+")",l.style.mozTransform="scaleX("+o+") scaleY("+a+")",l.style.msTransform="scaleX("+o+") scaleY("+a+")",l.style.oTransform="scaleX("+o+") scaleY("+a+")",l.style.transform="scaleX("+o+") scaleY("+a+")"),e.appendChild(l),this.video=l;var c=this;this.mediaDevices.getUserMedia({audio:!1,video:this.params.constraints||{mandatory:{minWidth:this.params.dest_width,minHeight:this.params.dest_height}}}).then(function(e){l.onloadedmetadata=function(t){c.stream=e,c.loaded=!0,c.live=!0,c.dispatch("load"),c.dispatch("live"),c.flip()},"srcObject"in l?l.srcObject=e:l.src=t.URL.createObjectURL(e)}).catch(function(t){c.params.enable_flash&&c.detectFlash()?setTimeout(function(){c.params.force_flash=1,c.attach(e)},1):c.dispatch("error",t)})}else if(this.iOS){var u=document.createElement("div");u.id=this.container.id+"-ios_div",u.className="webcamjs-ios-placeholder",u.style.width=""+this.params.width+"px",u.style.height=""+this.params.height+"px",u.style.textAlign="center",u.style.display="table-cell",u.style.verticalAlign="middle",u.style.backgroundRepeat="no-repeat",u.style.backgroundSize="contain",u.style.backgroundPosition="center";var h=document.createElement("span");h.className="webcamjs-ios-text",h.innerHTML=this.params.iosPlaceholderText,u.appendChild(h);var f=document.createElement("img");f.id=this.container.id+"-ios_img",f.style.width=""+this.params.dest_width+"px",f.style.height=""+this.params.dest_height+"px",f.style.display="none",u.appendChild(f);var d=document.createElement("input");d.id=this.container.id+"-ios_input",d.setAttribute("type","file"),d.setAttribute("accept","image/*"),d.setAttribute("capture","camera");var c=this,p=this.params;d.addEventListener("change",function(t){if(t.target.files.length>0&&0==t.target.files[0].type.indexOf("image/")){var e=URL.createObjectURL(t.target.files[0]),n=new Image;n.addEventListener("load",function(t){var e=document.createElement("canvas");e.width=p.dest_width,e.height=p.dest_height;var i=e.getContext("2d");ratio=Math.min(n.width/p.dest_width,n.height/p.dest_height);var r=p.dest_width*ratio,o=p.dest_height*ratio,s=(n.width-r)/2,a=(n.height-o)/2;i.drawImage(n,s,a,r,o,0,0,p.dest_width,p.dest_height);var l=e.toDataURL();f.src=l,u.style.backgroundImage="url('"+l+"')"},!1);var i=new FileReader;i.addEventListener("load",function(t){var i=c.exifOrientation(t.target.result);i>1?c.fixOrientation(e,i,n):n.src=e},!1);var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="blob",r.onload=function(t){200!=this.status&&0!==this.status||i.readAsArrayBuffer(this.response)},r.send()}},!1),d.style.display="none",e.appendChild(d),u.addEventListener("click",function(t){p.user_callback?c.snap(p.user_callback,p.user_canvas):(d.style.display="block",d.focus(),d.click(),d.style.display="none")},!1),e.appendChild(u),this.loaded=!0,this.live=!0}else if(this.params.enable_flash&&this.detectFlash()){t.Webcam=s;var u=document.createElement("div");u.innerHTML=this.getSWFHTML(),e.appendChild(u)}else this.dispatch("error",new i(this.params.noInterfaceFoundText));if(this.params.crop_width&&this.params.crop_height){var m=Math.floor(this.params.crop_width*o),g=Math.floor(this.params.crop_height*a);e.style.width=""+m+"px",e.style.height=""+g+"px",e.style.overflow="hidden",e.scrollLeft=Math.floor(this.params.width/2-m/2),e.scrollTop=Math.floor(this.params.height/2-g/2)}else e.style.width=""+this.params.width+"px",e.style.height=""+this.params.height+"px"},reset:function(){if(this.preview_active&&this.unfreeze(),this.unflip(),this.userMedia){if(this.stream)if(this.stream.getVideoTracks){var t=this.stream.getVideoTracks();t&&t[0]&&t[0].stop&&t[0].stop()}else this.stream.stop&&this.stream.stop();delete this.stream,delete this.video}if(this.userMedia!==!0&&this.loaded&&!this.iOS){var e=this.getMovie();e&&e._releaseCamera&&e._releaseCamera()}this.container&&(this.container.innerHTML="",delete this.container),this.loaded=!1,this.live=!1},set:function(){if(1==arguments.length)for(var t in arguments[0])this.params[t]=arguments[0][t];else this.params[arguments[0]]=arguments[1]},on:function(t,e){t=t.replace(/^on/i,"").toLowerCase(),this.hooks[t]||(this.hooks[t]=[]),this.hooks[t].push(e)},off:function(t,e){if(t=t.replace(/^on/i,"").toLowerCase(),this.hooks[t])if(e){var n=this.hooks[t].indexOf(e);n>-1&&this.hooks[t].splice(n,1)}else this.hooks[t]=[]},dispatch:function(){var n=arguments[0].replace(/^on/i,"").toLowerCase(),r=Array.prototype.slice.call(arguments,1);if(this.hooks[n]&&this.hooks[n].length){for(var o=0,s=this.hooks[n].length;o<s;o++){var a=this.hooks[n][o];"function"==typeof a?a.apply(this,r):"object"==typeof a&&2==a.length?a[0][a[1]].apply(a[0],r):t[a]&&t[a].apply(t,r)}return!0}if("error"==n){var l;l=r[0]instanceof e||r[0]instanceof i?r[0].message:"Could not access webcam: "+r[0].name+": "+r[0].message+" "+r[0].toString(),alert("Webcam.js Error: "+l)}return!1},setSWFLocation:function(t){this.set("swfURL",t)},detectFlash:function(){var e="Shockwave Flash",n="ShockwaveFlash.ShockwaveFlash",i="application/x-shockwave-flash",r=t,o=navigator,s=!1;if("undefined"!=typeof o.plugins&&"object"==typeof o.plugins[e]){var a=o.plugins[e].description;a&&"undefined"!=typeof o.mimeTypes&&o.mimeTypes[i]&&o.mimeTypes[i].enabledPlugin&&(s=!0)}else if("undefined"!=typeof r.ActiveXObject)try{var l=new ActiveXObject(n);if(l){var c=l.GetVariable("$version");c&&(s=!0)}}catch(t){}return s},getSWFHTML:function(){var n="",i=this.params.swfURL;if(location.protocol.match(/file/))return this.dispatch("error",new e("Flash does not work from local disk.  Please run from a web server.")),'<h3 style="color:red">ERROR: the Webcam.js Flash fallback does not work from local disk.  Please run it from a web server.</h3>';if(!this.detectFlash())return this.dispatch("error",new e("Adobe Flash Player not found.  Please install from get.adobe.com/flashplayer and try again.")),'<h3 style="color:red">'+this.params.flashNotDetectedText+"</h3>";if(!i){for(var r="",o=document.getElementsByTagName("script"),s=0,a=o.length;s<a;s++){var l=o[s].getAttribute("src");l&&l.match(/\/webcam(\.min)?\.js/)&&(r=l.replace(/\/webcam(\.min)?\.js.*$/,""),s=a)}i=r?r+"/webcam.swf":"webcam.swf"}t.localStorage&&!localStorage.getItem("visited")&&(this.params.new_user=1,localStorage.setItem("visited",1));var c="";for(var u in this.params)c&&(c+="&"),c+=u+"="+escape(this.params[u]);return n+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" type="application/x-shockwave-flash" codebase="'+this.protocol+'://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+this.params.width+'" height="'+this.params.height+'" id="webcam_movie_obj" align="middle"><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+i+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+c+'"/><embed id="webcam_movie_embed" src="'+i+'" wmode="opaque" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+this.params.width+'" height="'+this.params.height+'" name="webcam_movie_embed" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+c+'"></embed></object>'},getMovie:function(){if(!this.loaded)return this.dispatch("error",new e("Flash Movie is not loaded yet"));var t=document.getElementById("webcam_movie_obj");return t&&t._snap||(t=document.getElementById("webcam_movie_embed")),t||this.dispatch("error",new e("Cannot locate Flash movie in DOM")),t},freeze:function(){var t=this,e=this.params;this.preview_active&&this.unfreeze();var n=this.params.width/this.params.dest_width,i=this.params.height/this.params.dest_height;this.unflip();var r=e.crop_width||e.dest_width,o=e.crop_height||e.dest_height,s=document.createElement("canvas");s.width=r,s.height=o;var a=s.getContext("2d");this.preview_canvas=s,this.preview_context=a,1==n&&1==i||(s.style.webkitTransformOrigin="0px 0px",s.style.mozTransformOrigin="0px 0px",s.style.msTransformOrigin="0px 0px",s.style.oTransformOrigin="0px 0px",s.style.transformOrigin="0px 0px",s.style.webkitTransform="scaleX("+n+") scaleY("+i+")",s.style.mozTransform="scaleX("+n+") scaleY("+i+")",s.style.msTransform="scaleX("+n+") scaleY("+i+")",s.style.oTransform="scaleX("+n+") scaleY("+i+")",s.style.transform="scaleX("+n+") scaleY("+i+")"),this.snap(function(){s.style.position="relative",s.style.left=""+t.container.scrollLeft+"px",s.style.top=""+t.container.scrollTop+"px",t.container.insertBefore(s,t.peg),t.container.style.overflow="hidden",t.preview_active=!0},s)},unfreeze:function(){this.preview_active&&(this.container.removeChild(this.preview_canvas),delete this.preview_context,delete this.preview_canvas,this.preview_active=!1,this.flip())},flip:function(){if(this.params.flip_horiz){var t=this.container.style;t.webkitTransform="scaleX(-1)",t.mozTransform="scaleX(-1)",t.msTransform="scaleX(-1)",t.oTransform="scaleX(-1)",t.transform="scaleX(-1)",t.filter="FlipH",t.msFilter="FlipH"}},unflip:function(){if(this.params.flip_horiz){var t=this.container.style;t.webkitTransform="scaleX(1)",t.mozTransform="scaleX(1)",t.msTransform="scaleX(1)",t.oTransform="scaleX(1)",t.transform="scaleX(1)",t.filter="",t.msFilter=""}},savePreview:function(t,e){var n=this.params,i=this.preview_canvas,r=this.preview_context;if(e){var o=e.getContext("2d");o.drawImage(i,0,0)}t(e?null:i.toDataURL("image/"+n.image_format,n.jpeg_quality/100),i,r),this.params.unfreeze_snap&&this.unfreeze()},snap:function(t,e){t||(t=this.params.user_callback),e||(e=this.params.user_canvas);var n=this.params;if(!this.loaded)return this.dispatch("error",new i("Webcam is not loaded yet"));if(!t)return this.dispatch("error",new i("Please provide a callback function or canvas to snap()"));if(this.preview_active)return this.savePreview(t,e),null;var r=document.createElement("canvas");r.width=this.params.dest_width,r.height=this.params.dest_height;var o=r.getContext("2d");this.params.flip_horiz&&(o.translate(n.dest_width,0),o.scale(-1,1));var s=function(){if(this.src&&this.width&&this.height&&o.drawImage(this,0,0,n.dest_width,n.dest_height),n.crop_width&&n.crop_height){var i=document.createElement("canvas");i.width=n.crop_width,i.height=n.crop_height;var s=i.getContext("2d");s.drawImage(r,Math.floor(n.dest_width/2-n.crop_width/2),Math.floor(n.dest_height/2-n.crop_height/2),n.crop_width,n.crop_height,0,0,n.crop_width,n.crop_height),o=s,r=i}if(e){var a=e.getContext("2d");a.drawImage(r,0,0)}t(e?null:r.toDataURL("image/"+n.image_format,n.jpeg_quality/100),r,o)};if(this.userMedia)o.drawImage(this.video,0,0,this.params.dest_width,this.params.dest_height),s();else if(this.iOS){var a=document.getElementById(this.container.id+"-ios_div"),l=document.getElementById(this.container.id+"-ios_img"),c=document.getElementById(this.container.id+"-ios_input");iFunc=function(t){s.call(l),l.removeEventListener("load",iFunc),a.style.backgroundImage="none",l.removeAttribute("src"),c.value=null},c.value?iFunc(null):(l.addEventListener("load",iFunc),c.style.display="block",c.focus(),c.click(),c.style.display="none")}else{var u=this.getMovie()._snap(),l=new Image;l.onload=s,l.src="data:image/"+this.params.image_format+";base64,"+u}return null},configure:function(t){t||(t="camera"),this.getMovie()._configure(t)},flashNotify:function(t,n){switch(t){case"flashLoadComplete":this.loaded=!0,this.dispatch("load");break;case"cameraLive":this.live=!0,this.dispatch("live");break;case"error":this.dispatch("error",new e(n))}},b64ToUint6:function(t){return t>64&&t<91?t-65:t>96&&t<123?t-71:t>47&&t<58?t+4:43===t?62:47===t?63:0},base64DecToArr:function(t,e){for(var n,i,r=t.replace(/[^A-Za-z0-9\+\/]/g,""),o=r.length,s=e?Math.ceil((3*o+1>>2)/e)*e:3*o+1>>2,a=new Uint8Array(s),l=0,c=0,u=0;u<o;u++)if(i=3&u,l|=this.b64ToUint6(r.charCodeAt(u))<<18-6*i,3===i||o-u===1){for(n=0;n<3&&c<s;n++,c++)a[c]=l>>>(16>>>n&24)&255;l=0}return a},upload:function(t,e,n){var i=this.params.upload_name||"webcam",r="";if(!t.match(/^data\:image\/(\w+)/))throw"Cannot locate image format in Data URI";r=RegExp.$1;var o=t.replace(/^data\:image\/\w+\;base64\,/,""),a=new XMLHttpRequest;a.open("POST",e,!0),a.upload&&a.upload.addEventListener&&a.upload.addEventListener("progress",function(t){if(t.lengthComputable){var e=t.loaded/t.total;s.dispatch("uploadProgress",e,t)}},!1);var l=this;a.onload=function(){n&&n.apply(l,[a.status,a.responseText,a.statusText]),s.dispatch("uploadComplete",a.status,a.responseText,a.statusText)};var c=new Blob([this.base64DecToArr(o)],{type:"image/"+r}),u=new FormData;u.append(i,c,i+"."+r.replace(/e/,"")),a.send(u)}};s.init(),"function"==typeof define&&define.amd?define(function(){return s}):"object"==typeof module&&module.exports?module.exports=s:t.Webcam=s}(window),function(t,e,n){function i(t,e,n){return t.call.apply(t.bind,arguments)}function r(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function o(t,e,n){return o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:r,o.apply(null,arguments)}function s(t,e){this.K=t,this.w=e||t,this.G=this.w.document}function a(t,n,i){t=t.G.getElementsByTagName(n)[0],t||(t=e.documentElement),t&&t.lastChild&&t.insertBefore(i,t.lastChild)}function l(t,e){function n(){t.G.body?e():setTimeout(n,0)}n()}function c(t,e,n){e=e||[],n=n||[];for(var i=t.className.split(/\s+/),r=0;r<e.length;r+=1){for(var o=!1,s=0;s<i.length;s+=1)if(e[r]===i[s]){o=!0;break}o||i.push(e[r])}for(e=[],r=0;r<i.length;r+=1){for(o=!1,s=0;s<n.length;s+=1)if(i[r]===n[s]){o=!0;break}o||e.push(i[r])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function u(t,e){for(var n=t.className.split(/\s+/),i=0,r=n.length;i<r;i++)if(n[i]==e)return!0;return!1}function h(t){if("string"==typeof t.na)return t.na;var e=t.w.location.protocol;return"about:"==e&&(e=t.K.location.protocol),"https:"==e?"https:":"http:"}function f(t,e){var n=t.createElement("link",{rel:"stylesheet",href:e,media:"all"}),i=!1;n.onload=function(){i||(i=!0)},n.onerror=function(){i||(i=!0)},a(t,"head",n)}function d(e,n,i,r){var o=e.G.getElementsByTagName("head")[0];if(o){var s=e.createElement("script",{src:n}),a=!1;return s.onload=s.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,i&&i(null),s.onload=s.onreadystatechange=null,"HEAD"==s.parentNode.tagName&&o.removeChild(s))},o.appendChild(s),t.setTimeout(function(){a||(a=!0,i&&i(Error("Script load timeout")))},r||5e3),s}return null}function p(t,e){this.Y=t,this.ga=e}function m(t,e,n,i){this.c=null!=t?t:null,this.g=null!=e?e:null,this.D=null!=n?n:null,this.e=null!=i?i:null}function g(t){t=J.exec(t);var e=null,n=null,i=null,r=null;return t&&(null!==t[1]&&t[1]&&(e=parseInt(t[1],10)),null!==t[2]&&t[2]&&(n=parseInt(t[2],10)),null!==t[3]&&t[3]&&(i=parseInt(t[3],10)),null!==t[4]&&t[4]&&(r=/^[0-9]+$/.test(t[4])?parseInt(t[4],10):t[4])),new m(e,n,i,r)}function v(t,e,n,i,r,o,s,a){this.N=t,this.k=a}function y(t){this.a=t}function b(t){var e=_(t.a,/(iPod|iPad|iPhone|Android|Windows Phone|BB\d{2}|BlackBerry)/,1);return""!=e?(/BB\d{2}/.test(e)&&(e="BlackBerry"),e):(t=_(t.a,/(Linux|Mac_PowerPC|Macintosh|Windows|CrOS|PlayStation|CrKey)/,1),""!=t?("Mac_PowerPC"==t?t="Macintosh":"PlayStation"==t&&(t="Linux"),t):"Unknown")}function w(t){var e=_(t.a,/(OS X|Windows NT|Android) ([^;)]+)/,2);if(e||(e=_(t.a,/Windows Phone( OS)? ([^;)]+)/,2))||(e=_(t.a,/(iPhone )?OS ([\d_]+)/,2)))return e;if(e=_(t.a,/(?:Linux|CrOS|CrKey) ([^;)]+)/,1))for(var e=e.split(/\s/),n=0;n<e.length;n+=1)if(/^[\d\._]+$/.test(e[n]))return e[n];return(t=_(t.a,/(BB\d{2}|BlackBerry).*?Version\/([^\s]*)/,2))?t:"Unknown"}function x(t){var e=b(t),n=g(w(t)),i=g(_(t.a,/AppleWeb(?:K|k)it\/([\d\.\+]+)/,1)),r="Unknown",o=new m,o="Unknown",s=!1;return/OPR\/[\d.]+/.test(t.a)?r="Opera":-1!=t.a.indexOf("Chrome")||-1!=t.a.indexOf("CrMo")||-1!=t.a.indexOf("CriOS")?r="Chrome":/Silk\/\d/.test(t.a)?r="Silk":"BlackBerry"==e||"Android"==e?r="BuiltinBrowser":-1!=t.a.indexOf("PhantomJS")?r="PhantomJS":-1!=t.a.indexOf("Safari")?r="Safari":-1!=t.a.indexOf("AdobeAIR")?r="AdobeAIR":-1!=t.a.indexOf("PlayStation")&&(r="BuiltinBrowser"),
"BuiltinBrowser"==r?o="Unknown":"Silk"==r?o=_(t.a,/Silk\/([\d\._]+)/,1):"Chrome"==r?o=_(t.a,/(Chrome|CrMo|CriOS)\/([\d\.]+)/,2):-1!=t.a.indexOf("Version/")?o=_(t.a,/Version\/([\d\.\w]+)/,1):"AdobeAIR"==r?o=_(t.a,/AdobeAIR\/([\d\.]+)/,1):"Opera"==r?o=_(t.a,/OPR\/([\d.]+)/,1):"PhantomJS"==r&&(o=_(t.a,/PhantomJS\/([\d.]+)/,1)),o=g(o),s="AdobeAIR"==r?2<o.c||2==o.c&&5<=o.g:"BlackBerry"==e?10<=n.c:"Android"==e?2<n.c||2==n.c&&1<n.g:526<=i.c||525<=i.c&&13<=i.g,new v(r,0,0,0,0,0,0,new p(s,536>i.c||536==i.c&&11>i.g))}function _(t,e,n){return(t=t.match(e))&&t[n]?t[n]:""}function C(t){this.ma=t||"-"}function S(t,e){this.N=t,this.Z=4,this.O="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.O=n[1],this.Z=parseInt(n[2],10))}function k(t){return t.O+t.Z}function E(t){var e=4,n="n",i=null;return t&&((i=t.match(/(normal|oblique|italic)/i))&&i[1]&&(n=i[1].substr(0,1).toLowerCase()),(i=t.match(/([1-9]00|normal|bold)/i))&&i[1]&&(/bold/i.test(i[1])?e=7:/[1-9]00/.test(i[1])&&(e=parseInt(i[1].substr(0,1),10)))),n+e}function T(t,e){this.d=t,this.q=t.w.document.documentElement,this.Q=e,this.j="wf",this.h=new C("-"),this.ha=!1!==e.events,this.F=!1!==e.classes}function A(t){if(t.F){var e=u(t.q,t.h.e(t.j,"active")),n=[],i=[t.h.e(t.j,"loading")];e||n.push(t.h.e(t.j,"inactive")),c(t.q,n,i)}P(t,"inactive")}function P(t,e,n){t.ha&&t.Q[e]&&(n?t.Q[e](n.getName(),k(n)):t.Q[e]())}function I(){this.C={}}function D(t,e){this.d=t,this.I=e,this.o=this.d.createElement("span",{"aria-hidden":"true"},this.I)}function O(t,e){var n,i=t.o;n=[];for(var r=e.N.split(/,\s*/),o=0;o<r.length;o++){var s=r[o].replace(/['"]/g,"");-1==s.indexOf(" ")?n.push(s):n.push("'"+s+"'")}n=n.join(","),r="normal","o"===e.O?r="oblique":"i"===e.O&&(r="italic"),i.style.cssText="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+n+";"+("font-style:"+r+";font-weight:"+(e.Z+"00")+";")}function j(t){a(t.d,"body",t.o)}function N(t,e,n,i,r,o,s,a){this.$=t,this.ka=e,this.d=n,this.m=i,this.k=r,this.I=a||"BESbswy",this.v={},this.X=o||3e3,this.ca=s||null,this.H=this.u=this.t=null,this.t=new D(this.d,this.I),this.u=new D(this.d,this.I),this.H=new D(this.d,this.I),O(this.t,new S("serif",k(this.m))),O(this.u,new S("sans-serif",k(this.m))),O(this.H,new S("monospace",k(this.m))),j(this.t),j(this.u),j(this.H),this.v.serif=this.t.o.offsetWidth,this.v["sans-serif"]=this.u.o.offsetWidth,this.v.monospace=this.H.o.offsetWidth}function R(t,e,n){for(var i in tt)if(tt.hasOwnProperty(i)&&e===t.v[tt[i]]&&n===t.v[tt[i]])return!0;return!1}function M(t){var e=t.t.o.offsetWidth,n=t.u.o.offsetWidth;e===t.v.serif&&n===t.v["sans-serif"]||t.k.ga&&R(t,e,n)?G()-t.oa>=t.X?t.k.ga&&R(t,e,n)&&(null===t.ca||t.ca.hasOwnProperty(t.m.getName()))?L(t,t.$):L(t,t.ka):$(t):L(t,t.$)}function $(t){setTimeout(o(function(){M(this)},t),50)}function L(t,e){t.t.remove(),t.u.remove(),t.H.remove(),e(t.m)}function H(t,e,n,i){this.d=e,this.A=n,this.S=0,this.ea=this.ba=!1,this.X=i,this.k=t.k}function F(t,e,n,i,r){if(n=n||{},0===e.length&&r)A(t.A);else for(t.S+=e.length,r&&(t.ba=r),r=0;r<e.length;r++){var s=e[r],a=n[s.getName()],l=t.A,u=s;l.F&&c(l.q,[l.h.e(l.j,u.getName(),k(u).toString(),"loading")]),P(l,"fontloading",u),l=null,l=new N(o(t.ia,t),o(t.ja,t),t.d,s,t.k,t.X,i,a),l.start()}}function z(t){0==--t.S&&t.ba&&(t.ea?(t=t.A,t.F&&c(t.q,[t.h.e(t.j,"active")],[t.h.e(t.j,"loading"),t.h.e(t.j,"inactive")]),P(t,"active")):A(t.A))}function B(t){this.K=t,this.B=new I,this.pa=new y(t.navigator.userAgent),this.a=this.pa.parse(),this.U=this.V=0,this.R=this.T=!0}function q(t,e,n,i,r){var o=0==--t.V;(t.R||t.T)&&setTimeout(function(){F(e,n,i||null,r||null,o)},0)}function W(t,e,n){this.P=t?t:e+et,this.s=[],this.W=[],this.fa=n||""}function U(t){this.s=t,this.da=[],this.M={}}function X(t,e){this.a=new y(navigator.userAgent).parse(),this.d=t,this.f=e}function Q(t,e){this.d=t,this.f=e,this.p=[]}function Y(t,e){this.d=t,this.f=e,this.p=[]}function V(t,e){this.d=t,this.f=e,this.p=[]}function K(t,e){this.d=t,this.f=e}var G=Date.now||function(){return+new Date};s.prototype.createElement=function(t,e,n){if(t=this.G.createElement(t),e)for(var i in e)e.hasOwnProperty(i)&&("style"==i?t.style.cssText=e[i]:t.setAttribute(i,e[i]));return n&&t.appendChild(this.G.createTextNode(n)),t};var J=/^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/;m.prototype.compare=function(t){return this.c>t.c||this.c===t.c&&this.g>t.g||this.c===t.c&&this.g===t.g&&this.D>t.D?1:this.c<t.c||this.c===t.c&&this.g<t.g||this.c===t.c&&this.g===t.g&&this.D<t.D?-1:0},m.prototype.toString=function(){return[this.c,this.g||"",this.D||"",this.e||""].join("")},v.prototype.getName=function(){return this.N};var Z=new v("Unknown",0,0,0,0,0,0,new p(!1,!1));y.prototype.parse=function(){var t;if(-1!=this.a.indexOf("MSIE")||-1!=this.a.indexOf("Trident/")){t=b(this);var e=g(w(this)),n=null,i=_(this.a,/Trident\/([\d\w\.]+)/,1),n=g(-1!=this.a.indexOf("MSIE")?_(this.a,/MSIE ([\d\w\.]+)/,1):_(this.a,/rv:([\d\w\.]+)/,1));""!=i&&g(i),t=new v("MSIE",0,0,0,0,0,0,new p("Windows"==t&&6<=n.c||"Windows Phone"==t&&8<=e.c,!1))}else if(-1!=this.a.indexOf("Opera"))t:if(t=g(_(this.a,/Presto\/([\d\w\.]+)/,1)),g(w(this)),null!==t.c||g(_(this.a,/rv:([^\)]+)/,1)),-1!=this.a.indexOf("Opera Mini/"))t=g(_(this.a,/Opera Mini\/([\d\.]+)/,1)),t=new v("OperaMini",0,0,0,b(this),0,0,new p(!1,!1));else{if(-1!=this.a.indexOf("Version/")&&(t=g(_(this.a,/Version\/([\d\.]+)/,1)),null!==t.c)){t=new v("Opera",0,0,0,b(this),0,0,new p(10<=t.c,!1));break t}t=g(_(this.a,/Opera[\/ ]([\d\.]+)/,1)),t=null!==t.c?new v("Opera",0,0,0,b(this),0,0,new p(10<=t.c,!1)):new v("Opera",0,0,0,b(this),0,0,new p(!1,!1))}else/OPR\/[\d.]+/.test(this.a)?t=x(this):/AppleWeb(K|k)it/.test(this.a)?t=x(this):-1!=this.a.indexOf("Gecko")?(t="Unknown",e=new m,g(w(this)),e=!1,-1!=this.a.indexOf("Firefox")?(t="Firefox",e=g(_(this.a,/Firefox\/([\d\w\.]+)/,1)),e=3<=e.c&&5<=e.g):-1!=this.a.indexOf("Mozilla")&&(t="Mozilla"),n=g(_(this.a,/rv:([^\)]+)/,1)),e||(e=1<n.c||1==n.c&&9<n.g||1==n.c&&9==n.g&&2<=n.D),t=new v(t,0,0,0,b(this),0,0,new p(e,!1))):t=Z;return t},C.prototype.e=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.ma)},S.prototype.getName=function(){return this.N},D.prototype.remove=function(){var t=this.o;t.parentNode&&t.parentNode.removeChild(t)};var tt={sa:"serif",ra:"sans-serif",qa:"monospace"};N.prototype.start=function(){this.oa=G(),O(this.t,new S(this.m.getName()+",serif",k(this.m))),O(this.u,new S(this.m.getName()+",sans-serif",k(this.m))),M(this)},H.prototype.ia=function(t){var e=this.A;e.F&&c(e.q,[e.h.e(e.j,t.getName(),k(t).toString(),"active")],[e.h.e(e.j,t.getName(),k(t).toString(),"loading"),e.h.e(e.j,t.getName(),k(t).toString(),"inactive")]),P(e,"fontactive",t),this.ea=!0,z(this)},H.prototype.ja=function(t){var e=this.A;if(e.F){var n=u(e.q,e.h.e(e.j,t.getName(),k(t).toString(),"active")),i=[],r=[e.h.e(e.j,t.getName(),k(t).toString(),"loading")];n||i.push(e.h.e(e.j,t.getName(),k(t).toString(),"inactive")),c(e.q,i,r)}P(e,"fontinactive",t),z(this)},B.prototype.load=function(t){this.d=new s(this.K,t.context||this.K),this.T=!1!==t.events,this.R=!1!==t.classes;var e=new T(this.d,t),n=[],i=t.timeout;e.F&&c(e.q,[e.h.e(e.j,"loading")]),P(e,"loading");var r,n=this.B,a=this.d,l=[];for(r in t)if(t.hasOwnProperty(r)){var u=n.C[r];u&&l.push(u(t[r],a))}for(n=l,this.U=this.V=n.length,t=new H(this.a,this.d,e,i),i=0,r=n.length;i<r;i++)a=n[i],a.L(this.a,o(this.la,this,a,e,t))},B.prototype.la=function(t,e,n,i){var r=this;i?t.load(function(t,e,i){q(r,n,t,e,i)}):(t=0==--this.V,this.U--,t&&0==this.U?A(e):(this.R||this.T)&&F(n,[],{},null,t))};var et="//fonts.googleapis.com/css";W.prototype.e=function(){if(0==this.s.length)throw Error("No fonts to load!");if(-1!=this.P.indexOf("kit="))return this.P;for(var t=this.s.length,e=[],n=0;n<t;n++)e.push(this.s[n].replace(/ /g,"+"));return t=this.P+"?family="+e.join("%7C"),0<this.W.length&&(t+="&subset="+this.W.join(",")),0<this.fa.length&&(t+="&text="+encodeURIComponent(this.fa)),t};var nt={latin:"BESbswy",cyrillic:"&#1081;&#1103;&#1046;",greek:"&#945;&#946;&#931;",khmer:"&#x1780;&#x1781;&#x1782;",Hanuman:"&#x1780;&#x1781;&#x1782;"},it={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},rt={i:"i",italic:"i",n:"n",normal:"n"},ot=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;U.prototype.parse=function(){for(var t=this.s.length,e=0;e<t;e++){var n=this.s[e].split(":"),i=n[0].replace(/\+/g," "),r=["n4"];if(2<=n.length){var o,s=n[1];if(o=[],s)for(var s=s.split(","),a=s.length,l=0;l<a;l++){var c;if(c=s[l],c.match(/^[\w-]+$/)){c=ot.exec(c.toLowerCase());var u=void 0;if(null==c)u="";else{if(u=void 0,u=c[1],null==u||""==u)u="4";else var h=it[u],u=h?h:isNaN(u)?"4":u.substr(0,1);c=c[2],u=[null==c||""==c?"n":rt[c],u].join("")}c=u}else c="";c&&o.push(c)}0<o.length&&(r=o),3==n.length&&(n=n[2],o=[],n=n?n.split(","):o,0<n.length&&(n=nt[n[0]])&&(this.M[i]=n))}for(this.M[i]||(n=nt[i])&&(this.M[i]=n),n=0;n<r.length;n+=1)this.da.push(new S(i,r[n]))}};var st={Arimo:!0,Cousine:!0,Tinos:!0};X.prototype.L=function(t,e){e(t.k.Y)},X.prototype.load=function(t){var e=this.d;"MSIE"==this.a.getName()&&1!=this.f.blocking?l(e,o(this.aa,this,t)):this.aa(t)},X.prototype.aa=function(t){for(var e=this.d,n=new W(this.f.api,h(e),this.f.text),i=this.f.families,r=i.length,o=0;o<r;o++){var s=i[o].split(":");3==s.length&&n.W.push(s.pop());var a="";2==s.length&&""!=s[1]&&(a=":"),n.s.push(s.join(a))}i=new U(i),i.parse(),f(e,n.e()),t(i.da,i.M,st)},Q.prototype.J=function(t){var e=this.d;return h(this.d)+(this.f.api||"//f.fontdeck.com/s/css/js/")+(e.w.location.hostname||e.K.location.hostname)+"/"+t+".js"},Q.prototype.L=function(t,e){var n=this.f.id,i=this.d.w,r=this;n?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[n]=function(t,n){for(var i=0,o=n.fonts.length;i<o;++i){var s=n.fonts[i];r.p.push(new S(s.name,E("font-weight:"+s.weight+";font-style:"+s.style)))}e(t)},d(this.d,this.J(n),function(t){t&&e(!1)})):e(!1)},Q.prototype.load=function(t){t(this.p)},Y.prototype.J=function(t){var e=h(this.d);return(this.f.api||e+"//use.typekit.net")+"/"+t+".js"},Y.prototype.L=function(t,e){var n=this.f.id,i=this.d.w,r=this;n?d(this.d,this.J(n),function(t){if(t)e(!1);else{if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){t=i.Typekit.config.fn;for(var n=0;n<t.length;n+=2)for(var o=t[n],s=t[n+1],a=0;a<s.length;a++)r.p.push(new S(o,s[a]));try{i.Typekit.load({events:!1,classes:!1})}catch(t){}}e(!0)}},2e3):e(!1)},Y.prototype.load=function(t){t(this.p)},V.prototype.L=function(t,e){var n=this,i=n.f.projectId,r=n.f.version;if(i){var o=n.d.w;d(this.d,n.J(i,r),function(r){if(r)e(!1);else{if(o["__mti_fntLst"+i]&&(r=o["__mti_fntLst"+i]()))for(var s=0;s<r.length;s++)n.p.push(new S(r[s].fontfamily));e(t.k.Y)}}).id="__MonotypeAPIScript__"+i}else e(!1)},V.prototype.J=function(t,e){var n=h(this.d),i=(this.f.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,"");return n+"//"+i+"/"+t+".js"+(e?"?v="+e:"")},V.prototype.load=function(t){t(this.p)},K.prototype.load=function(t){var e,n,i=this.f.urls||[],r=this.f.families||[],o=this.f.testStrings||{};for(e=0,n=i.length;e<n;e++)f(this.d,i[e]);for(i=[],e=0,n=r.length;e<n;e++){var s=r[e].split(":");if(s[1])for(var a=s[1].split(","),l=0;l<a.length;l+=1)i.push(new S(s[0],a[l]));else i.push(new S(s[0]))}t(i,o)},K.prototype.L=function(t,e){return e(t.k.Y)};var at=new B(this);at.B.C.custom=function(t,e){return new K(e,t)},at.B.C.fontdeck=function(t,e){return new Q(e,t)},at.B.C.monotype=function(t,e){return new V(e,t)},at.B.C.typekit=function(t,e){return new Y(e,t)},at.B.C.google=function(t,e){return new X(e,t)},this.WebFont||(this.WebFont={},this.WebFont.load=o(at.load,at),this.WebFontConfig&&at.load(this.WebFontConfig))}(this,document);function storageWrapper(e){function t(){if(!l)throw new Error("Storage not supported:"+e)}function n(){try{t(),e.clear()}catch(e){s={}}}function a(n){try{return t(),e.getItem(n)}catch(e){return s.hasOwnProperty(n)?s[n]:null}}function o(n){try{return t(),e.key(n)}catch(e){return Object.keys(s)[n]||null}}function i(n){try{t(),e.removeItem(n)}catch(e){delete s[n]}}function r(n,a){try{t(),e.setItem(n,a)}catch(e){s[n]=a}}var s={},l=!1;try{const u="__some_random_key_you_are_not_going_to_use__";e.setItem(u,u),e.removeItem(u),l=!0}catch(e){}return{getItem:a,setItem:r,removeItem:i,clear:n,key:o,supported:l}}function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function stripQuotes(e){return'"'==e.charAt(0)&&'"'==e.charAt(e.length-1)?e.substring(1,e.length-1):"'"==e.charAt(0)&&"'"==e.charAt(e.length-1)?e.substring(1,e.length-1):e}function parseFilename(e){if(!e)return["",""];const t=e.lastIndexOf(".");if(t>=0){const n=e.substr(t+1).toLowerCase(),a=e.substr(0,t);return[a,n]}return[e,""]}function uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}function showAlert(e,t,n){t=t||"danger",n=n!==!1;var a=e.hashCode();if(!($("#alert"+a).length>0)){var o=$('<div class="top-alert alert alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>');o.attr("id","alert"+a),o.addClass("alert-"+t);var i=$("<span></span>").text(e);o.append(i),$("body").prepend(o),o.fadeIn(200),n?o.click(function(){o.alert("close")}):(o.removeClass("alert-dismissable"),o.find(".close").remove()),o.css("z-index",zIndexCounter),zIndexCounter+=1}}function isInt(e){var t=parseFloat(e);return!isNaN(t)&&parseInt(Number(t))==t&&!isNaN(parseInt(t,10))}function isStrictPositiveNumber(e){return isNum(e)&&e>0}function isIe(){return Sejda.Browsers.isIe}function isFirefox(){return Sejda.Browsers.isFirefox}function naturalSort(e,t){var n,a,o=/(^([+\-]?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?(?=\D|\s|$))|^0x[\da-fA-F]+$|\d+)/g,i=/^\s+|\s+$/g,r=/\s+/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,u=/^0/,d=function(e){return(naturalSort.insensitive&&(""+e).toLowerCase()||""+e).replace(i,"")},c=d(e),f=d(t),p=c.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=f.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=parseInt(c.match(l),16)||1!==p.length&&Date.parse(c),m=parseInt(f.match(l),16)||h&&f.match(s)&&Date.parse(f)||null,v=function(e,t){return(!e.match(u)||1==t)&&parseFloat(e)||e.replace(r," ").replace(i,"")||0};if(m){if(h<m)return-1;if(h>m)return 1}for(var w=0,y=p.length,k=g.length,$=Math.max(y,k);w<$;w++){if(n=v(p[w]||"",y),a=v(g[w]||"",k),isNaN(n)!==isNaN(a))return isNaN(n)?1:-1;if(/[^\x00-\x80]/.test(n+a)&&n.localeCompare){var F=n.localeCompare(a),b=Math.abs(F);if(0!==F&&0!==b)return F/b}if(n<a)return-1;if(n>a)return 1}}function unicodeEscape(e){return e.replace(/[\s\S]/g,function(e){var t=e.charCodeAt().toString(16),n=t.length>2;return"\\"+(n?"u":"x")+("0000"+t).slice(n?-4:-2)})}function resizeImage(e,t,n){var a=e.get(0).naturalWidth,o=e.get(0).naturalHeight;if(a<=t||o<=n)return e.attr("src");var i=document.getElementById("image-resize-canvas");i.width=t,i.height=n;var r=i.getContext("2d");return r.drawImage(e.get(0),0,0,t,n),i.toDataURL()}function debounce(e,t,n){var a;return function(){var o=this,i=arguments,r=function(){a=null,n||e.apply(o,i)},s=n&&!a;clearTimeout(a),a=setTimeout(r,t),s&&e.apply(o,i)}}function cleanUnicodeControlCharsAndSpaces(e){return e.replace(/[\u0009\u00A0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000]/g," ").replace(/[\u200B\u2028\u2029]/g,"").replace(/[\u200A\u000A\u000B\u000C\u000D]/g,"")}function cleanUnicodeControlCharsAndSpacesKeepNewlines(e){return e.replace(/[\u0009\u00A0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000]/g," ").replace(/[\u200B\u2028\u2029]/g,"")}function forceHttps(){"www.sejda.com"==window.location.hostname&&"http:"==window.location.protocol&&(window.location.href="https"+window.location.href.slice(4))}function appendToUrl(e,t){var n=_.pairs(t).map(function(e){return e[0]+"="+encodeURIComponent(e[1])}).join("&");return e.indexOf("?")<0?e+"?_=_&"+n:e+"&"+n}function hasInternetConnection(e){var t=new Image;t.onload=function(){e(!0)},t.onerror=function(){e(!1)},t.src="https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png?d="+Date.now()}function areOurServersReachable(e,t){var n=new Image;n.onload=function(){t(!0)},n.onerror=function(){t(!1)},n.src="https://"+e+"/images/icon.svg?d="+Date.now()}function isPro(){return"true"==$("body").attr("data-pro-user")}function canMultiple(){var e=$("#task-content").attr("data-multiple-files");return"true"==e||"pro"==e&&isPro()}function taskCanMultiple(){return"false"!=$("#task-content").attr("data-multiple-files")}function loadCSS(e){$("head").append('<link rel="stylesheet" type="text/css" href="'+e+'">')}function loadScript(e,t,n){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.onload=t,n&&(a.onerror=n),a.src=e;var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(a,o)}function __log(){__loggingEnabled&&console.log(arguments)}function initGoogleDrivePicker(e){"undefined"!=typeof window.google&&"undefined"!=typeof window.gapi?window.GoogleDrive=new FilePicker({apiKey:"AIzaSyAvwzUIimQbMuqbRCbRYrhdvHC1BNMErRM",clientId:"8721525582-fbt24du8pl38r1ht2ihu9q9vl815o5t8",initCallback:e}):console.error("Google APis not loaded yet, cannot init picker")}function acceptsFileType(e){return filetypes.indexOf(e)>=0}function changeCaption(e,t){var n=e.text().replace("PDF",t);e.text(n)}function mapGdriveFileToSejda(e){e.link=e.downloadUrl||(e.exportLinks||{})[e.exportMimeType]||"",e.link&&(e.link=e.link.replaceAllEscaped("content.googleapis.com","www.googleapis.com")),e.link&&e.accessToken&&(e.link=appendToUrl(e.link,{originalFilename:e.title,expires_at:e.expires_at||"",oauth_bearer:e.accessToken})),"undefined"!=typeof e.fileSize&&(e.size=parseInt(e.fileSize),e.bytes=e.size),e.name=e.originalFilename||e.title,e.accessToken&&(e.httpHeaders={Authorization:"Bearer "+e.accessToken}),e.promo&&(window.Sejda.promo=e.promo),e.scope="task-file"}function reupload(e){e.link?console.warn("Cannot reupload link-based file",e):reuploadFromFilePicker(e)}function reuploadFromFilePicker(e){e.reuploaded=!0,e.reuploadedId=e.id,$(".fileupload,.image-fileupload").filter('[data-scope="'+e.scope+'"]').first().fileupload("add",{files:[e]})}function reuploadWithDelay(e){setTimeout(function(){reupload(e)},500)}function fixForMixedContent(e){return"https:"===window.location.protocol&&e.startsWith("http:")?"https:"+e.substring(5):e}function task(){return $("#task-content").attr("data-task")}function taskResultUrl(e){function t(e){var t=getQueryParameterByName(e);t&&(a+="&"+e+"="+encodeURIComponent(t))}var n=encodeURIComponent(e),a="result?id="+n;return t("partnerKey"),t("returnEmail"),a}function tryJSONparse(e){try{return JSON.parse(e)}catch(e){return}}!function(e){var t=e.console||(e.console={});t.log||(t.log=function(){})}(this),Sejda={};var tooltipOpts={placement:"top",delay:{show:300,hide:0},container:"body",trigger:"hover"},tooltipBottomOpts=$.extend({},tooltipOpts,{placement:"bottom"});Sejda.LocalStorage=storageWrapper(window.localStorage),Sejda.SessionStorage=storageWrapper(window.sessionStorage),Sejda.OptOutChoices=function(){function e(e,t){Sejda.LocalStorage.setItem("optOut."+e,t?"true":"false"),n[e]=t}try{var t=["analytics","dropbox","gdrive","onedrive"],n={},a={dropbox:"Dropbox",gdrive:"Google",onedrive:"Microsoft"};n.analytics=!1,n.dropbox=!0,n.gdrive=!0,n.onedrive=!0,"1"===navigator.doNotTrack&&(n.analytics=!0),t.forEach(function(e){var t=Sejda.LocalStorage.getItem("optOut."+e);"true"===t?n[e]=!0:"false"===t?n[e]=!1:n[e]=n[e]||!1});var o=$("#optOutOptions").find("input[type=checkbox]");o.change(function(){var t=$(this),n=t.parents("[data-topic]").attr("data-topic"),a=this.checked;e(n,a)}),o.each(function(){var e=$(this),t=e.parents("[data-topic]").attr("data-topic");this.checked=n[t]})}catch(e){console.log("An error occurred processing opt out choices",e)}var i={};return i.noAnalytics=function(){return n.analytics},i.noDropbox=function(){return n.dropbox},i.noGoogle=function(){return n.gdrive},i.noMicrosoft=function(){return n.onedrive},i.askGoogle=function(){return i.ask("gdrive")},i.askDropbox=function(){return i.ask("dropbox")},i.askMicrosoft=function(){return i.ask("onedrive")},i.ask=function(t){var o=n[t],i=a[t];return new Promise(function(n,a){if(o){var r=$("#optOutChoicesPrompt");r.find(".external_service_name").text(i),r.find(".btn-yes").off("click").on("click",function(){r.modal("hide"),e(t,!1),n()}),r.find(".btn-no").off("click").on("click",function(){r.modal("hide"),a()}),r.modal("show")}else n()})},i}(),window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date;var GA_LOCAL_STORAGE_KEY="ga:clientId",gah="https://analytics.sejda.com";ga("create","UA-30159698-1",{anonymizeIp:!0,storeGac:!1,storage:"none",clientId:Sejda.SessionStorage.getItem(GA_LOCAL_STORAGE_KEY)}),ga("set","anonymizeIp",!0),ga(function(e){Sejda.SessionStorage.setItem(GA_LOCAL_STORAGE_KEY,e.get("clientId")),e.set("sendHitTask",function(e){var t=e.get("hitPayload"),n=new XMLHttpRequest;n.open("GET",gah+"/r/collect?"+t,!0),n.send(e.get("hitPayload"))})}),ga("send","pageview"),$(window).load(function(){!function(){if(Sejda.OptOutChoices.noAnalytics())console.log("Opted out from analytics");else if(window.location.href.indexOf("local.")!==-1);else{var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=gah+"/analytics.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}}()});var Analytics=function(){var e=[];return{trackNoPushEvent:function(t,n,a,o){e.push([t,n,a,o].join(" ")),window!=window.top&&window.top.Analytics.trackNoPushEvent(t,n,a,o)},trackEvent:function(t,n,a,o){e.push([t,n,a,o].join(" ")),ga&&ga("send","event",t,n,a,o),window!=window.top&&window.top.Analytics.trackNoPushEvent(t,n,a,o)},events:function(){return e}}}();Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,a=new Array(n);n--;)a[n]=[t[n],e[t[n]]];return a}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),String.prototype.countOccurences||(String.prototype.countOccurences=function(e){return this.split(e).length-1}),String.prototype.startsWith=String.prototype.startsWith||function(e){return 0==this.indexOf(e)},String.prototype.contains=String.prototype.contains||function(e){return this.indexOf(e)>=0},String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"g"),t)},String.prototype.replaceAllCaseInsensitive=function(e,t){return this.replace(new RegExp(e,"gi"),t)},String.prototype.replaceAllEscaped=function(e,t){return this.replace(new RegExp(escapeRegExp(e),"g"),t)},String.prototype.replaceAllEscapedCaseInsensitive=function(e,t){return this.replace(new RegExp(escapeRegExp(e),"gi"),t)},String.prototype.trimEnd=String.prototype.trimEnd?String.prototype.trimEnd:function(){if(String.prototype.trimRight)return this.trimRight();if(String.prototype.trim){var e=this.trim(),t=this.indexOf(e);return this.slice(t,this.length)}},String.prototype.trimStart=String.prototype.trimStart?String.prototype.trimStart:function(){return String.prototype.trimLeft?this.trimLeft():String.prototype.trim?this.replace(/^\s+/,""):void 0},JSON.tryParse=function(e){try{return JSON.parse(e)}catch(e){return null}},jQuery.fn.toggleDisabled=function(){$(this[0]).prop("disabled",function(e,t){return!t})},jQuery.fn.disable=function(){return $(this).attr("disabled","disabled"),this},jQuery.fn.enable=function(){return $(this).removeAttr("disabled"),this},jQuery.fn.attrOr=function(e,t){var n=$(this[0]);return n.attr(e)||t},jQuery.fn.textBr=function(e){var t=$(this[0]),n=t.text(e).text().replaceAllEscapedCaseInsensitive("\n","<br/>");return t.html(n),t},jQuery.fn.scrollHere=function(e,t){var n=$(this[0]);if(0==n.length)return void console.error("Cannot scrollHere, element not found",n);var a=n.offset().top;t&&(a=n.position().top),t=t||"html, body",$(t).animate({scrollTop:a+(e||0)},500)},jQuery.fn.scrollStopped=function(e){var t=this,n=$(t);n.scroll(function(a){clearTimeout(n.data("scrollTimeout")),n.data("scrollTimeout",setTimeout(e.bind(t),250,a))})},jQuery.fn.clearCanvases=function(){$(this).find("canvas").each(function(){var e=this,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height)})},jQuery.fn.cloneWithCanvas=function(){function e(e,t){const n=t.getContext("2d");t.width=e.width,t.height=e.height,n.drawImage(e,0,0)}const t=$(this),n=t.clone();if(n.find("canvas").each(function(){const n=$(this),a=n.attr("id"),o=t.find("#"+a).get(0),i=this;e(o,i)}),n.is("canvas")){const a=t.get(0),o=n.get(0);e(a,o)}return n},jQuery.fn.isInViewport=function(e){"undefined"==typeof e&&(e=0);var t=this[0],n=t.getBoundingClientRect();if(0===n.top&&0===n.bottom&&0===n.left&&0===n.right)return!1;var a=$(window),o=n.bottom<0||n.right<0||n.top>a.height()+e||n.left>a.width();return!o},jQuery.fn.classes=function(e,t){var n=[];if(e=e||"",$.each(this,function(t,a){var o=a.className.split(/\s+/);for(var i in o){var r=o[i];-1===n.indexOf(r)&&0==r.index(e)&&n.push(r)}}),"function"==typeof t)for(var a in n)t(n[a]);return n},jQuery.fn.shake=function(){return this.each(function(e){for(var t=1;t<=3;t++)$(this).animate({left:-10},10).animate({left:0},50).animate({left:10},10).animate({left:0},50)}),this},jQuery.jsonPost=function(e,t,n){return $.ajax({url:e,data:JSON.stringify(t),headers:n,method:"POST",dataType:"json",contentType:"application/json; charset=utf-8"})},jQuery.fn.hideAfter=function(e){var t=$(this[0]);setTimeout(function(){t.hide()},e)},String.prototype.hashCode=function(){var e,t,n,a=0;if(0==this.length)return a;for(e=0,n=this.length;e<n;e++)t=this.charCodeAt(e),a=(a<<5)-a+t,a|=0;return a},String.prototype.alphanumeric=function(){for(var e="",t=0;t<this.length;t++)e+=this.charCodeAt(t);return e},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.includes||(String.prototype.includes=function(e,t){return void 0===t&&(t=0),this.indexOf(e,t)!==-1});var zIndexCounter=901,showUpgradePopupIf=function(e,t){window.upgradePopupShown||showUpgradePopup(e,t)},showUpgradePopup=function(e,t){if(t=t||{},"true"===$("#task-content").attr("data-free-while-beta")){e=e.includes("per-hour")?"generic-free-rate-limit":"generic-free-size-limit";var n=$("#limited-no-upgrade-section"),a=n.find("#"+e+"-reason");return n.find(".upgrade-reason").hide(),a.show(),n.show(),void n.scrollHere(-200)}var n=$("#upgrade-section"),a=n.find("#"+e+"-reason");if(a.is(":visible"))return n.scrollHere(-200),void n.show();n.find(".upgrade-reason").hide(),a.show(),n.show(),n.scrollHere(-200),$("#lbad1").hide(),t.disableSubmitBtn!==!1&&setTimeout(function(){$(".task-form").find('button[type="submit"]').attr("disabled","disabled"),setTimeout(function(){$(".task-form").find('button[type="submit"]').removeAttr("disabled")},1e4)},500);var o=$("#task-content").attr("data-task");Analytics.trackEvent("paywall",e,o),$.cookie("upgradeReason",e,{path:"/"});var i=$(window.top.document).find("#task-content").attr("data-task");$.cookie("upgradeRefTask",i,{path:"/"}),window.upgradePopupShown=!0,$("#global-help-hint").hide()},hideUpgradePopup=function(){$("#upgrade-section").hide()};$(document).on("click","#upgrade-section .upgrade-btn, .upgrade-section .upgrade-btn",function(){console.log("Click on #upgrade-section .upgrade-btn"),Analytics.trackNoPushEvent("paywall","clicked-upgrade-btn")}),String.prototype.truncateMiddle=function(e){if(this.length<=e)return this;var t="...",n=t.length,a=e-n,o=Math.ceil(a/2),i=Math.floor(a/2);return this.substr(0,o)+t+this.substr(this.length-i)},String.prototype.dropRight=function(e){return this.length<e?this:this.substr(0,this.length-e)};var isBlank=function(e){return 0===(e||"").trim().length},isNotBlank=function(e){return!isBlank(e)},isNum=function(e){return isNotBlank(e.trim())&&!isNaN(e.trim())},isStrictPositiveInteger=function(e){return isStrictPositiveNumber(e)&&isInt(e)},startBeforeEnd=function(e,t){return isBlank(t)||parseInt(e)<=parseInt(t)},formValidators={pages:function(e){var t=e.split(",");return _.all(t,function(e){return isStrictPositiveInteger(e)})},"page-ranges":function(e){var t=_.map(e.split(","),function(e){return e.split("-")});return _.all(t,function(e){return e.length<=2&&isStrictPositiveInteger(e[0])&&(isBlank(e[1])||isStrictPositiveInteger(e[1]))&&startBeforeEnd(e[0],e[1])})},"page-ranges-or-empty":function(e){return 0==e.trim().length||formValidators["page-ranges"](e)},"page-ranges-or-predefined":function(e){return 0==e.trim().length||"even"==e.trim()||"odd"==e.trim()||"all"==e.trim()||formValidators["page-ranges"](e)},"positive-integer":function(e){return isStrictPositiveInteger(e)},"positive-number":function(e){return isStrictPositiveNumber(e)}};Sejda.FormValidation=function(){var e={},t=$.extend({},tooltipOpts,{trigger:"manual",placement:"top"});return $("form").on("reset",function(){var e=$(this);e.find(".alert[data-error]").hide(),e.find(":input").each(function(){var e=$(this);e.removeClass("has-error"),e.tooltip("hide")})}),e.showErrorTooltip=function(e,n){var a=$.extend({},t,{title:n,container:!1});e.tooltip(a).tooltip("show"),e.addClass("has-error")},e.showFormErrors=function(t,n){if(0!==n.length){t.addClass("submitted"),n.forEach(function(n,a){var o=t.find('input[name="'+n.field+'"]');e.showErrorTooltip(o,n.message)});var a,o=t.find('input[name="'+n[0].field+'"]'),i=t.parents(".modal");i.length>0&&(a="#"+i.attr("id")),o.scrollHere(-100,a),Analytics.trackEvent("formInvalid",n.map(function(){return this.message}).join(", "))}},$(document).on("focus",":input",function(){var e=$(this);e.removeClass("has-error"),e.tooltip("hide")}),e}();var runFormValidators=function(e){var t=!0;return e.find("input[data-validator]:visible").each(function(e,n){var a=$(n).val(),o=$(n).attr("data-validator"),i=formValidators[o];if(!i)return void console.log("Unknown validator",o);var r=i(a);r?$(n).removeClass("has-error"):(t=!1,$(n).addClass("has-error").tooltip({html:!0,title:'<span class="danger">Value is invalid</span>',trigger:"manual",placement:"left"}).tooltip("show"))}),t};$(function(){$(document).on("input","input.has-error",function(){$(this).removeClass("has-error").tooltip("hide")})});var getQueryParameterByName=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))};Sejda.Browsers=function(){var e=!1;try{var t=(navigator.connection||navigator.mozConnection||navigator.webkitConnection).effectiveType;"slow-2g"!==t&&"2g"!==t||(e=!0)}catch(e){}return{isIe:/Edge\/|Trident\/|MSIE /.test(window.navigator.userAgent),isFirefox:/Firefox/.test(window.navigator.userAgent),isMobile:/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isUnsupported:$("#unsupportedBrowser").length>0,isSlowNetwork:e}}(),Sejda.Base64=function(){function e(e){var t="";e=e.replace(/\r\n/g,"\n");for(var n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t}function t(e){var t,n,a,o,i="",r=0;for(t=n=a=0;r<e.length;)t=e.charCodeAt(r),t<128?(i+=String.fromCharCode(t),r++):t>191&&t<224?(a=e.charCodeAt(r+1),i+=String.fromCharCode((31&t)<<6|63&a),r+=2):(a=e.charCodeAt(r+1),o=e.charCodeAt(r+2),i+=String.fromCharCode((15&t)<<12|(63&a)<<6|63&o),r+=3);return i}var n={},a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return n.encode=function(t){var n,o,i,r,s,l,u,d="",c=0;for(t=e(t);c<t.length;)n=t.charCodeAt(c++),o=t.charCodeAt(c++),i=t.charCodeAt(c++),r=n>>2,s=(3&n)<<4|o>>4,l=(15&o)<<2|i>>6,u=63&i,isNaN(o)?l=u=64:isNaN(i)&&(u=64),d=d+a.charAt(r)+a.charAt(s)+a.charAt(l)+a.charAt(u);return d},n.decode=function(e){var n,o,i,r,s,l,u,d="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)r=a.indexOf(e.charAt(c++)),s=a.indexOf(e.charAt(c++)),l=a.indexOf(e.charAt(c++)),u=a.indexOf(e.charAt(c++)),n=r<<2|s>>4,o=(15&s)<<4|l>>2,i=(3&l)<<6|u,d+=String.fromCharCode(n),64!==l&&(d+=String.fromCharCode(o)),64!==u&&(d+=String.fromCharCode(i));return d=t(d)},n}(),$(function(){$.ajaxSetup({cache:!1})}),$(function(){$(".get-support-btn").attr("href","mailto:hi@sejda.com?subject=Hello").click(function(e){e.preventDefault(),$("#contactFormModal").modal("show")}).tooltip(tooltipOpts),"yes"===getQueryParameterByName("contact")&&$("#contactFormModal").modal("show")}),$(function(){document.referrer&&document.referrer.indexOf("sejda.com/")<0&&void 0==$.cookie("partner")&&$.cookie("partner",document.referrer,{expires:365,path:"/"})}),$(function(){var e=$("#termsNotice"),t=Date.parse("2022-06-30T00:00:00"),n=parseInt(Sejda.LocalStorage.getItem("agreedTerms")),a=window!=window.top;isNaN(n)?Sejda.LocalStorage.setItem("agreedTerms",Date.now()):n<t&&(a||e.show()),e.on("closed.bs.alert",function(){Sejda.LocalStorage.setItem("agreedTerms",Date.now())})}),$(function(){var e=$("#changeLanguageNotice"),t=Sejda.LocalStorage.getItem("dismissedChangeLang"),n="en",a=window.top!=window;try{var o=window.location.pathname.split("/")[1];2==o.length&&(n=o)}catch(e){}t||"en"==n||a||e.show(),e.find(".close").on("click",function(){Sejda.LocalStorage.setItem("dismissedChangeLang",Date.now()),e.hide()}),"en"!=n&&$("#switchLangToEnglishBtn").attr("href",window.location.href.replace("/"+n+"/","/"))}),$(function(){function e(e){var t=window.location.pathname,n=e.attr("name");return encodeURIComponent("settings."+t+"."+n)}var t=$("input.remembered,select.remembered");t.each(function(){var t=$(this),n=e(t);if(null!==Sejda.LocalStorage.getItem(n)){var a=Sejda.LocalStorage.getItem(n);if(t.is("select")&&0==t.find('option[value="'+a+'"]').length)return void console.log("Cannot restore setting, no matching option anymore:",n,a);t.val(a),t.is(":checkbox")&&t.prop("checked","true"==a)}}),t.on("change",function(){var t=$(this),n=e(t),a=t.val();t.is(":checkbox")&&(a=t.is(":checked")),Sejda.LocalStorage.setItem(n,a)}),$(".btn-group.remembered[data-toggle=buttons] .btn").each(function(){var t=$(this),n=t.find("input"),a=e(n);try{if(Sejda.LocalStorage.getItem(a)){var o=Sejda.LocalStorage.getItem(a),i=n.attr("value");i===o&&t.trigger("click")}t.on("click",function(){Sejda.LocalStorage.setItem(a,i)})}catch(e){}})}),naturalSort.insensitive=!0;var unicodeControlCharsRe=/[\0-\x1F\x7F-\x9F\xAD\u0378\u0379\u037F-\u0383\u038B\u038D\u03A2\u0528-\u0530\u0557\u0558\u0560\u0588\u058B-\u058E\u0590\u05C8-\u05CF\u05EB-\u05EF\u05F5-\u0605\u061C\u061D\u06DD\u070E\u070F\u074B\u074C\u07B2-\u07BF\u07FB-\u07FF\u082E\u082F\u083F\u085C\u085D\u085F-\u089F\u08A1\u08AD-\u08E3\u08FF\u0978\u0980\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09FC-\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF2-\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BFB-\u0C00\u0C04\u0C0D\u0C11\u0C29\u0C34\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5A-\u0C5F\u0C64\u0C65\u0C70-\u0C77\u0C80\u0C81\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0D01\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D45\u0D49\u0D4F-\u0D56\u0D58-\u0D5F\u0D64\u0D65\u0D76-\u0D78\u0D80\u0D81\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF5-\u0E00\u0E3B-\u0E3E\u0E5C-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EBA\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F48\u0F6D-\u0F70\u0F98\u0FBD\u0FCD\u0FDB-\u0FFF\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u137D-\u137F\u139A-\u139F\u13F5-\u13FF\u169D-\u169F\u16F1-\u16FF\u170D\u1715-\u171F\u1737-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17DE\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180F\u181A-\u181F\u1878-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191D-\u191F\u192C-\u192F\u193C-\u193F\u1941-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19DD\u1A1C\u1A1D\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE-\u1AFF\u1B4C-\u1B4F\u1B7D-\u1B7F\u1BF4-\u1BFB\u1C38-\u1C3A\u1C4A-\u1C4C\u1C80-\u1CBF\u1CC8-\u1CCF\u1CF7-\u1CFF\u1DE7-\u1DFB\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FC5\u1FD4\u1FD5\u1FDC\u1FF0\u1FF1\u1FF5\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u206F\u2072\u2073\u208F\u209D-\u209F\u20BB-\u20CF\u20F1-\u20FF\u218A-\u218F\u23F4-\u23FF\u2427-\u243F\u244B-\u245F\u2700\u2B4D-\u2B4F\u2B5A-\u2BFF\u2C2F\u2C5F\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E3C-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u2FFF\u3040\u3097\u3098\u3100-\u3104\u312E-\u3130\u318F\u31BB-\u31BF\u31E4-\u31EF\u321F\u32FF\u4DB6-\u4DBF\u9FCD-\u9FFF\uA48D-\uA48F\uA4C7-\uA4CF\uA62C-\uA63F\uA698-\uA69E\uA6F8-\uA6FF\uA78F\uA794-\uA79F\uA7AB-\uA7F7\uA82C-\uA82F\uA83A-\uA83F\uA878-\uA87F\uA8C5-\uA8CD\uA8DA-\uA8DF\uA8FC-\uA8FF\uA954-\uA95E\uA97D-\uA97F\uA9CE\uA9DA-\uA9DD\uA9E0-\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A\uAA5B\uAA7C-\uAA7F\uAAC3-\uAADA\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F-\uABBF\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBC2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFE\uFDFF\uFE1A-\uFE1F\uFE27-\uFE2F\uFE53\uFE67\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]/g;$(window).load(function(){$(".divider-shadow, .divider-shadow-small").addClass("loaded")});var SejdaException=function(){function e(e,t){this.name=e,this.message=t}return e.prototype=new Error,e.constructor=e,e}();Sejda.GlobalHints=function(){var e,t=$("#global-help-hint"),n={};return n.hideGlobalHint=function(){t.hide(),clearTimeout(e)},t.click(function(){n.hideGlobalHint()}),n.showLongHelpHint=function(e){n.showHelpHint(e,15)},n.showStickyHelpHint=function(e){n.showHelpHint(e,-1)},n.showHelpHint=function(n,a){n&&(a=a||5,clearTimeout(e),t.html(n).fadeIn(500),a>0&&(e=setTimeout(function(){t.hide()},1e3*a)))},n}(),window.Raven=Sejda.Raven=function(){function e(e){return function(){var t=Array.prototype.slice.call(arguments);n.size<100&&n.add(t.join(" ")),e.apply(console,arguments)}}var t={};t.captureException=function(e){try{Analytics.trackNoPushEvent("capturedException",e.message,e.stack||e.stacktrace),Sentry.captureException(e)}catch(e){}},t.captureMessage=function(e){try{Analytics.trackNoPushEvent("capturedMessage",e),Sentry.captureMessage(e)}catch(e){}};var n=new Set;t.consoleLogs=function(){return Array.from(n)},function(){var t=console.log;console.log=e(t)}(),function(){var t=console.info;console.info=e(t)}(),function(){var t=console.warn;console.warn=e(t)}(),function(){var t=console.error;console.error=e(t)}();try{window.errorsReported=0,Sentry.init({dsn:"https://xxx@sejda.com/9999",tunnel:"/sentry-tunnel",beforeSend:function(e){try{if(Sejda.Browsers.isMobile)return null;if(Sejda.Browsers.isUnsupported)return null;try{var t=[];e.exception.values[0].stacktrace&&(t=e.exception.values[0].stacktrace.frames);for(var n=0;n<t.length;n++){var a=t[n],o=a.filename||"";if(o){if(o.startsWith("https://")&&!o.startsWith("https://www.sejda.com/"))return null;if(o.startsWith("safari-extension://"))return null;if(o.startsWith("moz-extension://"))return null;if(o.startsWith("chrome-extension://"))return null}}}catch(e){}if(window.errorsReported++,window.errorsReported>1)return;var i=$("body");e.request.ipCountry=i.attr("data-ipcountry"),e.request.server=i.attr("data-www");var r={event_id:e.event_id,exception:e.exception,message:e.message,events:Analytics.events(),request:e.request};$.jsonPost("/errors/js?_s=1",r),Analytics.trackNoPushEvent("js.error",e.event_id,e.exception?e.exception.stack:"?")}catch(e){}return null}})}catch(e){}return t}(),window.DropboxApis=function(){function e(e){if("undefined"!=typeof Dropbox)return e();var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.id="dropboxjs",t.onload=function(){e()},t.onerror=function(t){e(t)},t.setAttribute("data-app-key","23zboc4jkervzht"),t.src="https://www.dropbox.com/static/api/2/dropins.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}return{loadDropins:e}}(),window.OneDriveApis=function(){function e(e){if("undefined"!=typeof OneDrive)return e();var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.id="onedrivejs",t.onload=function(){e()},t.onerror=function(t){e(t)},t.src="https://js.live.net/v7.2/OneDrive.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}return{loadApi:e}}(),$(function(){$(document).on("focus","input.tooltip-on-focus",function(){$(this).parents(".input-group").find("[data-toggle=tooltip]").tooltip("show")}),$(document).on("blur","input.tooltip-on-focus",function(){$(this).parents(".input-group").find("[data-toggle=tooltip]").tooltip("hide")})}),$(function(){var e=$("#lbad1").find(".ad-inner");$(document).bind("dragover",function(t){var n=window.dropZoneTimeout;n&&clearTimeout(n),e.hide(),window.dropZoneTimeout=setTimeout(function(){window.dropZoneTimeout=null,e.show()},500)})}),$(function(){function e(e){var t=$(e);const n=document.createElement("textarea");n.value=t.attr("data-clipboard-text"),"TEXTAREA"===e.tagName&&(n.value=e.value),n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),t.fadeOut(0).fadeIn(200),t.tooltip({title:"Copied"}).tooltip("show"),setTimeout(function(){t.tooltip("destroy")},2e3)}$(document).on("click","[data-clipboard-text]",function(t){t.preventDefault(),e(this)}),$(document).on("click",".clipboard-btn",function(){var t=$($(this).attr("data-clipboard-target"));t.length>0&&e(t.get(0))}),navigator.appVersion.indexOf("Mac")!==-1&&($(".show-windows").hide(),$(".show-macos").show())}),Sejda.LastUsedSettings=function(){const e={"editor.text":{size:10,color:"#000",font:"Helvetica,serif"},"editor.shape":{"border-width":2,"background-color":"rgba(0, 0, 0, 0)","border-color":"#FF0000"},"editor.highlight":{"background-color":"rgb(255, 213, 0)"},"editor.formfield.text":{width:400,height:30},"editor.formfield.textarea":{width:400,height:150},"editor.formfield.checkbox":{width:30,height:30},"editor.formfield.radio":{width:30,height:30},"editor.formfield.dropdown":{width:400,height:30},"editor.draw":{color:"rgb(255, 213, 0)",size:6}};var t={};return t.checkValues=function(t,n){function a(t,a,o,i){var r=n[a];(r<o||r>i)&&(n[a]=(e[t]||{})[a])}try{
switch(t){case"editor.formfield.text":case"editor.formfield.textarea":case"editor.formfield.checkbox":case"editor.formfield.radio":case"editor.formfield.dropdown":a(t,"width",10,1e3),a(t,"height",10,1e3);break;case"editor.text":a(t,"size",4,1e3)}}catch(e){}return n},t.get=function(n){var a;try{var o=Sejda.LocalStorage.getItem("lastused."+n);o&&(a=JSON.parse(o))}catch(e){Raven.captureException(e)}return t.checkValues(n,a||e[n]||{})},t.set=function(e,n,a){try{var o=t.get(e);o[n]=a,Sejda.LocalStorage.setItem("lastused."+e,JSON.stringify(o))}catch(e){Raven.captureException(e)}},t.defaults=function(t){return e[t]||{}},t}(),Sejda.PDFJS=function(){function e(){this.name="FailedLoadingPDFJSException",this.message="Failed loading PDFJS",this.stack=(new Error).stack}var t={};t.checkMetadataForScan=function(e){return e.getMetadata().then(function(e){if(e&&e.info){var t=(e.info.Creator||"").toLowerCase(),n=(e.info.Producer||"").toLowerCase();if(t.contains("canon")||t.contains("office lens")||n.contains("tesseract")||n.contains("paper capture")||n.contains("paperport"))return Promise.resolve(!0)}return Promise.resolve(!1)}).catch(function(e){console.error(e),Raven.captureException(e)})};var n,a,o,i={cMapUrl:"/js/pdfjs/web/cmaps/",cMapPacked:!0,disableStream:!0,disableAutoFetch:!0,enableXfa:!1};return t.globalBuildVersion=function(){return o},e.prototype=new Error,t.load=function(){return a=a||new Promise(function(t,a){return n?t(n):(document.documentElement.appendChild(Object.assign(document.createElement("script"),{textContent:"window.globalThis = window"})).remove(),"undefined"!=typeof wrappedJSObject&&(wrappedJSObject.globalThis=wrappedJSObject),void loadScript("/cache/114/js/pdfjs/pdf.min.js",function(){n=window["pdfjs-dist/build/pdf"],n.GlobalWorkerOptions.workerSrc="/cache/114/js/pdfjs/pdf.worker.min.js",n.GlobalGetDocumentOptions=i,o=n.pdfjsBuild,t(n)},function(){var t=new e;console.error(t.message),Analytics.trackEvent("pdfjs","failed_loading"),a(t)}))})},t.setMaxImageSize=function(e){n?n.GlobalGetDocumentOptions.maxImageSize=e:i.maxImageSize=e},t}(),Sejda.LastTasks=function(){var e={};return e.setLastTaskUrl=function(e){Sejda.LocalStorage.setItem("lastTaskUrl",encodeURIComponent(e||window.top.location.href)),Sejda.LocalStorage.setItem("lastTaskUrlExpires",Date.now()+18e5)},e.getLastTaskUrl=function(){var e=parseInt(Sejda.LocalStorage.getItem("lastTaskUrlExpires"));return Date.now()<e?Sejda.LocalStorage.getItem("lastTaskUrl"):(Sejda.LocalStorage.removeItem("lastTaskUrl"),void Sejda.LocalStorage.removeItem("lastTaskUrlExpires"))},e}(),Sejda.Utils=function(){function e(e){return e.replaceAll(a," ")}function t(e){return e.endsWith("@gmail.om")||e.endsWith("@gamil.com")||e.endsWith("@gmai.com")||e.endsWith("@gmail.cm")||e.endsWith("@gmail.comz")||e.endsWith("\\")||e.endsWith("@outlok.com")||e.endsWith(".cm")||e.endsWith("@yaho.com")||e.endsWith("@gmal.com")||e.endsWith("@yaoo.com")||e.endsWith(".conm")||e.endsWith(".comn")||e.endsWith(".con")||e.endsWith(".coon")||e.endsWith(".coom")||e.endsWith(".coim")||e.endsWith(".ccom")||e.endsWith(".ccon")||e.endsWith(".comm")||e.endsWith(".neet")||e.endsWith(".c0m")||e.endsWith(".cdom")||e.endsWith(".comq")||e.endsWith(".ocm")}var n={},a=new RegExp("[\t\n\v\f\r   ᠎           \u2028\u2029  　]","g");n.isEmailValid=function(n){return n.length>5&&1===n.countOccurences("@")&&n.indexOf(",")<0&&n.indexOf("[")<0&&e(n).indexOf(" ")<0&&n.indexOf("'")<0&&n.lastIndexOf(".")>n.indexOf("@")&&!n.endsWith(".")&&n.indexOf("..")<0&&n.indexOf(";")<0&&n.indexOf("`")<0&&n.indexOf(" ")<0&&n.indexOf(")")<0&&n.indexOf("(")<0&&n.indexOf("*")<0&&!t(n)},n.errorMatches=function(e,t){if(e&&e.message)for(var n=0;n<t.length;n++)if(e.message.toLowerCase().indexOf(t[n])>=0)return!0;return!1};var o=$("body");return n.isProUser=function(){return"true"===o.attr("data-pro-user")},n.getIpCountry=function(){return o.attr("data-ipcountry")},n}(),$(function(){var e=$.extend({},tooltipOpts,{placement:"bottom",delay:{show:2e3,hide:0}});$(".new-homepage-tasks").length>0&&$(".mega-menu-inner li a").each(function(){var t=$(this),n=t.attr("href"),a=t.attr("title");$('.new-homepage-tasks li a[href="'+n+'"]').attr("title",a).tooltip(e)})}),Sejda.Workflows=function(){function e(){var e=Sejda.SessionStorage.getItem("_workflow")||"",t=""===e?[]:e.split(",");return t}function t(){var t=$("#task-content").attr("data-task"),n=e();return n.push(t),Sejda.SessionStorage.setItem("_workflow",n.join(",")),n}var n={};return n.fileSelected=function(e){e&&"continue-with"===e.workflow||Sejda.SessionStorage.removeItem("_workflow");t()},n.inWorkflow=function(){var t=e();return t.length>=2},n}(),$("img.screencast[loading=lazy]").unveil(),$(window).load(function(){setTimeout(function(){$("img[loading=lazy]").each(function(){var e=$(this);e.hasClass("screencast")||e.attr("src",e.attr("data-src"))})},2e3)}),Sejda.Images=function(){function e(e){try{return e.slice(0,8).arrayBuffer().then(function(e){var t=new Uint8Array(e);return new Promise(function(e,n){var a=137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]&&13===t[4]&&10===t[5]&&26===t[6]&&10===t[7];e(a)})})}catch(e){return Promise.resolve(!1)}}function t(e){const t={canvas:!0,maxHeight:3e3,maxWidth:3e3};return new Promise(function(n,a){loadImage(e,t).then(function(t){return"error"===t.type?(console.error(t),a(new Error("Load image error"))):void t.image.toBlob(function(e){n(e)},e.toParams.toType,e.toParams.toQuality)}).catch(function(e){console.error("Failed loading image"),a(e)})})}function n(e){return t(e)}function a(t){return new Promise(function(n,a){const o=t.ext.toLowerCase();t.toParams={toType:"image/jpeg",toQuality:.8,toExt:"jpeg"},"png"!==o&&"gif"!==o&&"svg"!==o&&""!==o||(t.toParams.toType="image/png",t.toParams.toExt="png"),e(t).then(function(e){e&&(t.toParams.toType="image/png",t.toParams.toExt="png"),n(t)}).catch(function(e){console.error("isPng failed",e),n(t)})})}const o={};return o.convertImages=function(e){for(var t=Promise.resolve(),o=0;o<e.length;o++){const i=e[o],r=parseFilename(i.name),s=r[0],l=r[1];i.basename=s,i.ext=l;try{const u=o,d=i.type&&i.type.startsWith("image/")&&""!==i.ext;d&&(t=t.then(function(){return new Promise(function(t,o){a(i).then(n).then(function(n){try{delete i.size,Object.assign(n,i),n.name=i.basename+"."+i.toParams.toExt,e[u]=n,Analytics.trackNoPushEvent("image-conversion","success",i.ext),t()}catch(e){o(e)}}).catch(function(e){console.log("Could not convert image",i.name),Analytics.trackEvent("image-conversion","failure",i.ext),o(e)})})}))}catch(e){console.error("Failure processing image file",i.name,e),Raven.captureException(e),Analytics.trackEvent("image-conversion","failure",i.ext)}}return t},o}(),$(function(){"true"===getQueryParameterByName("clearStorage")&&(Sejda.LocalStorage.clear(),Sejda.SessionStorage.clear(),window.location.href=window.location.pathname),$(document).on("input paste","input.passtrengthMetered",function(){var e=$(this),t=e.val(),n=["weak","medium","ok","strong"],a=0,o=0,i=0,r=0,s=0,l=8,u=new RegExp("[A-Z]"),d=new RegExp("[0-9]"),c=new RegExp("([!,%,&,@,#,$,^,*,?,_,~])");o=t.length>=l?1:-4,i=t.match(u)?1:0,r=t.match(d)?1:0,s=t.match(c)?1:0,a=o+i+r+s;var f=Math.max(0,Math.min(3,a)),p=e.siblings(".passtrengthMeter");p.removeClass(n.join(" ")),t.length<36&&p.addClass(n[f])})});var __loggingEnabled="true"===window.localStorage.getItem("gdrive.logging");!function(){var e=window.FilePicker=function(e){function t(){n&&a&&o.initCallback()}this.apiKey=e.apiKey,this.clientId=e.clientId,this.initCallback=e.initCallback||function(){},this.choose=function(e){__log("FilePicker.choose()",e),this.onSelect=e.success,this.onError=e.error||function(){},this.multiple=e.multiple,this.filetypes=e.filetypes,this.open()},this.chosenFiles=function(e){this.onSelect=e.success,this.onError=e.error||function(){},this.getFiles(e.ids)},gapi.client.setApiKey(this.apiKey);var n=!1,a=!1,o=this;gapi.client.load("drive","v2",function(){__log("Google drive v2 loaded, doing auth..."),o._doAuth(!1,function(e){e&&!e.error?(__log("Auth OK...",e),n=!0,t()):(__log("Auth NOK, again with immediate:false ..."),o._doAuth(!1,function(e){__log("Auth immediate:false completed ...",e),e&&e.error&&"popup_blocked_by_browser"===e.error&&alert("Your browser blocked the authentication popup."),n=!0,t()}))})}.bind(this)),gapi.load("picker",function(){__log("Google picker loaded..."),a=!0,t()}.bind(this))};e.prototype={open:function(){__log("FilePicker.open()");var e=gapi.auth.getToken();__log("Token:",e),e&&e.expires_in>1800?this._showPicker():this._doAuth(!1,function(){this._showPicker()}.bind(this))},_showPicker:function(){__log("FilePicker._showPicker()");var e=gapi.auth.getToken(),t=null!=e?e.access_token:void 0,n=new google.picker.PickerBuilder;this.filetypes.indexOf("jpeg")>=0&&this.filetypes.indexOf("pdf")>=0?n.addView(google.picker.ViewId.DOCS):this.filetypes.indexOf("jpeg")>=0?n.addView(google.picker.ViewId.DOCS_IMAGES):this.filetypes.indexOf("pdf")>=0?n.addView(google.picker.ViewId.PDFS):n.addView(google.picker.ViewId.DOCS),this.picker=n.setAppId(this.clientId).setOAuthToken(t).setCallback(this._pickerCallback.bind(this)),this.multiple&&this.picker.enableFeature(google.picker.Feature.MULTISELECT_ENABLED),this.picker=this.picker.build().setVisible(!0)},_pickerCallback:function(e){if(__log("FilePicker._pickerCallback()"),e[google.picker.Response.ACTION]==google.picker.Action.PICKED){var t=_.map(e[google.picker.Response.DOCUMENTS],function(e){return e[google.picker.Document.ID]});this._getFiles(t)}},getFiles:function(e){__log("FilePicker.getFiles()");var t=gapi.auth.getToken();__log("Token",t),t&&t.expires_in>1800?this._getFiles(e):this._doAuth(!1,function(){this._getFiles(e)}.bind(this))},_getFiles:function(e){function t(e,o){if(0===e.length)return o(n);var i=e[0],r=e.slice(1);if("undefined"==typeof gapi.client.drive)return a.onError(new Error("gapi.client.drive not loaded"));var s=gapi.client.drive.files.get({fileId:i,supportsAllDrives:!0,supportsTeamDrives:!0});s.execute(function(e){var a=gapi.auth.getToken();if(a){e.accessToken=a.access_token;var s=parseInt(a.expires_in)}e.expires_at=Date.now()+1e3*s,e.gdriveId=i,n.push(e),t(r,o)})}__log("FilePicker._getFiles()");var n=[],a=this;t(e,function(e){a.onSelect(e)})},_doAuth:function(e,t){__log("FilePicker._doAuth()",e),t=t||function(){},gapi.auth.authorize({client_id:this.clientId+".apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/drive.install",immediate:e},t)}}}(),window.GoogleApis=function(){function e(e){return a||window.gapi?e():(window.googleApiLoaded=function(){__log("Google API loaded"),a=!0,e()},void o.append('<script src="https://apis.google.com/js/platform.js?onload=googleApiLoaded" async defer></script>'))}function t(e){"undefined"!=typeof window.google?setTimeout(e,500):setTimeout(function(){t(e)},500)}function n(e){return window.GoogleDrive?(__log("Picker already loaded, calling callback..."),e()):(__log("Loading picker..."),o.append('<script src="https://www.google.com/jsapi?key=AIzaSyAvwzUIimQbMuqbRCbRYrhdvHC1BNMErRM"></script>'),void t(function(){__log("Google JS API loaded"),window.loadPickerCallback=function(){__log("loadPickerCallback() called"),initGoogleDrivePicker(e)},o.append('<script src="https://apis.google.com/js/client.js?onload=loadPickerCallback"></script>')}))}var a=!1,o=$("body");return{load:e,loadPicker:n}}(),$(function(){function e(){s.removeClass("active"),r.hide(),$(".mega-menu-backdrop").remove(),u.css("background-color",""),$(document).unbind("keyup.mega-menu")}function t(){s.addClass("active"),r.show(),$(".mega-menu-backdrop").remove(),$("#termsNotice").hide(),$('<div class="mega-menu-backdrop"/>').insertAfter(u).click(function(){e()}),u.css("background-color","#FBFBFB"),$(document).on("keyup.mega-menu",function(t){27==t.keyCode&&e()}),l.val("").trigger("keyup").focus(),window.scrollTo(0,0)}function n(){s.hasClass("active")?e():t()}function a(){var e=l.val().toLowerCase(),t=r.find("li a");return 0==e.trim().length?void t.removeClass("search-not-matching"):(t.addClass("search-not-matching"),void t.each(function(){var t=$(this),n=(t.text()||"").toLowerCase(),a=(t.attr("title")||t.attr("data-original-title")||"").toLowerCase(),o=n.indexOf(e)>=0||a.indexOf(e)>=0;o&&t.removeClass("search-not-matching")}))}function o(){try{var e=window.location.pathname.substring(window.location.pathname.lastIndexOf("/")+1,window.location.pathname.length).toLowerCase();if(0==r.find('a[href="'+e+'"]').length)return;var t=i();t.indexOf(e)>=0||(t.unshift(e),t=t.slice(0,7),Sejda.LocalStorage.setItem("prevUsedTools",JSON.stringify(t)))}catch(e){}}function i(){var e=["compress-pdf","pdf-editor","extract-pdf-pages","merge-pdf","crop-pdf"];try{var t=JSON.parse(Sejda.LocalStorage.getItem("prevUsedTools"))||e;return t}catch(t){return e}}var r=$("#megaMenu"),s=$(".more-tasks"),l=$("#searchTools"),u=$("header");$(".suggest-task-btn").click(e),s.hoverIntent(t,function(){}).click(n),r.find(".close").click(e),l.keyup(a);var d=r.find("ul.popular");i().forEach(function(e){var t=r.find('a[href="'+e+'"]').parents("li").clone();d.append(t)}),o(),$(".mega-menu li a").tooltip(tooltipOpts)}),$(function(){$("#logoutBtn").click(function(e){e.preventDefault(),$.removeCookie("User_Ticket",{path:"/",domain:"sejda.com"}),$.removeCookie("User_Ticket",{path:"/"}),$.jsonPost("/users/logout",{}).done(function(){function e(){window.location.reload()}try{GoogleApis.load(function(){gapi.load("auth2",function(){gapi.auth2.init({client_id:"8721525582-fbt24du8pl38r1ht2ihu9q9vl815o5t8.apps.googleusercontent.com"}).then(function(){var t=gapi.auth2.getAuthInstance();t.signOut().then(e)}).catch(e)})})}catch(t){e()}}).fail(function(e,t,n){var a=e.responseText||"An error occurred. Please try again or contact support.";429===e.status&&(a="Too many login attempts. Please take a break and try again later."),alert(a)})}),$(".task-form").length>0?$("#loginBtn, .already-customer-link.login-btn").click(function(e){return e.preventDefault(),showLoginModal(),!1}):$("#checkoutModal").length>0&&$("#loginBtn, .already-customer-link.login-btn").click(function(e){e.preventDefault(),showLoginModal(),$("#checkoutModal").modal("hide")}),window.userLoggedInHandler=function(e){if(window!=window.top)return window.top.userLoggedInHandler(e),void window.location.reload();Analytics.trackNoPushEvent("logged-in-handler"),$("#username").text(e),$(".loggedout").hide(),$(".loggedin").show(),$("body").attr({"data-pro-user":"true","data-logged-in-user":e}),hideUpgradePopup(),$(".ad").remove(),$(".task-form").find('button[type="submit"]').removeAttr("disabled");try{$("#taskResultsFrame").get(0).contentWindow.location.reload()}catch(e){}}});var $body=$("body"),$fileUploadForm=$("#fileUploadForm"),filetypes=$fileUploadForm.attrOr("data-filetypes","").split(","),$taskContent=$("#task-content");$fileUploadForm.find(".fileupload").attr("accept",_.map(filetypes,function(e){return"."+e}));var $secondaryUploadBtnGroup=$(".secondary-upload-btn-group");$secondaryUploadBtnGroup.find(".fileupload").attr("accept",_.map(filetypes,function(e){return"."+e}));var $uploadBtnGroup=$(".upload-btn-group");acceptsFileType("docx")&&($uploadBtnGroup.find(".fa-file-pdf").removeClass("fa-file-pdf").addClass("fa-file-word"),$uploadBtnGroup.find(".singular, .plural").each(function(){changeCaption($(this),"Word")})),acceptsFileType("pptx")&&($uploadBtnGroup.find(".fa-file-pdf").removeClass("fa-file-pdf").addClass("fa-file-powerpoint"),$uploadBtnGroup.find(".singular, .plural").each(function(){changeCaption($(this),"PowerPoint")})),acceptsFileType("html")&&($uploadBtnGroup.find(".fa-file-pdf").removeClass("fa-file-pdf").addClass("fa-file-code"),$uploadBtnGroup.find(".singular, .plural").each(function(){changeCaption($(this),"HTML")})),acceptsFileType("jpeg")&&(acceptsFileType("pdf")?($uploadBtnGroup.find(".fa-file-pdf").removeClass("fa-file-pdf").addClass("fa-copy"),$uploadBtnGroup.find(".singular, .plural").each(function(){changeCaption($(this),"PDF & image")})):($uploadBtnGroup.find(".fa-file-pdf").removeClass("fa-file-pdf").addClass("fa-image"),$uploadBtnGroup.find(".singular, .plural").each(function(){changeCaption($(this),"image")})));var PdfFilesPwd=function(){function e(e,t){$.jsonPost("/api/files/"+e+"/password",{password:t}).done(function(){console.log("Password provided")}).fail(function(){showAlert("Could not save document password","danger"),console.warn("Could not save document password")})}const t={},n={};return $(document).on("fileUploadDone",function(a,o){n[o.counter]=o.id;const i=t[o.counter];"undefined"!=typeof i&&(delete t[o.counter],e(o.id,i))}),{prompt:function(a,o,i){var r=$("#filePwdPrompt").clone().removeAttr("id");r.find(".file-name").text(a.name.truncateMiddle(30));var s=r.find(".btn-primary");s.click(function(){var i=r.find("input").val();if(i){o(i);const s=n[a.counter];"undefined"!=typeof s?e(s,i):t[a.counter]=i,r.modal("hide")}}),r.find(".file-pwd").keypress(function(e){13===e.which&&r.find(".btn-primary").click()}),r.find('[data-dismiss="modal"]').click(function(){i&&i()}),r.find("input").keyup(function(){r.find(".danger").hide()}),r.on("shown.bs.modal",function(){r.find("input").focus()}),r.on("shown.bs.modal",function(){r.find("input").focus()}),r.modal({backdrop:"static",keyboard:!1}),r.modal("show"),r.shake()}}}();Sejda.FileUploadRetries=function(){var e=$("#retryUploadModal"),t=e.find(".btn-yes"),n=!1;return this.showModal=function(n){e.find(".filename").text(n.name),e.off("hidden.bs.modal").on("hidden.bs.modal",function(){reuploadWithDelay(n)}),t.off("click").on("click",function(){e.modal("hide")}),e.modal("show")},this.enable=function(){n=!0},this.isEnabled=function(){return n},this}(),Sejda.FileUploadPromises=function(){var e={},t={};return e.get=function(e){if(!e)throw new Error("LocalId is empty");return t[e]||(t[e]=new Promise(function(t,n){$(document).on("fileUploadDone",function(n,a){if(a.localId===e)return t(!0,a)}),$(document).on("fileUploadFailed",function(n,a){if(a.localId===e)return t(!1,a)})})),t[e]},e}(),Sejda.FileUploadExpirations=function(){function e(e){var n=setInterval(function(){return i.indexOf(e)<0?void clearInterval(n):l===!1?void clearInterval(n):void t(e,function(e){Analytics.trackEvent("touchFileFailed",$("#task-content").attr("data-task")),clearInterval(n),Sejda.FileUploadExpirations.showUploadAgainModal(function(e){})})},18e5)}function t(e,t){e.id&&$.jsonPost("/api/files/"+e.id+"/touch").fail(function(n){console.error("Failed to touch file",e.id),n&&404===n.status&&t(e)})}function n(){return u>=3}function a(){if(Sejda.Browsers.isAndroid)return!1;for(var e=0;e<i.length;e++){var t=i[e];if(t.link)return!1}return!0}function o(){var e=i.slice(0);i=[],u++,Analytics.trackNoPushEvent("uploadAgain",u),e.forEach(function(e){reupload(e)})}var i=[],r=0,s={},l=!0;$(document).on("taskProcessingCompleted",function(){l=!1});var u=0;s.add=function(t){t.reuploaded,i.push(t),e(t),r=r||Date.now()};var d=$("#uploadAgainModal"),c=d.find(".btn-yes");return s.showUploadAgainModal=function(e){return e=e||function(){},a()?(n()?(Analytics.trackNoPushEvent("uploadAgainAlreadyAttempted"),e(new Error("Already reuploaded before"))):e(),d.modal("show"),d.off("hidden.bs.modal").on("hidden.bs.modal",function(){o(),d.modal("hide")}),c.off("click").on("click",function(){d.modal("hide")}),void Analytics.trackEvent("uploadAgainModalShown",$("#task-content").attr("data-task"))):(Analytics.trackNoPushEvent("uploadAgainNotPossible"),e(new Error("Cannot reupload all files")),!1)},s}();var PdfFilesCache=function(){var e={},t={};return e.put=function(e,n){t[e.counter]={pdf:n,file:e}},e.get=function(e){return t[e.counter||e]},e}(),PdfFiles=function(){return{getDocument:function(e,t,n,a){function o(t){if(console.error(t),t){if("FailedLoadingPDFJSException"===t.name||t.message.contains("Cannot load script")&&t.message.contains("pdf.worker.")){var a=$("#problemLoadingPageResourcePrompt");return a.find(".btn-yes").off("click").on("click",function(){window.location.reload()}),void a.modal("show")}"InvalidPDFException"!==t.name&&"MissingPDFException"!==t.name&&"UnexpectedResponseException"!==t.name&&"UnknownErrorException"!==t.name&&"NoPagesException"!==t.name&&Raven.captureException(t)}showAlert('Could not open file "'+e.name.truncateMiddle(15)+'"'),n(t)}function i(n){if(0===n.numPages){const a=new Error("No pages");a.name="NoPagesException",o(a)}else PdfFilesCache.put(e,n),t(n)}function r(t,a){PdfFilesPwd.prompt(e,function(e){t(e)},function(){n()})}function s(e){return Sejda.PDFJS.load().then(function(t){var n=$.extend({},t.GlobalGetDocumentOptions,e);window.globalWorkerInstance=window.globalWorkerInstance||new t.PDFWorker,n.worker=globalWorkerInstance;var o=t.getDocument(n);return o.onPassword=r,o.onProgress=u,o.onUnsupportedFeature=a,o.promise})}var l=0;n=n||function(){},a=a||function(e){console.error("Detected unsupported pdfjs feature:",e),Analytics.trackEvent("pdfjs","unsupported_feature",e)};var u=function(t){t.total=t.total||e.bytes;var n=Math.floor(t.loaded/t.total*100),a=$(".doc-loading").find(".progress-radial");a.find(".overlay").text(n+"%");var o=5*Math.floor(n/5);l<o&&(a.removeClass("progress-"+l).removeClass("progress-100").addClass("progress-"+o),l=o,100===o&&$(".doc-loading").hide())},d=PdfFilesCache.get(e);if(d)return t(d.pdf);if(e.link){var c=fixForMixedContent(e.link);s({url:c,httpHeaders:e.httpHeaders}).then(i).catch(function(t){console.error("Failed to get document from: "+c,t);var n="https://"+$body.attr("data-download-server"),a=n+"/api/files/client-view?url="+encodeURIComponent(e.link),r=e.httpHeaders||{};r["x-proxy-token"]=$body.attr("data-proxy-token"),s({url:a,httpHeaders:r}).then(i).catch(o)})}else{var f=new FileReader;f.onload=function(){s({data:new Uint8Array(this.result)}).then(i).catch(o)},f.readAsArrayBuffer(e)}}}}();Sejda.PagesPicker=function(){var e={},t=$("#pdf-canvas-list3"),n=$("#pagesPickerModal");return e.show=function(e){return new Promise(function(a,o){t.empty(),t.addClass("loading"),n.find(".btn-ok").off("click").on("click",function(){var e=t.find(".pdf-page-wrap.selected").map(function(){return parseInt($(this).attr("data-page"))}).toArray();n.modal("hide"),$("input[name=mode][value=page]").parent("label").click(),a(e)}),n.modal("show"),$(document).trigger("requestRenderPages",{files:e,$target:t,callback:function(){t.removeClass("loading")}})})},e}(),$(function(){function e(e){var t=$("#pdf-files-summary-wrap");t.find(".message").text(e),t.fadeIn(),e.endsWith("files selected")&&t.addClass("multiple")}function t(t){var n=R.length;if(n>0){var a=n+" "+(n>1?"files":"file")+" selected";1===n&&(a="Selected: "+R[0].name.truncateMiddle(60)),e(a),l()}}function n(e){return function(t,n){function a(){i+=1}function o(){i>0&&($(".doc-loading").hide(),s(),e(t,i))}var i=0;r(),u(t,a,o,n)}}function a(e){var t=e.files,n=e.$target||B,a=e.callback||function(){},o=e.onlyPages||[];if(0===t.length)return $(".doc-loading").hide(),a();const i=[];t.forEach(function(e){const t=parseFilename(e.name),a=t[0],r=t[1];e.basename=a,e.ext=r,1===e.counter&&($("#pdf-canvas-wrap").show(),$("html, body").animate({scrollTop:200},1e3)),i.push(new Promise(function(t,a){if("pdf"===r)PdfFiles.getDocument(e,function(a){const i=[];for(var r=1;r<=a.numPages;r++)if(!(o.length>0&&o.indexOf(r)<0)){const s=Sejda.Rendering.renderPdfPage(a,e,r);i.push(s)}n.append(i),$(".doc-loading").hide(),t()});else if(["png","gif","jpg","jpeg","tif","tiff","bmp","webp"].indexOf(r)>=0){const i=Sejda.Rendering.renderImagePage(e);n.append(i),t()}else Analytics.trackEvent("error","unknownExtension",e.name),console.error("Unknown extension:",e.name),showAlert("Missing file extension: "+e.name)}))}),Promise.all(i).then(function(){$(document).trigger("pagesRendered",{files:t,$elem:n}),$(document).trigger("renderVisiblePageThumbs"),a()})}function o(e){var t=e.pdf,n=e.file,a=e.pageNum,o=e.callback||function(){},i=e.target||document.getElementById("pdf-canvas-page-"+n.counter+"-"+a),r=$(i);"true"!==r.attr("data-rendered")&&(r.attr("data-rendered","true"),t.getPage(a).then(function(t){var s=e.desiredWidth||300,l=t.getViewport({scale:1}),u=s/l.width,d=t.getViewport({scale:u}),c=i.getContext("2d");i.height=d.height,i.width=d.width,r.css("height","").attr("data-scale",u);var f={canvasContext:c,viewport:d},p=t.render(f);return p.promise.then(function(){e.target||$(".pdf-canvas-page-"+n.counter+"-"+a).not("[data-rendered=true]").each(function(){var e=this;$(e).attr("data-rendered","true").css("height","");var t=this.getContext("2d");e.width=i.width,e.height=i.height,t.drawImage(i,0,0)}),o(null),$(document).trigger("pdfPageRenderedLazy",{file:n,pageNum:a}),t.cleanup(),t=null},function(e){o(e),t.cleanup(),t=null})}))}function i(){$(".pdf-page-wrap").each(function(){var e=$(this);if(e.isInViewport()){var t=parseInt(e.attr("data-page")),n=e.attr("data-file-counter");$(document).trigger("doRenderPage",{page:t,counter:n})}})}function r(){$(".step1").hide(),$("#how-it-works").remove()}function s(){$(".step2").show(),$(document).trigger("showStep2"),$("html, body").animate({scrollTop:200},1e3)}function l(){I||(I=!0,r(),s(),$("#changeLanguageNotice").hide(),"true"===$("#task-content").attr("data-auto-submit")&&setTimeout(function(){$("form.task-form button[type=submit]").click()},500))}function u(e,t,n,a){function o(e){t(r),a&&e.destroy(),u(s,t,n)}function i(e){u(s,t,n)}if(0===e.length)return n();a=a||!1;var r=e[0],s=e.slice(1);PdfFiles.getDocument(r,o,i)}function d(e){if(M)return c([e[0]])}function c(e){l();var t=1===e.length&&e[0].pickPages;t?Sejda.PagesPicker.show(e).then(function(t){$(document).trigger("requestRenderPages",{files:e,$target:$("#pdf-canvas-list"),onlyPages:t})}):a({files:e,$target:B})}function f(e){l();for(var t=0,n=e.length;t<n;t++){const a=e[t],o=Sejda.Rendering.renderImagePage(a);j.append(o)}$(document).trigger("imagePagesRendered",{files:e}),$("#image-canvas-wrap").show(),M&&$("html, body").animate({scrollTop:200},1e3)}function p(e){if(0===e.length)return[];var t=_.filter(e,function(e){var t=e.name.toLowerCase();return void 0!==_.find(filetypes,function(e){return t.endsWith("."+e)})});return e.length!==t.length&&(0===t.length?showAlert("Please select "+filetypes.join(", ").toUpperCase()+" files"):showAlert("Some files were ignored, please select only "+filetypes.join(", ").toUpperCase()+" files","warning")),t}function g(e){if(0===e.length)return[];var t=_.filter(e,function(e){return"undefined"==typeof e.size||e.size>0});return e.length!==t.length&&(0===t.length?showAlert("Unreadable file"):showAlert("Some files were ignored, unreadable files","warning")),t}function h(e,t){for(var n=0;n<e.length;n++){var a=e[n];if("undefined"!=typeof a.size&&a.size>t)return!0}return!1}function m(e){if(0===e.length)return[];var t=500,n=500,a=500,o=1e6;a=parseFloat($taskContent.attr("data-pro-max-file-size")||"500"),t=parseFloat($taskContent.attr("data-free-max-file-size")||"200"),n=parseFloat($taskContent.attr("data-free-limit-file-size")||"50");var i="",r=!1,s=Sejda.Utils.isProUser()?a:t,l=_.filter(e,function(e){return"undefined"==typeof e.size||(e.size>a*o&&(i="Some files were larger than "+a+" Mb and were not uploaded"),Sejda.Utils.isProUser()||e.size<a*o&&e.size>t*o&&(r=!0),e.size<s*o)});return e.length!==l.length&&(i?showAlert(i,"danger"):r&&($("#free-file-size-reason").find(".free-file-size-limit").text(n),showUpgradePopupIf("free-file-size"))),l}function v(e){if(0===e.length)return[];var t=e;return t.length>1&&(taskCanMultiple()?canMultiple()||(showUpgradePopupIf("free-multiple-files",{disableSubmitBtn:!1}),t=[t[0]]):(t=[t[0]],showAlert("This tool does not support processing multiple files at once.","warning"))),t}function w(e){_.each(e,function(e){"undefined"==typeof e.counter&&(e.counter=T++),"undefined"==typeof e.name&&(e.name="undefined")})}function y(e,t){var n=t.hasClass("can-pick-pages")||t.parents(".upload-btn-group").hasClass("can-pick-pages");e.forEach(function(e){e.pickPages=n})}function k(e,t,n){w(t.files),y(t.files,n),t.files&&0===t.files.length||$(document).trigger("filesOtherSelected",{files:t.files})}function F(e,t,n){w(t.files),y(t.files,n);var a=_.map(t.files,function(e){return e}),o=p(a);if(o=g(o),o=m(o),o=v(o),t.files=o,0!==o.length){if(!taskCanMultiple()&&U.length>0)return void(o[0].reuploaded!==!0&&console.error("Task cannot handle multiple files and",U.length,"files already handled. Refusing to handle more."));U=U.concat(o);const i=o.slice();$(document).trigger("filesSelected",{files:i})}}function b(e){var t=$taskContent.attr("data-task");w(e);for(var n=0;n<e.length;n++){var a=e[n],o=_.find(e,function(e){return e.error});if(o){console.log(JSON.stringify(o));var i=o.message||"Please contact support for more information.";return alert("Could not access the Google Drive files. "+i),void Analytics.trackEvent("gdriveFilesFailed",JSON.stringify(o))}var r=["pdf"],s="application/pdf";if("docToPdf"===t?(r=["docx"],s="application/vnd.openxmlformats-officedocument.wordprocessingml.document"):"jpgToPdf"===t?(r=["jpeg","jpg","png","tif","tiff","gif","bmp","webp"],s="image/jpeg"):"merge"===t?(r=["pdf","jpeg","jpg","png","tif","tiff","gif","bmp","webp"],s="application/pdf"):"pptToPdf"===t&&(r=["pptx"],s="application/vnd.openxmlformats-officedocument.presentationml.presentation"),a.exportMimeType=s,a.downloadUrl){if(a.fileExtension&&r.indexOf(a.fileExtension.toLowerCase())<0)return void showAlert('File "'+a.title+"\" can't be used for the selected task.","danger")}else if(a.exportLinks){var l=a.exportLinks[s];if(!l)return void showAlert('File "'+a.title+"\" can't be used for the selected task.","danger")}var u="."+r[0];if(a.title.toLowerCase().endsWith(u)||(a.title+=u),a.originalFilename||(a.originalFilename=a.title),mapGdriveFileToSejda(a),!a.link){if(a.labels&&a.labels.restricted===!0)return showAlert("You selected a Google Drive file with restricted access","danger"),void Analytics.trackEvent("gdriveFilesFailed","restricted_access");console.log(JSON.stringify(a));var d=a.message||"Please contact support for more information.";return alert("Could not access the Google Drive files. "+d),void Analytics.trackEvent("gdriveFilesFailed",JSON.stringify(a))}e[n]=a}e=p(e),e=m(e),e=v(e);var c=$("#task-content").attr("data-multiple-files");"false"===c&&e.length>1&&(e=[e[0]]),0!==e.length&&($(document).trigger("filesSelected",{files:e}),_.each(e,function(e){D(e)}))}function A(e){var t=document.createElement("a");return t.href=e,t}function C(e){for(var t=0;t<e.length;t++){var n=e[t];if("undefined"==typeof n.title)if(n.originalFilename)n.title=n.originalFilename;else if(n.downloadUrl){var a=A(n.downloadUrl);n.title=a.pathname.substring(a.pathname.lastIndexOf("/")+1)||"untitled.pdf"}else n.title="untitled.pdf"}}function S(e){try{return A(e).hostname}catch(e){return""}}function x(e){C(e),Analytics.trackNoPushEvent("fileOpen","url",e.length,S(e[0].downloadUrl||e[0].link)),setTimeout(function(){function t(e){var t=getQueryParameterByName(e);t&&a.push(e+"="+encodeURIComponent(t))}b(e);try{var n=[location.protocol,"//",location.host,location.pathname].join(""),a=[];t("partnerKey"),t("returnEmail"),n+="?"+a.join("&"),window.history.pushState({},"",n)}catch(e){}},500)}function P(e){isNaN(e)?G.addClass("indeterminate"):(G.removeClass("indeterminate"),H=e,G.css("width",e+"%"),100===e&&setTimeout(function(){G.css("width","0%")},1e3))}function E(){PdfFiles.filesUploading<0&&(PdfFiles.filesUploading=0),0===PdfFiles.filesUploading&&P(100)}function D(e){w([e]),e.scope="task-file",Sejda.FileUploadPreChecksUrlBased.submit(e)}taskCanMultiple()||($(".fileupload").removeAttr("multiple"),$(".upload-btn-group").find(".plural").hide(),$(".upload-btn-group").find(".singular").show());const B=$("#pdf-canvas-list"),j=$("#image-canvas-list");$(document).on("requestRenderPages",function(e,t){a(t)}),Sejda.Rendering=function(){function e(e,t,o){const i=parseInt(Sejda.LocalStorage.getItem("thumbnails-size"))||150,r=t.basename||parseFilename(t.name)[0],s=$('<li class="pdf-page-wrap">'+n+'<canvas class="pdf-page magnify pdf-canvas-page-'+t.counter+"-"+o+'" style="height: 210px;" id="pdf-canvas-page-'+t.counter+"-"+o+'"></canvas>'+a+"</li>");
s.attr("id","pdfPageWrap"+o);const l=i/150;s.find(".pdf-page,.pdf-page-number,.pdf-file-title").css("width",i+"px").css("max-height",Math.round(210*l)+"px");const u=String.fromCharCode(t.counter+65-1);return s.find(".pdf-page-number").text(u+o).attr("title","Page "+o+" of "+t.name),s.find(".page-file-title").text(r.truncateMiddle(30)).attr("title",t.name),s.find(".page-tools-btns .btn").tooltip(tooltipOpts),s.attr({"data-filename":encodeURIComponent(t.name),"data-filename-raw":t.name,"data-file-counter":t.counter,"data-page":o}),$(document).trigger("pdfPageRendered",{file:t,pageNum:o,$elem:s}),s}function t(e){function t(e){const t=URL.createObjectURL(e);s.find("img").attr("src",t)}const o=parseInt(Sejda.LocalStorage.getItem("thumbnails-size"))||150,i=parseFilename(e.name),r=i[0],s=(i[1],$('<li class="pdf-page-wrap" data-filename="'+encodeURIComponent(e.name)+'" data-file-counter="'+e.counter+'">'+n+'<div class="image-page" id="image-canvas-page-'+e.counter+'"><span class="image-page-helper"></span><img src=""/></div>'+a+"</li>")),l=1;s.find(".pdf-page-number").text(r.truncateMiddle(30)).attr("title",e.name),s.find(".page-file-title").text(r.truncateMiddle(30)).attr("title",e.name),s.find(".page-tools-btns .btn").tooltip(tooltipOpts),s.attr({"data-filename":encodeURIComponent(e.name),"data-filename-raw":e.name,"data-file-counter":e.counter,"data-page":l});const u=210/297;if(s.find(".image-page").css("width",o+"px").css("height",o/u+"px"),e.link){const d=new XMLHttpRequest;if(d.responseType="blob",d.onreadystatechange=function(){d.readyState===XMLHttpRequest.DONE&&200===d.status&&(t(d.response),$(".doc-loading").hide())},d.open("GET",e.link,!0),e.httpHeaders)for(var c in e.httpHeaders)e.httpHeaders.hasOwnProperty(c)&&d.setRequestHeader(c,e.httpHeaders[c]);d.send()}else t(e);return $(document).trigger("pdfPageRendered",{file:e,pageNum:l,$elem:s}),$(document).trigger("imagePageRendered",{file:e}),s}const n='<div class="page-tools-btns"><div class="btn-group" role="group"><button type="button" class="btn btn-default btn-xs page-tools-btn page-tools-magnify-btn" title="Enlarge"><i class="fal fa-search-plus"></i></button><button type="button" class="btn btn-default btn-xs page-tools-btn page-tools-rotate-btn" data-rotation="-90" title="Rotate"><i class="fal fa-undo"></i></button><button type="button" class="btn btn-default btn-xs page-tools-btn page-tools-rotate-btn" data-rotation="90" title="Rotate"><i class="fal fa-redo"></i></button><button type="button" class="btn btn-default btn-xs page-tools-btn page-tools-delete-btn" title="Remove"><i class="fal fa-trash-alt"></i></button></div></div>',a='<div class="pdf-page-number"></div><div class="page-file-title"></div>';return{renderPdfPage:e,renderImagePage:t}}(),$(document).on("doRenderPage",function(e,t){var n=t.page,a=t.counter;t.target,t.desiredWidth;if("undefined"!=typeof n&&"undefined"!=typeof a){var i=PdfFilesCache.get(a);if(i){var r=$.extend({},t);r.pdf=i.pdf,r.file=i.file,r.pageNum=n,o(r)}else console.error("Cant render",n,a,"nothing found in cache")}else console.error("Cant render",n,a," undefined values found")}),$(document).scrollStopped(function(){i()}),$(document).on("renderVisiblePageThumbs",i);var I=!1,O=$("#task-content").attr("data-task"),T=1,U=[],N=$(".doc-loading"),R=[],M=!0;$(document).on("filesSelected",function(e,a){a.files[0]&&a.files[0].link&&N.show(),Sejda.Workflows.fileSelected(a.files[0]);try{var o=a.files;switch(R=R.concat(o),R.length>o.length&&(M=!1),O){case"splitByPages":case"extractPages":case"deletePages":case"pdfToJpg":case"pdfToImage":case"resizePages":d(o),t(o);break;case"alternateMix":case"merge":case"combineReorder":case"rotatePages":c(o);break;case"jpgToPdf":f(o);break;case"docToPdf":case"pptToPdf":case"repair":case"htmlToPdf":t(o),N.hide();break;case"edit":case"fillSign":l();break;case"crop":case"splitByBookmarks":case"splitByText":case"watermark":case"pdfToDoc":case"renameByText":case"ocr":case"editMetadata":t(o);break;default:n(t)(o,!0)}}catch(e){console.error("Render failed",e),Raven.captureException(e)}});var L=$(".gdrive-chooser"),W=$(".drpbox-chooser"),z=$(".onedrive-chooser");L.click(function(){var e=$(this),t={multiple:canMultiple(),error:function(){alert("We couldn't connect to Google Drive. Please try again later or contact support.")},success:function(t){y(t,e),Analytics.trackNoPushEvent("fileOpen","gdrive",t.length,Date.now()),b(t)},filetypes:filetypes};Sejda.OptOutChoices.askGoogle().then(function(){GoogleApis.loadPicker(function(){"undefined"!=typeof GoogleDrive?GoogleDrive.choose(t):alert("We couldn't connect to Google Drive. Please try again later or contact support.")})})}),$(".weburl-chooser").click(function(){function e(e){var t=[{downloadUrl:e}];x(t)}function t(e){var t=A(e);return t.host&&t.host!==window.location.host&&("http:"===t.protocol||"https:"===t.protocol)&&"/"!==t.pathname}var n=$("#webAddressUrlPrompt"),a=n.find(".btn-primary");a.click(function(){var a=n.find("input").val().trim();return a.startsWith("file:")||a.startsWith("\\")||a.indexOf(":\\")>0?(n.find(".danger").show(),o=0,void n.shake()):(a.indexOf("://")===-1&&(a="http://"+a,n.find("input").val(a)),t(a)?a.indexOf(".googleusercontent.com/viewer/")>=0?alert("Use the Open from Google Drive feature for this file"):(e(a),void n.modal("hide")):(n.find(".danger").show(),n.shake(),void(o=0)))}),n.find("input").keypress(function(e){13===e.which&&n.find(".btn-primary").click()});var o=0;n.find("input").keyup(function(){o++,o>1&&n.find(".danger").hide()}),n.on("shown.bs.modal",function(){n.find("input").focus()}),n.modal("show")}),$(".open-blank-doc-btn").click(function(){var e=[{downloadUrl:"https://www.sejda.com/assets/new_document.pdf"}];x(e)}),setTimeout(function(){try{var e=Sejda.SessionStorage.getItem("files");if(!e){var t=getQueryParameterByName("files");if(t){var n="false"===$taskContent.attr("data-external-integration"),a=$taskContent.attr("data-task")+", "+document.referrer;n?(Analytics.trackEvent("webIntegration","blocked",a),console.error("Web integration blocked:",a)):(Analytics.trackEvent("webIntegration","open",a),e=t)}}if(Sejda.SessionStorage.removeItem("files"),e){var o=JSON.parse(e);x(o);try{const i=S(o[0].downloadUrl||o[0].link);i.endsWith("sejda.com")||$(document).trigger("removeFreeSupportBtns")}catch(e){}}}catch(e){console.error(e.stack)}},100),z.click(function(){var e=$(this),t=_.map(filetypes,function(e){return"."+e}),n={clientId:"53034c10-3b68-49ac-88fe-723b519e2d1c",action:"download",multiSelect:canMultiple(),advanced:{redirectUri:[window.location.protocol,"//",window.location.host,"/one-drive-auth"].join(""),filter:t.join(",")},success:function(t){var n=t.value;w(n),y(n,e);for(var a=0;a<n.length;a++){var o=n[a],i=14400;o.expires_at=Date.now()+1e3*i,o.accessToken=t.accessToken,o.scope="task-file",o.link=o["@microsoft.graph.downloadUrl"],o.link=appendToUrl(o.link,{originalFilename:o.name,expires_at:o.expires_at||"",oauth_bearer:o.accessToken})}$(document).trigger("filesSelected",{files:n});for(var a=0;a<n.length;a++)D(n[a]);Analytics.trackNoPushEvent("fileOpen","onedrive",n.length,Date.now())},cancel:function(){},error:function(e){alert("An error occurred. Please try again later or contact support.")}};Sejda.OptOutChoices.askMicrosoft().then(function(){OneDriveApis.loadApi(function(){"undefined"!=typeof OneDrive?OneDrive.open(n):alert("We couldn't connect to OneDrive. Please try again later or contact support.")})})}),W.click(function(){var e=$(this),t={success:function(t){w(t),y(t,e),$(document).trigger("filesSelected",{files:t});for(var n=0;n<t.length;n++){var a=t[n],o=14400;a.expires_at=Date.now()+1e3*o,a.scope="task-file",D(a)}Analytics.trackNoPushEvent("fileOpen","dropbox",t.length,Date.now())},linkType:"direct",multiselect:canMultiple(),extensions:_.map(filetypes,function(e){return"."+e})};Sejda.OptOutChoices.askDropbox().then(function(){DropboxApis.loadDropins(function(){if("undefined"!=typeof Dropbox)try{Dropbox.choose(t)}catch(e){if(e.message.includes("Failed to open/load the window"))return alert("Popup window was blocked by browser. Please try again.");throw e}else alert("We couldn't connect to Dropbox.com. Please try again later or contact support.")})})}),PdfFiles.filesUploading=0;var H,G=$("#upload-progress .bar");$(document).on("fileUploadStarted",function(e,t){Analytics.trackNoPushEvent("file-upload","started",t.counter,t.reuploaded?"reuploaded":void 0),PdfFiles.filesUploading+=1,"undefined"!=typeof t.link&&P(Number.NaN),E()}),window.wasOffline=!1,window.isOffline=!1,window.addEventListener("offline",function(e){Analytics.trackNoPushEvent("offline"),wasOffline=!0,isOffline=!0}),window.addEventListener("online",function(e){Analytics.trackNoPushEvent("online"),isOffline=!1}),$(document).on("fileUploadFailed",function(e,t){t.debugInfo=t.debugInfo||{},t.reason||400!==t.debugInfo.status&&401!==t.debugInfo.status||(t.reason="Please reload the page and try again."),hasInternetConnection(function(e){e||(t.reason="There is no internet connection."),t.reason=t.reason||"Please try again";var n=[H+"%","<"+t.counter+">",t.debugInfo.status,t.debugInfo.where,navigator.userAgent,wasOffline?"wasOffline":""].join(" ");if(t.uploadStartTime){var a=Date.now()-t.uploadStartTime;n=a+"ms "+n}delete t.uploadStartTime,H=0;const o=$("body");var i=S(t.uploadUrl);n=[$("#uplid").val(),window.top.location.hostname,o.attr("data-www"),Sejda.Utils.getIpCountry(),i,t.size].join(" ")+" "+n,t.reuploaded===!0&&(n="reuploaded "+n);try{var r=(navigator.connection||navigator.mozConnection||navigator.webkitConnection).effectiveType;n=r+" "+n}catch(e){}Analytics.trackNoPushEvent("fileUploadFailed",t.reason,n);var s=!0;Sejda.Browsers.isUnsupported&&(s=!1),Sejda.SessionStorage.getItem("fileUploadFailedNotified")&&(s=!1),t.reuploaded===!0&&(s=!1),s?(Sejda.SessionStorage.setItem("fileUploadFailedNotified","1"),Analytics.trackEvent("fileUploadFailed",t.reason,n)):(Analytics.trackNoPushEvent("fileUploadFailed",t.reason,n),["uploads1.sejda.com","cf-uploads1.sejda.com"].forEach(function(e){areOurServersReachable(e,function(t){t||Analytics.trackEvent("ssl-failure",e,navigator.userAgent)})})),t.reasonCancelledByUs||(Sejda.FileUploadRetries.isEnabled()&&t.reasonUpgrade!==!0&&!t.link&&t.canReupload!==!1?Sejda.FileUploadRetries.showModal(t):showAlert(t.name.truncateMiddle(30)+": Upload failed. "+t.reason))}),PdfFiles.filesUploading-=1,E()}),$(document).on("fileUploadDone",function(e,t){Analytics.trackNoPushEvent("file-upload","done",t.counter),PdfFiles.filesUploading-=1,E()}),$(".fileupload,.image-fileupload").each(function(e,t){var n=$(t),a="true"===n.attr("data-allows-drop")?$(document):null,o="true"===n.attr("data-allows-paste")?$(document):null,i=n.attr("data-scope"),r=n.parents("form").attr("action"),s=r.substring(0,r.indexOf("/api/files"))+"/api/files/upload-check",l=r.indexOf("-chunked")>0;l&&Analytics.trackNoPushEvent("file-upload","chunked");var u={};l&&(u={maxChunkSize:1e7,multipart:!1}),Sejda.FileUploadPreChecks=function(){function e(){return Date.now()-o<1e4}function t(){o=Date.now()}var n={},a=Promise.resolve(),o=0;return n.submit=function(n,o){a=a.then(function(){return e()?(n.files[0].reasonCancelledByUs=!0,$(document).trigger("fileUploadFailed",n.files[0]),Promise.resolve()):new Promise(function(e,a){return $.ajax({method:"POST",url:o,data:{uplid:$("#uplid").val()},xhrFields:{withCredentials:!0}}).done(function(){const e=n.files[0],t=Sejda.Utils.getIpCountry(),a="y"===getQueryParameterByName("zipEnabled")||e.reuploaded||["??","RO","BR","IN"].indexOf(t)>=0,o=a&&!Sejda.Browsers.isMobile&&!Sejda.Browsers.isUnsupported&&!e.zipped==!0&&"undefined"!=typeof e.size&&e.size<2e7&&(e.name||"").toLowerCase().endsWith(".pdf");if(o){console.log("Enabled zip mode");var i=Date.now();loadScript("/js/zip-no-worker-deflate.min.js",function(){try{zip.configure({useWebWorkers:!1});const t=new zip.BlobWriter("application/zip"),a=new zip.ZipWriter(t,{password:e.name});a.add("blob",new zip.BlobReader(e),{level:0}),a.close().then(function(){const a=t.getData();_.extendOwn(a,e),a.name=e.name,a.zipped=!0,n.files[0]=a,n.submit(),console.log("Zipped and submitted upload, took:"+(Date.now()-i)+" ms")}).catch(function(e){console.error("Zipping failed",e)})}catch(e){console.error("Zipping failed",e),n.submit()}},function(){console.error("Failed loading zip.min.js"),n.submit()})}else n.submit()}).fail(function(e,a,o){n.jqXHR=e,429===n.jqXHR.status&&(showUpgradePopup("files-per-hour"),n.files[0].reason="Reached the free limit on files per hour",n.files[0].reasonUpgrade=!0,t()),n.files[0].debugInfo={status:n.jqXHR.status,where:"uploader.fail()"},$(document).trigger("fileUploadFailed",n.files[0])}).always(function(){e()})})})},n}(),n.fileupload($.extend({},u,{sequentialUploads:!0,dropZone:a,pasteZone:o,dataType:"json",xhrFields:{withCredentials:!0},beforeSend:function(e,t){var n=t.files[0];e.setRequestHeader("X-FileLocalId",n.localId)},add:function(e,t){t.files=g(t.files);var a=!0;if((h(t.files,9e7)||window.location.href.indexOf("cfuploads=n")>=0||navigator.userAgent.indexOf("Android")>=0||navigator.userAgent.indexOf("Windows NT 6")>=0)&&(a=!1),a){const o=r.indexOf("local")>=0?"":"www.";t.url=r.replaceAll(/uploads[0-9]\./gi,o),t.files.length>0&&(t.files[0].uploadUrl=t.url)}Sejda.Images.convertImages(t.files).catch(function(e){console.error(e),Raven.captureException(e)}).finally(function(){n.hasClass("fileupload")?F(e,t,n):k(e,t,n),_.each(t.files,function(e){e.scope=i,e.localId=e.localId||uuidv4(),e.uploadPromise=Sejda.FileUploadPromises.get(e.localId)});for(var a=0;a<t.files.length;a++)t.files[a].uploadStartTime=Date.now(),$(document).trigger("fileUploadStarted",t.files[a]);if(1===t.files.length){var o=(t.files[0],Promise.resolve());o=o.then(function(){Sejda.FileUploadPreChecks.submit(t,s)}).catch(function(e){console.error(e),Raven.captureException(e),t.files[0].clientError=t.clientError=e,t.submit()})}else console.log("Unexpected data.files.length:"+t.files.length)})},progressall:function(e,t){var n=parseInt(t.loaded/t.total*100,10);n>95&&(n=95),P(n)},done:function(e,t){var n=t.files[0];n.id=t.jqXHR.responseJSON.id;var a=3600;n.expires_at=Date.now()+1e3*a;try{$(document).trigger("fileUploadDone",n)}catch(e){console.error(e),Raven.captureException(e)}"task-file"===i&&(window.top.lastFileUploadId=n.id),Sejda.FileUploadExpirations.add(n)},fail:function(e,t){(408===t.jqXHR.status||t.jqXHR.responseText&&t.jqXHR.responseText.indexOf("Idle connections will be closed")>0)&&(t.files[0].reason="Your connection timed out, try again."),429===t.jqXHR.status&&(showUpgradePopup("files-per-hour"),t.files[0].reason="Reached the free limit on files per hour",t.files[0].reasonUpgrade=!0),t.clientError&&("NotReadableError"===t.clientError.name||"NotFoundError"===t.clientError.name?(t.files[0].reason="File could not be read from your device",t.files[0].canReupload=!1):t.files[0].reason=t.clientError.message),t.files[0].debugInfo={status:t.jqXHR.status,where:"uploader.fail()"};try{$(document).trigger("fileUploadFailed",t.files[0])}catch(e){console.error(e),Raven.captureException(e)}}})),n.bind("fileuploadpaste",function(e,t){t&&t.files&&t.files.length>0&&(Analytics.trackNoPushEvent("fileOpen","paste",t.files.length,Date.now()),_.each(t.files,function(e){e.pasted=!0}))})}),Sejda.FileUploadPreChecksUrlBased=function(){function e(){return Date.now()-o<1e4}function t(){o=Date.now()}var n={},a=Promise.resolve(),o=0;return n.submit=function(n){a=a.then(function(){return e()?(n.reasonCancelledByUs=!0,$(document).trigger("fileUploadFailed",n),Promise.resolve()):new Promise(function(e,a){try{$(document).trigger("fileUploadStarted",n)}catch(e){console.error(e),Raven.captureException(e)}$.jsonPost("/api/files",{url:n.link}).done(function(e){n.id=e.id,n.pages=e.pages,n.passwordProtected=e.passwordProtected,$(document).trigger("fileUploadDone",n),Sejda.FileUploadExpirations.add(n)}).fail(function(e){429===e.status?(showUpgradePopup("files-per-hour"),n.reason="Reached the free limit on files per hour",n.reasonUpgrade=!0,t()):400===e.status&&e.responseText&&(n.reason=e.responseText),n.debugInfo={status:e.status,where:"/api/files link"},$(document).trigger("fileUploadFailed",n)}).always(function(){e()})})})},n}()}),$(document).on("click",".toggle-password",function(){var e=$(this);e.toggleClass("fa-eye fa-eye-slash");var t=e.siblings("[name=filePwd]");"password"===t.attr("type")?t.attr("type","text"):t.attr("type","password")});var addMoreFilesUploadForm=$("#addMoreFilesUploadForm"),filetypes2=addMoreFilesUploadForm.attrOr("data-filetypes","").split(",");addMoreFilesUploadForm.find(".fileupload").attr("accept",_.map(filetypes2,function(e){return"."+e})),$(function(){$("#thumbsSizeInput").val(parseInt(Sejda.LocalStorage.getItem("thumbnails-size"))||150),$(".clear-selection-btn").click(function(){$(document).trigger("select-none")})}),$(function(){function e(){$(".page-magnify-backdrop").remove()}const t="false"!==$("#task-content").attr("data-can-magnify");t&&($(document).on("click",".page-tools-magnify-btn",function(e){e.preventDefault(),e.stopPropagation(),$(".page-magnify-backdrop").remove();var t=$(this);const n=t.parents(".pdf-page-wrap"),a=n.find(".pdf-page, .image-page").cloneWithCanvas();if(a.removeAttr("style").removeAttr("data-rendered").addClass("page-magnified"),a.hasClass("pdf-page")){var o=parseInt(n.attr("data-page")),i=parseInt(n.attr("data-file-counter"));$(document).trigger("doRenderPage",{page:o,counter:i,target:a.get(0),desiredWidth:1e3})}const r=$('<div class="page-magnify-backdrop"><a id="closePagePreviewBtn" href="javascript://">&times;</a></div>');r.append(a),$("body").prepend(r)}),$(document).on("click","#closePagePreviewBtn",e),$(document).on("click",".page-magnify-backdrop",function(t){var n=$(t.target);n.hasClass("page-magnify-backdrop")&&e()}),$(document).keyup(function(e){27===e.keyCode&&$(".page-magnify-backdrop").remove()}))}),$(function(){function e(e){return{page:e.attr("data-page"),file:e.attr("data-file-counter")}}function t(e,t){return(e+t+360)%360}function n(){if("true"==$("#task-content").attr("data-highlight-ranges")){var e=["group-b","group-c","group-d","group-e","group-a"],t=e.join(" "),n=$(".pdf-page-wrap");if(n.removeClass(t),!$("#mergeResults").is(":checked")){var a=[];if($(".pdf-page-wrap.selected").each(function(e,t){a.push(parseInt($(t).attr("data-page")))}),0!=a.length)for(var o=n.length,i=0,r=1;r<=o;r++){var s=e[i%e.length],l=$("#pdfPageWrap"+r);l.addClass(s);var u=a.indexOf(r)>=0;u&&i++}}}}var a=$("#task-content"),o="true"==a.attr("data-can-reorder"),i="true"==a.attr("data-can-delete"),r="true"==a.attr("data-can-bulk-delete"),s="true"==a.attr("data-can-rotate"),l="false"!=a.attr("data-can-select"),u="false"!=a.attr("data-can-select-multiple"),d="true"==a.attr("data-can-clear-selection"),c="true"==a.attr("data-single-click-select-multiple");o?$(".can-reorder").show():$(".can-reorder").remove(),i?$(".can-delete").show():$(".can-delete").remove(),s?($(".can-rotate").show(),$(document).on("pagesRendered",function(e){$(".can-rotate").show()})):$(".can-rotate").remove(),l||$(".can-select").remove();var f=$(".can-select-multiple");if(u){if(navigator.platform.startsWith("Mac")){var p=f.text();f.text(p.replaceAllCaseInsensitive("Ctrl","Cmd"))}}else f.remove();if(d?$(".can-clear-selection").show():$(".can-clear-selection").remove(),$(document).on("keyup keydown",function(e){16===e.keyCode&&("keydown"===e.type?document.shifted=!0:document.shifted=!1),17===e.keyCode&&("keydown"===e.type?document.ctrled=!0:document.ctrled=!1)}),s&&$(document).on("click",".page-tools-rotate-btn",function(e){e.stopPropagation();const n=$(this),a=n.parents(".pdf-page-wrap"),o=a.find(".pdf-page, .image-page"),i=$(this).data("rotation")||90,r=parseInt(a.attr("data-rotation")||0),s=t(r,i);a.attr("data-rotation",s),o.removeClass("rotated-90").removeClass("rotated-180").removeClass("rotated-270").removeClass("rotated-0").addClass("rotated-"+s),$(document).trigger("pageRotated",{rotation:s,$page:o}),n.blur()}),l){var g=$("#pdf-canvas-list"),h=$("#pdf-canvas-list2");$(document).on("select-all",function(){g.find(".pdf-page-wrap").each(function(){$(this).addClass("selected ui-multisort-grouped")}),$(document).trigger("selectedPagesChanged")}),$(document).on("select-none",function(){g.find(".pdf-page-wrap").removeClass("selected ui-multisort-grouped"),h.find(".pdf-page-wrap").removeClass("selected ui-multisort-grouped"),$(document).trigger("selectedPagesChanged")}),$(document).on("select-inverse",function(){g.find(".pdf-page-wrap").each(function(){var e=$(this);e.hasClass("selected")?e.removeClass("selected ui-multisort-grouped"):e.addClass("selected ui-multisort-grouped")}),$(document).trigger("selectedPagesChanged")});var m;$(document).on("click",".pdf-page-wrap",function(t){var n=$(this),a=n.hasClass("selected"),o=e(n);document.ctrled||document.shifted||t.metaKey||c!==!0&&n.parents(".pdf-page-wrap-parent").find(".pdf-page-wrap.selected").removeClass("selected ui-multisort-grouped"),a?n.removeClass("selected ui-multisort-grouped"):n.addClass("selected ui-multisort-grouped");var i=n.parents(".pdf-page-wrap-parent");if(document.shifted&&m&&u){var r,s,l=m,d=0!==l.nextAll().filter(n).length;do r=d?l.next(".pdf-page-wrap"):l.prev(".pdf-page-wrap"),r.addClass("selected").addClass("ui-multisort-grouped"),l=r,s=r.length>0&&(e(r).page!=o.page||e(r).file!=o.file);while(s)}i.attr("data-prev-selected-page",o.page).attr("data-prev-selected-file",o.file),m=n,$(document).trigger("selectedPagesChanged")})}$(document).on("selectedPagesChangedInput",function(e,t){var a=t.pages||[];$(".pdf-page-wrap").removeClass("selected"),_.each(a,function(e){$("#pdfPageWrap"+e).addClass("selected")}),n()}),$(document).on("selectedPagesChanged",n),$("#mergeResults").change(n),$(document).on("highlightedPagesChanged",n),$(document).on("selectedPagesChanged",function(){var e=[];$(".pdf-page-wrap.selected").each(function(t,n){e.push(parseInt($(n).attr("data-page")))});var t="splitByPages"!=$("#task-content").attr("data-task"),n=e.join(",");if(t){for(var a,o,i=[],r=0;r<e.length;r++){var s=e[r];o?s==o+1?o=s:(a==o?i.push(a):i.push(a+"-"+o),o=a=s):o=a=s}a==o?i.push(a):i.push(a+"-"+o),n=i.join(",")}$("#specificPages").val(n),$(".specific-pages-selector").siblings("label.btn").removeClass("active"),$(".specific-pages-selector").click(),$("#specificPagesWrap").show()}),i&&($(document).on("pdfPagesDeleted",function(){const e=$("#pdf-canvas-list"),t=e.find(".pdf-page-wrap").length;0===t&&e.find(".empty").show()}),$(document).on("click",".page-tools-delete-btn,.pdf-delete-page-xl",function(e){e.stopPropagation(),$(".tooltip").hide();var t=$(this).parents(".pdf-page-wrap"),n=parseInt(t.attr("data-page"));const a=t.parents(".pdf-page-wrap-parent");var o=a.find(".pdf-page-wrap.selected").not(t),i=o.map(function(){return parseInt($(this).attr("data-page"))}).toArray();if(r)t.fadeOut(100,function(){t.remove(),o.remove(),$(document).trigger("pdfPagesDeleted",{pages:i.concat([n])})});else if(t.fadeOut(100,function(){t.remove(),$(document).trigger("pdfPagesDeleted",{pages:[n]})}),o.length>1){var s=$("#deletePagesModal");s.find(".num").text(o.length),s.find(".btn-yes").off("click").on("click",function(){o.each(function(e,t){$(t).fadeOut(100,function(){$(t).remove()})}),setTimeout(function(){$(document).trigger("pdfPagesDeleted",{pages:i})},300)}),s.modal("show")}})),o&&$(document).on("pagesRendered",function(e,t){const n=t.$elem;n.parents("#pagesPickerModal").length>0||(n.find(".pdf-page-wrap").addClass("grabbable"),n.multisortable("instance")&&n.multisortable("destroy"),n.multisortable({items:"> .grabbable",scroll:!0,scrollSensitivity:100,receive:function(e,t){n.find(".empty").hide(),setTimeout(function(){$(document).trigger("renderVisiblePageThumbs")},1e3)},start:function(e,t){if(t.item.hasClass("ui-multisort-grouped")){var a=n.find(".ui-multisort-grouped");a.addClass("dragged").find(".magnified").hide(),a.each(function(e){$(this).attr("data-sort",e)})}else t.item.addClass("dragged").find(".magnified").hide()},stop:function(e,t){if(t.item.removeClass("dragged"),t.item.hasClass("ui-multisort-grouped")){var a=n.find(".ui-multisort-grouped");a.removeClass("dragged");var o=a.not(t.item);o.cloneWithCanvas().insertBefore($(t.item)),o.each(function(){$(this).removeClass("ui-multisort-grouped")}),o.remove();var i=$(n.find(".ui-multisort-grouped").get().reverse());i.each(function(){for(var e=$(this),t=parseInt(e.attr("data-sort")),n=e.prev(".ui-multisort-grouped"),a=parseInt(n.attr("data-sort"));t<a;)e.detach().insertBefore(n),n=e.prev(".ui-multisort-grouped"),a=parseInt(n.attr("data-sort"))}),$(document).trigger("pdfPagesReordered")}}}),n.disableSelection())})}),$(function(){$("#thumbsSizeInput").on("input change",function(e){const t=this.value/150;$(".pdf-page, .pdf-page-number, .image-page").css("width",this.value+"px").css("max-height",Math.round(210*t)+"px"),Sejda.LocalStorage.setItem("thumbnails-size",this.value),$(document).trigger("thumbSizeChanged",{width:this.value})}),$(".thumbs-size-panel .fal").click(function(e){e.preventDefault();const t=$(this),n=$("#thumbsSizeInput");var a=parseInt(n.val());t.hasClass("increase")?a+=10:a-=10,n.val(a).trigger("change")}),$(".thumbs-size-panel [title]").tooltip(tooltipOpts)}),$(function(){const e=$(".can-toggle-view-mode");e.find(".btn").click(function(){const e=$(this).find("input").val();$("body").attr("data-view-mode",e),$(document).trigger("changedViewMode",{mode:e})})}),$(function(){$(document).on("focus","form input",function(e){var t=$(this).attr("name");$('.input-helper[data-for="'+t+'"]').fadeIn()})});const pageLoadDt=new Date;$(function(){$('.input-help [data-toggle="tooltip"]').tooltip(tooltipOpts)}),$(function(){function e(){$(this).text("More options"),a.hide(),$(document).trigger("moreOptionsHidden")}function t(){$(this).text("Fewer options"),a.show(),$(document).trigger("moreOptionsShown"),"batesNumbering"!==o&&"headerFooter"!==o&&"merge"!==o||$("button[type=submit]").scrollHere()}function n(){a.is(":visible")?e():t()}const a=$(".more-options"),o=task();$(".btn-more-options").click(function(){n()}),$(document).on("hideMoreOptions",function(){e()})});var Files=function(){function e(e){e.reuploaded&&(r=_.filter(r,function(e){return e.id!=e.reuploadedId})),r.push(e)}function t(e){return _.find(r,function(t){return t.id==e})}function n(e){return _.find(r,function(t){return t.counter==e})}function a(e){var t=n(parseInt(e));return t?t.id:void 0}function o(e){if(e.length<=1)return e;var n=_.map(e,function(e){return t(e)});return n=n.sort(function(e,t){return naturalSort(e.name,t.name)}),_.map(n,function(e){return e.id})}function i(){return _.map(r,function(e){return"["+e.id+","+e.counter+","+e.name+"]"}).join(",")}var r=[];return{add:e,byId:t,idByCounter:a,naturalSorted:o,debug:i}}();Sejda.ReorderFilesModal=function(){var e={},t=$(".task-form"),n=$("#reorderFilesList"),a=$("#reorderFilesPrompt");return e.showModal=function(){n.find("li").remove();var e=t.find('[name="files[]"]').toArray();a.find(".modal-title").text(e.length+" files selected - Drag to reorder"),e.forEach(function(e){var t=$(e).val(),a=Files.byId(t),o=$('<li><i class="fal fa-file"></i><span class="filename"></span></li>');o.find(".filename").text(a.name),o.attr("data-id",t),n.append(o)}),t.find('[name="filesNaturalSorted"]').remove(),t.append('<input type="hidden" name="filesNaturalSorted" value="false">'),n.sortable(),n.on("sortupdate",function(){n.find("li").each(function(){var e=$(this),n=e.attr("data-id");t.find('[name="files[]"][value="'+n+'"]').remove(),t.append('<input type="hidden" name="files[]" value="'+n+'">')})}),a.modal("show")},$(document).on("click","#pdf-files-summary-wrap.multiple span",function(){e.showModal()}),e}(),$(function(){Sejda.WaitCountdownClock=function(){function e(e){return("0"+e).slice(-2)}var t=$("#wait-countdown-clock"),n=0,a=0;return this.start=function(o,i){clearInterval(a),n=Date.now()+1e3*o,a=setInterval(function(){var o=Math.max(0,Math.round((n-Date.now())/1e3)),r=Math.floor(o/3600),s=Math.floor((o-3600*r)/60),l=o-3600*r-60*s;t.text([e(r),e(s),e(l)].join(":")),o<=0&&(i(),clearInterval(a))},1e3)},this}(),$(document).on("fileUploadDone",function(e,t){if("task-file"===t.scope){var n=$(".task-form");t.reuploaded&&(n.find('[name="files[]"][value="'+t.reuploadedId+'"]').remove(),Analytics.trackNoPushEvent("file","reuploaded"));var a=n.find('[name="files[]"]').length;if(1===a&&canMultiple()===!1)return void console.log("Rejecting multiple files, not allowed");n.append('<input type="hidden" name="files[]" value="'+t.id+'">'),Files.add(t)}}),$(document).on("fileUploadFailed",function(e,t){function n(){var e=$('[data-file-counter="'+t.counter+'"]'),n=e.parent(".pdf-file-item-wrap");e.remove(),n.remove()}n(),setTimeout(function(){n()},2e3)});var e=null;$("form.task-form").submit(function(t){function n(){s.removeAttr("disabled").find(".fa-spinner").remove()}function a(e,t,a){showAlert(e),t&&a&&Analytics.trackEvent("taskSubmitFailed",t,a),n()}function o(){var e=r.serializeJSON({parseAll:!0});if(e.files=_.filter(e.files,function(e){return null!=e}),!("htmlToPdf"==l||"undefined"==typeof PdfFiles||e.files&&e.files.length))return showAlert("Uploads failed or no input files provided. Please try uploading again."),n(),void Analytics.trackEvent("taskSubmitFailed","No files",l);if(e.files=e.files||[],e.filesNaturalSorted!==!1&&(e.files=Files.naturalSorted(e.files)),delete e.filesNaturalSorted,"splitByPages"==e.type){if(e.step=$("#splitStep").val(),""==e.pages)return showAlert("Please select pages to split."),n(),void Analytics.trackEvent("taskSubmitFailed","No pages",l);e.specificResultFilenames=[],$(".pdf-page-wrap.selected").each(function(){var t=$(this).attr("data-result-filename")||"";e.specificResultFilenames.push(t)})}if("merge"===e.type)if("file"===e.mode){if(e.files=[],e.images=[],e.rotations=[],$("#pdf-canvas-list2").find(".pdf-page-wrap").each(function(t,n){const a=$(this),o=Files.idByCounter(a.attr("data-file-counter"));e.files[t]=o,e.rotations[t]=$(this).attr("data-rotation")||0;const i=a.attr("data-filename");i.toLowerCase().endsWith(".pdf")||e.images.push(o)}),e.files=_.filter(e.files,function(e){return null!=e}),0===e.files.length)return showAlert("Uploads failed or no input files provided. Please try uploading again."),n(),void Analytics.trackEvent("taskSubmitFailed","No files",l)}else if("page"===e.mode){e.type="combineReorder",e.images=[],e.files.forEach(function(t){const n=Files.byId(t);n.name.toLowerCase().endsWith(".pdf")||e.images.push(t)}),e.filePages=[];var t=[];if($("#pdf-canvas-list").find(".pdf-page-wrap").each(function(n,a){var o=$(this).attr("data-file-counter"),i=$(this).attr("data-filename"),r=$(a),s=e.files.indexOf(Files.idByCounter(o)),l=r.attr("data-page"),u=r.attr("data-rotation")||0;"blank_page"===i?e.filePages[n]="-1:-1:"+u:s>=0&&"undefined"!=typeof l?e.filePages[n]=s+":"+l+":"+u:t.push(o)}),t.length>0)return $("#pdf-canvas-list").find(".pdf-page-wrap").each(function(e,n){var a=$(this).attr("data-file-counter");t.includes(a)&&$(n).remove()}),showAlert("Some documents failed to upload, removing from your selection. Please review and try again."),n(),void Analytics.trackEvent("taskSubmitFailed","File missing",l);if(0===e.filePages.length)return showAlert("No pages. Please, add at least one page."),n(),void Analytics.trackEvent("taskSubmitFailed","No pages",l)}if("compress"==e.type&&Sejda.Workflows.inWorkflow()&&(e.failIfOutputSizeNotReduced=!1),"alternateMix"==e.type&&(e.files=[],e.step=[],e.reverse=[],e.repeat=[],$(".pdf-file-item").each(function(t,n){var a=$(this);e.files[t]=Files.idByCounter(a.attr("data-file-counter")),e.reverse[t]=a.find('.active [name="reverse"]').val(),e.step[t]=a.find('[name="step[]"]').val(),e.repeat[t]="true"===a.attr("data-repeat")}),e.files.length<2))return showAlert("Need at least 2 files in order to alternate & mix them."),Analytics.trackEvent("taskSubmitFailed","Not enough files",l),void n();if("extractPages"==e.type&&$(".predefined-pages-selector.active").each(function(t,n){
e.pages=$(this).find("input[type=radio]").val()}),"combineReorder"==e.type&&(e.filePages=[],$("#pdf-canvas-list").find(".pdf-page-wrap").each(function(t,n){var a=$(this).attr("data-file-counter"),o=$(this).attr("data-filename"),i=e.files.indexOf(Files.idByCounter(a)),r=$(n).attr("data-page"),s=$(n).attr("data-rotation")||0;"blank_page"==o?e.filePages[t]="-1:-1:"+s:i>=0&&"undefined"!=typeof r?e.filePages[t]=i+":"+r+":"+s:(e.filePages[t]="??"+o+":"+r+":"+s+":"+Files.debug()+";;;"+Analytics.events(),Raven.captureMessage("Invalid files combine reorder"))}),0==e.filePages.length))return showAlert("No pages. Please, add at least one page."),n(),void Analytics.trackEvent("taskSubmitFailed","No pages",l);if("splitByBookmarks"==e.type&&($("#bookmarksLevelSelector").find(".active input").each(function(t,n){e.bookmarksLevel=$(n).val()}),!e.bookmarksLevel))return showAlert("No bookmarks level selected.","warning"),void n();if("splitByText"==e.type&&""==e.area.x)return showAlert("Please select the page area based on which to split.","warning"),void n();if("rotatePages"===e.type&&(e.pageRotationsPerSource=[],$(".pdf-page-wrap[data-rotation]").each(function(t,n){const a=$(this).attr("data-file-counter"),o=e.files.indexOf(Files.idByCounter(a)),i=$(n),r=parseInt(i.attr("data-page")),s=parseInt(i.attr("data-rotation"));0!==s&&e.pageRotationsPerSource.push(o+":"+r+":"+s)}),0===e.pageRotationsPerSource.length))return showAlert("Please select pages to rotate"),Analytics.trackEvent("taskSubmitFailed","No pages rotated",l),void n();if("crop"===e.type&&e.autoCropMode&&"none"===e.autoCropMode){var o=JSON.tryParse($("#wrap0").attr("data-area")),i=JSON.tryParse($("#wrap00").attr("data-area"));if(i&&o&&i.top&&o.top?(e.oddArea=o,e.evenArea=i):o&&o.top?e.area=o:$(".page-wrap").each(function(){if("wrap0"!==this.id){var t=$(this),n=parseInt(t.attr("data-page-num")),a=JSON.tryParse($(this).attr("data-area"));a&&a.top&&!Number.isNaN(n)&&(e.pageAreas=e.pageAreas||{},e.pageAreas[n]=a)}}),!(o&&0!==o.length||e.pageAreas&&0!==e.pageAreas.length))return showAlert("Please select area to crop."),void n()}if("pdfToImage"==e.type&&"true"==e.allPages&&(e.pages="1-"),"edit"!==e.type&&"fillSign"!==e.type||(_.each(["appendTextOperations","editTextOperations","imageOperations","shapeOperations","insertPageOperations","deletePageOperations","highlightTextOperations","editHighlightOperations","deleteHighlightOperations","appendLinkOperations","editLinkOperations","deleteLinkOperations","formValues","appendFormFieldOperations","deleteFormFieldOperations","appendDraw","deleteImageOperations","formWidgets"],function(t){e[t]=_.map(e[t],function(e){return JSON.parse(e)})}),e.formValues=e.formValues[0],e.formWidgets=e.formWidgets[0]),"watermark"==e.type){var u=JSON.parse(e.jsonData);delete e.jsonData,_.extend(e,u)}if("pdfToExcel"==e.type){_.each(["tables"],function(t){e[t]=_.map(e[t],function(e){return JSON.parse(e)})});var d=e.tables;if(!d||0==d.length)return a("No tabular data was detected in the PDF document","No tabular data",l)}if("jpgToPdf"===e.type&&(e.files=[],e.rotations=[],$(".pdf-page-wrap").each(function(t,n){var a=$(this);e.files[t]=Files.idByCounter(a.attr("data-file-counter")),e.rotations[t]=a.attr("data-rotation")||0}),0===e.files.length))return showAlert("No images selected to convert."),n(),void Analytics.trackEvent("taskSubmitFailed","No images selected",l);if("htmlToPdf"==e.type){var c=$(".active [data-toggle=tab]").attr("href");switch(c){case"#byHtmlFile":if(delete e.urls,delete e.htmlCode,0==e.files.length)return showAlert("Uploads failed or no input files provided. Please try uploading again."),n(),void Analytics.trackEvent("taskSubmitFailed","No files",l);break;case"#byUrls":delete e.htmlCode,delete e.files;break;case"#byHtmlCode":delete e.urls,delete e.files}""==e.viewportWidth&&(e.viewportWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0)),e.urls&&(e.scrollPage=!0),e["save-link"]===!1&&delete e["save-link"]}if("encrypt"===e.type&&(e.userPassword=$("#userPassword").val(),e.ownerPassword=$("#ownerPassword").val()),"editMetadata"==e.type){var f={};Object.keys(e).forEach(function(t){t.startsWith("metadata.")&&delete e[t]}),r.find("input[type=text]").each(function(e,t){var n=$(t);if(!n.parents(".form-group").hasClass("collapsed")){var a=n.attr("name"),o=n.val()||"";if(a.startsWith("metadata.")){var i=a.substring(9);f[i]=o}}});for(var p=Object.entries(f),g=0;g<p.length;g++){var h=p[g][0],m=p[g][1];if(("CreationDate"===h||"ModDate"===h)&&m){var v=!0;10===m.length&&(m+=", 00:00:00",f[h]=m),20!==m.length&&(v=!1),"/"!==m.substr(2,1)&&"/"!==m.substr(4,1)&&(v=!1),","!==m.substr(10,1)&&" "!==m.substr(11,1)&&(v=!1),":"!==m.substr(16,1)&&":"!==m.substr(17,1)&&(v=!1);var w=m.substr(0,2),y=m.substr(3,2),k=m.substr(6,4),F=m.substr(12,2),b=m.substr(15,2),A=m.substr(18,2),C=k+"-"+y+"-"+w+"T"+F+":"+b+":"+A,S=new Date(C);if(S&&!isNaN(S.getTime())||(v=!1),v===!1)return showAlert("Invalid field: "+h+". Use format: 13/04/2021, 23:53:41"),void n();f[h]=S.getTime()}}e.metadata=f}if("renameByText"===e.type){if(e.areas=JSON.tryParse(e.areas),0===e.renamePattern.trim().length)return showAlert("Rename pattern is missing"),void n();if(0===e.areas.length)return showAlert("No text areas have been defined"),void n()}if("editBookmarks"===e.type){var u=JSON.parse(e.jsonData);delete e.jsonData,_.extend(e,u)}e.userAgent=navigator.userAgent,e.cvts=(((new Date).getTime()-pageLoadDt.getTime())/1e3/60).toFixed(2),e.pdfjs=Sejda.PDFJS.globalBuildVersion(),e.libsCache=$("#libsAndPartialsScript").attr("src").split("/")[2],e.consoleLogs=Sejda.Raven.consoleLogs(),window.Sejda.taskTraceId=window.Sejda.taskTraceId||"tr-"+uuidv4(),e.traceId=window.Sejda.taskTraceId,e.www=$("body").attr("data-www"),e.ipclient=$("body").attr("data-ipclient"),e.promo=$.cookie("promo")||window.Sejda.promo,e.promo&&Analytics.trackEvent("promo",e.promo),window.location.hostname.indexOf("local")>=0&&console.log(JSON.stringify(e,null,2)),"www.sejda.com"!==window.location.hostname&&Analytics.trackEvent("unauthorizedClient",window.location.hostname),navigator.userAgent.includes("wv")&&Analytics.trackEvent("unauthorizedClient",navigator.userAgent),window.lastTask=e,Analytics.trackNoPushEvent("taskSubmit",e.type),$.jsonPost("/api/tasks",e).done(function(e,t,n){var a=e;showResultsModal(a);var o=n.getResponseHeader("X-RateLimit-Remaining");if(o){var i=Math.floor(parseInt(n.getResponseHeader("X-RateLimit-Wait"))/60);$(document).trigger("quota-updates",{remaining:o,waitMinutes:i})}}).fail(function(e,t,a){if(402==e.status){var o=tryJSONparse(e.responseText)||{},i=o.reason||"tasks-per-hour";if("tasks-per-hour"==i){var r=parseInt(e.getResponseHeader("X-RateLimit-Wait"));Sejda.WaitCountdownClock.start(r,function(){hideUpgradePopup(),n()})}showUpgradePopup(i),Analytics.trackEvent("paywall",i,l),$(".top-alert.alert-info").remove(),s.find(".fa-spinner").remove(),setTimeout(function(){s.attr("disabled","disabled")},100)}else if(429===e.status)showAlert("Too many requests, please try again later."),Analytics.trackEvent("taskSubmitFailed","Slow down",l);else if(0===e.status){var i="Could not reach our servers. Check your internet connection and try again.";window.isOffline&&(i="Could not reach our servers. You seem to be offline. Check your internet connection and try again."),showAlert(i),Analytics.trackEvent("taskSubmitFailed","Offline")}else{var i="Something went wrong. Please try again.";400===e.status&&(i=e.responseText||i),showAlert(i),Analytics.trackEvent("taskSubmitFailed","Server rejected",l+" "+e.status+" "+i)}}).always(function(){n()})}function i(){"undefined"!=typeof PdfFiles&&PdfFiles.filesUploading>0?setTimeout(function(){i()},1e3):($(".top-alert.alert-info").hide(),o())}t.preventDefault();var r=$(this),s=r.find('[type="submit"]'),l=$("#task-content").attr("data-task");Analytics.trackNoPushEvent("taskSubmit",l);var u=Date.now();if(null!=e&&e<u&&Math.max(0,u-e)<2e3)return Analytics.trackNoPushEvent("taskSubmitFailed","duplicate",l+" "+u+" "+e),console.error("taskSubmitFailed","duplicate",l+" "+u+" "+e),!1;e=u;var d=runFormValidators($(document));return d?(s.attr("disabled","disabled"),s.prepend('<i class="fal fa-spinner fa-spin"></i>'),"undefined"!=typeof PdfFiles&&PdfFiles.filesUploading>0&&showAlert("Files are still uploading, please wait...","info",!1),i(),!1):(showAlert("Not all inputs are valid (see below). Please correct values and try again.","danger"),void Analytics.trackEvent("taskSubmitFailed","Invalid inputs",l))});var t=["CURRENTPAGE]","BASENAME]","TIMESTAMP]","FILENUMBER]","BOOKMARK_NAME]","BOOKMARK_NAME_STRICT]","TEXT]"];$(document).find('input[type="text"][name="outputFilenamePattern"]').mention({emptyQuery:!0,delimiter:"[",users:_.map(t,function(e){return{username:e}})})}),$(function(){function e(e){o.find("iframe").remove(),o.append('<iframe src="'+e+'" id="taskResultsFrame" name="_results"></iframe>'),o.modal("show")}function t(){o.find("iframe").remove(),o.modal("hide")}function n(){history.pushState("",document.title,window.location.pathname+window.location.search),a()}function a(){var n=window.location.hash||"";if(0==n.indexOf(r)){var a=n.substring(r.length);if(a){var o=taskResultUrl(a);e(o)}}else""!==n&&"#"!==n||t()}var o=$("#taskResultsModal"),i=document.title,r="#results-";o.on("hidden.bs.modal",function(){window.closeResultsFrame(),window.cancelTask(s)}),window.showLoginModal=function(){e("login")},window.closeLoginModal=function(){return window!=window.top?window.top.closeLoginModal():void t()};var s;window.showResultsModal=function(e){s=e,document.title="Task results "+e+" - "+i,document.location.hash=r+e},window.closeResultsFrame=function(e){document.title=i,n(),e===!0&&window.location.reload()},window.cancelTask=function(e){e&&$.post("/api/tasks/"+e+"/cancel")},window.sessionExpiredFromResultsFrame=function(e){Sejda.FileUploadExpirations.showUploadAgainModal(e)},window.addEventListener("hashchange",a),a()}),$(function(){$(".btn-more-options").parent().first("button[type=submit]").addClass("center-due-to-more-options")}),$(function(){"task-file-not-found"==getQueryParameterByName("ref")&&showAlert("File expired","info"),"shared-file-not-found"==getQueryParameterByName("ref")&&showAlert("Shared file expired","info")}),$(function(){function e(){window.noSupportButton=!0,$(".footer-contact-us-wrap").remove(),$(".get-support-btn").remove()}var t=$("#contactForm");$("#contactFormModal").on("shown.bs.modal",function(){$("#contact-msg").val("").focus(),$("#contactSuccess").hide(),t.find("[name=source]").val(window.location.href),t.find("[name=source2]").val(window.parent.location.href),t.find("[name=lastFile]").val(window.parent.lastFileUploadId);try{if(window.parent.Analytics){var e=window.parent.Analytics.events();t.find("[name=events]").val(JSON.stringify(e,null,1))}}catch(e){}try{if(window.parent.Sejda&&window.parent.Sejda.Raven){var n=window.parent.Sejda.Raven.consoleLogs();t.find("[name=consoleLogs]").val(JSON.stringify(n,null,1))}}catch(e){}try{window.parent.lastTask&&$("#contactForm").find("[name=lastTask]").val(JSON.stringify(window.parent.lastTask,null,2))}catch(e){}setTimeout(function(){t.find("[name=suflet]").val("realitate")},3e3)}),t.submit(function(e){e.preventDefault();var n=t.serializeJSON();if(n.allowAccessLastTask||(delete n.lastTask,delete n.lastFile),n.email||confirm("You haven't provided an email address, so we won't be able to respond to your message. Would you like to continue anyway?")){var a=n.message.length>7,o=n.message.trim().split(" ").length>=2,i=t.find("[name=message]");if(!(n.message&&a&&o))return void i.addClass("invalid").focus();i.removeClass("invalid");var r=$("#sendMessageBtn");return r.attr("disabled","disabled"),$.ajax({url:"/contact",method:"POST",data:n}).always(function(){setTimeout(function(){r.removeAttr("disabled")},5e3)}).done(function(){var e=$("#contactSuccess");n.email?e.text("Thank you! We will get in touch soon, usually within 24 hours."):e.text("Thank you for your message."),e.show(),$("#contact-msg").val("")}).fail(function(e){var t="Something went wrong, your message could not be delivered. Please try again or email us at hi@sejda.com";400===e.status&&(t=e.responseText||t,r.removeAttr("disabled")),alert(t)}),!1}});for(var n=Sejda.Utils.getIpCountry(),a=Sejda.Utils.isProUser(),o=!a,i=["IN","BD","ID","LK","PK","CO","BH","ZA"],r=i.indexOf(n)>=0,s=["/repair-pdf"],l=!1,u=0;u<s.length;u++)if(window.location.pathname.indexOf(s[u])>=0){l=!0;break}o&&(l||r)&&e(),$(document).on("removeFreeSupportBtns",function(){o&&e()});var d=$.cookie("partner")||"";(d.contains("espace.portail-cartegrise.fr")||d.contains("espace.declaration-cession.fr"))&&e(),Sejda.AutomatedBugReport=function(){return this.send=function(e){var t={source:window.location.href,source2:window.parent.location.href,lastFile:window.parent.lastFileUploadId,message:e};try{if(window.parent.Analytics){var n=window.parent.Analytics.events();t.events=JSON.stringify(n,null,1)}}catch(e){}try{window.parent.lastTask&&(t.lastTask=JSON.stringify(window.parent.lastTask,null,2))}catch(e){}$.post("/contact",t)},this}()}),$(function(){var e=window.top.location,t=[e.protocol,"//",e.host,e.pathname].join(""),n=$('meta[name="twitter:title"]',window.top.document).attr("content")||window.top.document.title,a=n.indexOf(" - ");a>0&&(n=n.substring(a+3));var o=$('meta[name="twitter:description"]',window.top.document).attr("content")||window.top.document.description,i=[n," ",t," ",o," @SejdaPDF"].join(""),r="https://twitter.com/intent/tweet?text="+encodeURIComponent(i),s=[o,"\n\n",t,"\n\n"].join(""),l=["mailto:?&subject=",encodeURIComponent(n),"&body=",encodeURIComponent(s)].join("");$(".social-list li a").each(function(){var e=$(this).attr("href"),n=e.replace("{url}",encodeURIComponent(t));$(this).attr("href",n)}),$('.social-list li[data-type="twitter"] a').attr("href",r),$('.social-list li[data-type="email"] a').attr("href",l)}),$(function(){$(".share").click(function(){Analytics&&Analytics.trackEvent("share",$(this).attr("data-type"))})}),$(function(){setTimeout(function(){var e=$("#footer-all-tasks"),t=$("li",e).not(".first");t.sort(function(e,t){var n=$(e).text(),a=$(t).text();return n.localeCompare(a)}),$.each(t,function(t,n){e.append(n)})},1e3)});var loaded=0;if($(".pageScripts").each(function(){var e=$(this).attr("data-src");loadScript(e),loaded++}),0===loaded){var page=window.location.pathname.split("/").slice(-1)[0],loadPageJs=""!==page&&"compress-pdf"!==page&&"true"!==$("#content").attr("data-no-page-js");loadPageJs&&loadScript("/js/pages/"+page+".min.js")}(/^www\d+\.sejda\.com$/.test(window.location.host)||"files.sejda.com"===window.location.host||/^downloads\d+\.sejda\.com$/.test(window.location.host)||/^uploads\d+\.sejda\.com$/.test(window.location.host)||/^cf-uploads\d+\.sejda\.com$/.test(window.location.host))&&"true"!==Sejda.LocalStorage.getItem("noRedir")&&window.location.replace(window.location.protocol+"//www.sejda.com"+window.location.pathname+window.location.search+window.location.hash);